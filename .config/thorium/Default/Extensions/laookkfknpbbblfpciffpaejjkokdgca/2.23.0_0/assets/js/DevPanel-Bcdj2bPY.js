import e from"./BaseIcon-CCkbWtl5.js";import{n as t}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{a as r,u as n}from"./devAppsStore-CvoKKut8.js";import{a3 as a,d as i,v as o,V as s,M as l,n as c}from"./dynamic-import-helper-Gh3O-GNF.js";import{A as u}from"./AppLoading-DWsYUtJy.js";import d from"./icon-pin-5KioIhLy.js";import f from"./storage-CP_Lr9ur.js";import p from"./icon-circle-C-H4iUpv.js";import{g as h,c as v}from"./_commonjsHelpers-B3K3fdV-.js";import{e as g,b,u as y}from"./onboarding-BnjvsMNe.js";import w from"./modalDevPanelManager-Kr-BHTcy.js";import k from"./icon-alert-BikrS7AG.js";import{S as C}from"./Slider-Ad2U5Vve.js";import{V as _}from"./ViewManager-BWI3HxCS.js";import x from"./ItemList-BdDtkV-7.js";import{i as A,b as I}from"./itemCollectionMixins-DFratNST.js";import"./VueBase-CYtBAh2Z.js";import{d as S}from"./itemDataServiceMixins-D2Ei-6Hc.js";import j from"./EditForm-DA1xHcUr.js";import M from"./icon-cog-DRff0NFq.js";import P from"./icon-log-in-M7aDBZqk.js";import T from"./ViewContainer-CL5ybQOQ.js";import E from"./icon-plus-B-FkYz15.js";import D from"./icon-trash-BSyM-ydR.js";import N from"./icon-close-DRlspKs3.js";import"./main-DaaZyiXy.js";import"./array-YYQw31d9.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./main-ChYjTKCw.js";import"./linksViewState-CPrg2xTk.js";import"./ViewState-CalcjAWV.js";import"./appZStack-CXXM5U-T.js";import"./constants-u23t4s7p.js";import"./links-B4VEy3PA.js";import"./compareObjects-BF7sSNEf.js";import"./pinia-CCjyjLnb.js";import"./notesViewState-kJYpvydx.js";import"./notes-BX0QKVH3.js";import"./constants-CALDQiUE.js";import"./focusModeInsightsViewState-C6w2d_Pg.js";import"./enums-Cgv4i8uw.js";import"./helpers-DBbhml_y.js";import"./TabLeaderElection-8EqWBm0z.js";import"./focusModeState-D4CLHiD7.js";import"./LocalStorageStoreSyncedItem-CtVH-muf.js";import"./onboarding-Bdvt2O8-.js";import"./modal-DNJEx5xp.js";import"./SubscriptionSummary-RRqVWeCc.js";import"./persistStore-7VuxlznA.js";import"./reactiveCustomization-CaJFMm70.js";import"./ClickOutside-DCLvi2fj.js";import"./portal-vue.esm-BTKM9g0x.js";import"./constants-BfBD_H-d.js";import"./authService-DSVbm6Rd.js";import"./auth-D2YAhF74.js";import"./legacyUserMigration-DJj0rzI-.js";import"./migrateLegacyUserMessageHandler-FH_m4diU.js";import"./login-kENE0gaj.js";import"./icon-confetti-BvRSomF2.js";import"./focusModeHelpers-CbYS8k-X.js";import"./PomodoroTimers-CyrfcuWH.js";import"./experiments-C9Yd4CP-.js";import"./siteBlockerGroups-9WPnbAn4.js";import"./constants-Dqx3dGLK.js";import"./SettingsTypes-BotgHBzA.js";import"./accessToken-tlcZZvow.js";import"./tasksMockData-Co81Ft0X.js";import"./tasksViewState-DusFQxW4.js";import"./globalKeyEventManager-DTQSIy-h.js";import"./viewTransitionHooksMixin-CPPAEiBl.js";import"./namesMixin-vAeWzg7C.js";import"./EditField-CijsyFfw.js";import"./icon-tooltip-D4TzAUBN.js";import"./SoftFocus-BUhesXB-.js";import"./FormToggle-h8Me6KUc.js";import"./FormFieldWrapper-CrSgQOtf.js";import"./ToggleSwitch-BMo4SbmD.js";import"./BaseDropdown-x2dYnnCF.js";import"./BaseDropdownContent-DpVJFI_8.js";import"./index-C2sSf61p.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./FormMessage-D8y-6rLo.js";import"./SmoothReflow-44YdkIfk.js";import"./ResizeSensor-ZXOsDHeC.js";import"./allComponentsMounted-Dqy5K4Uf.js";import"./icon-back-D7vBl-rG.js";const O=t({name:"DevNav",components:{BaseIcon:e},props:{activeTabId:{type:String,default:"Notification"},tabs:{type:Array,required:!0},dropdownActive:{type:Boolean,default:!1}},methods:{goToTab(e){this.$emit("update:dropdownActive",!1),this.$emit("goToTab",e)}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-nav"},[t("div",{staticClass:"nav-active",on:{click:function(t){return e.$emit("update:dropdownActive",!e.dropdownActive)}}},[e._v(" "+e._s(e.activeTabId)+" "),t("base-icon",{attrs:{src:"chevron-down",size:"11px"}})],1),e.dropdownActive?t("div",{staticClass:"nav-dropdown"},e._l(e.tabs,(function(r,n){return t("div",{key:n,staticClass:"nav-item",class:{active:e.activeTabId===r.name},on:{click:function(t){return t.stopPropagation(),e.goToTab(r.name)}}},[e._v(" "+e._s(r.name)+" ")])})),0):e._e()])}),[],!1,null,"4a711586").exports;const $=t({name:"DevApps",components:{AppLoading:u},unreactive:()=>({apps:r,singleClicked:!1}),computed:{...a(n)},created(){Object.values(r).forEach((e=>e.refresh()))},methods:{camelCaseToReadable:i.camelCaseToReadable,onViewClick(e,t){const r=this.getSelectedItem(e,t);this.singleClicked?this.togglePinned(e,t,r):(this.devAppsStore.openView(e,t,r),this.singleClicked=!0,setTimeout((()=>this.singleClicked=!1),500))},onSelectChange(e,t){const r=this.getSelectedItem(e,t);this.isPinned(e,t)&&this.devAppsStore.pinApp(e,t,r),this.devAppsStore.openView(e,t,r)},togglePinned(e,t,r){this.isPinned(e,t)?this.devAppsStore.clearPinned():this.devAppsStore.pinApp(e,t,r)},isPinned(e,t){return this.devAppsStore.pinned.appId===e&&this.devAppsStore.pinned.viewId===t},isActive:(e,t)=>r[e].views[t].isActive(),getSelectedItem(e,t){var r;return null==(r=this.devAppsStore.selectedItems[e])?void 0:r[t]}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-apps"},[t("transition",{attrs:{name:"fade",duration:"100",mode:"out-in"}},[e.devAppsStore.loaded?t("div",{staticClass:"dev-apps-list"},e._l(e.apps,(function(r,n){return t("div",{key:n,staticClass:"dev-app"},[t("label",[e._v(e._s(e.camelCaseToReadable(n)))]),t("div",{staticClass:"dev-views"},e._l(r.views,(function(r,a){return t("div",{key:a,staticClass:"dev-view",class:{active:e.isActive(n,a),pinned:e.isPinned(n,a)},on:{click:function(t){return e.onViewClick(n,a)}}},[t("div",{staticClass:"title"},[e._v(e._s(e.camelCaseToReadable(a)))]),r.selectableItems&&Object.keys(r.selectableItems()).length?t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.devAppsStore.selectedItems[n][a],expression:"devAppsStore.selectedItems[appId][viewId]"}],staticClass:"items",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.devAppsStore.selectedItems[n],a,t.target.multiple?r:r[0])},function(t){return e.onSelectChange(n,a)}],click:function(e){e.stopPropagation()}}},e._l(r.selectableItems(),(function(r){return t("option",{key:r.id,domProps:{value:r.id}},[e._v(e._s(r.name))])})),0)]):e._e(),t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:d}})],1)})),0)])})),0):t("app-loading")],1),t("div",{staticClass:"button clear-pinned",on:{click:e.devAppsStore.clearPinned}},[e._v("Clear Pinned")])],1)}),[],!1,null,"cdd0b7c3").exports;var L="https://api.momentumdash.com/",B="https://account.momentumdash.com/",G="https://www.momentumdash.com/",F="2.23.0",q="production";const z=t({name:"DevInfo",setup:()=>({email:m.isLoggedIn()?localStorage.getItem("email"):"(anonymous)",version:F,mode:q}),computed:{serverInfo:()=>`urlRootApi: ${L}\nurlRootAccount: ${B}\nurlRootMarketing: ${G}`},methods:{clearStorage(){m.utils.clearStorage()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-info"},[t("div",{staticClass:"dev-info-item clear-ls",attrs:{title:"Clear Local Storage"},on:{click:e.clearStorage}},[t("inline-svg",{staticClass:"icon",attrs:{src:f}})],1),t("span",{staticClass:"dev-info-item badge",attrs:{title:e.serverInfo}},[e._v(e._s(e.mode))]),e.$team?t("span",{staticClass:"dev-info-item badge badge-team"},[e._v("TEAM")]):e.$plus?t("span",{staticClass:"dev-info-item badge badge-plus"},[e._v("PLUS")]):e._e(),t("span",{staticClass:"dev-info-item email",attrs:{title:e.email}},[e._v(e._s(e.email))])])}),[],!1,null,"c018eda1").exports;const R=t({name:"Features",data:()=>({dropdownOpened:!1,selectedFeatureType:"Notification",notificationType:"",fields:[{id:"title",type:"input",label:"Title",placeholder:"Title",value:"🎉 New from Momentum: Focus Sessions!"},{id:"message",type:"input",label:"Description",placeholder:"",value:"Live facilitator-led focus sessions to help you overcome distraction and complete your #1 thing every day."},{id:"cta_text",type:"input",label:"Button Text",placeholder:"(Optional)",value:"Check it out"},{id:"cta_cmd",type:"input",label:"Button Url",placeholder:"(Optional)",value:"https://momentumdash.com/plus"},{id:"secondary_text",type:"input",label:"Secondary Button Text",placeholder:"(Optional)",value:"Learn more"},{id:"secondary_cmd",type:"input",label:"Secondary Button Url",placeholder:"(Optional)",value:"https://momentumdash.com/plus"},{id:"image_url",type:"input",label:"Image URL",placeholder:"(Optional)",value:"https://i.giphy.com/media/UO5elnTqo4vSg/giphy.webp"},{id:"targetArea",type:"input",label:"Target Area",placeholder:"(Optional)",value:""},{id:"notification_type",type:"toggle",label:"Team",value:!1},{id:"image_has_white_background",type:"toggle",label:"Image has white background",value:!1}]}),watch:{fields:{handler:function(){let e=this.fields.find((e=>"notification_type"==e.id));e&&!0===e.value?this.notificationType="team":this.notificationType=""},deep:!0}},methods:{handleToggle(e){let t=this.fields.find((t=>t.id==e));t&&(t.value=!t.value)},showOnDashboard(){let e={};this.fields.forEach((t=>e[t.id]=t.value)),m.commandManager.execute("notification.show.enhanced",Object.assign(e,{views:0,visible:!0,notification_type:this.notificationType}))}}},(function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"feature-block"},[e._l(e.fields,(function(r,n){return t("div",{key:n,staticClass:"feature-fields"},["toggle"!=r.type?t("label",{staticClass:"field-label"},[e._v(e._s(r.label))]):e._e(),"input"===r.type?t("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.value,expression:"field.value",modifiers:{trim:!0}}],attrs:{name:r.label,placeholder:r.placeholder,type:"text"},domProps:{value:r.value},on:{input:function(t){t.target.composing||e.$set(r,"value",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),"toggle"==r.type?t("div",{staticClass:"toggle-wrapper",class:{on:r.value},on:{click:function(t){return e.handleToggle(r.id)}}},[t("span",{staticClass:"toggle-label"},[e._v(e._s(r.label))]),t("span",{staticClass:"toggle-slider"},[t("inline-svg",{staticClass:"toggle-switch",attrs:{src:p}})],1)]):e._e()])})),t("span",{staticClass:"button button-show",on:{click:e.showOnDashboard}},[e._v("Show")])],2)])}),[],!1,null,"484364ea").exports,V=e=>+e.toFixed(10),K=(e,t)=>({x:V(e),y:V(t)}),U=e=>{return(t=e,t.slice(t.indexOf("(")+1,t.lastIndexOf(")")).split(",").map((e=>e.trim())).filter((e=>""!==e))).map((e=>(e=>Number.isNaN(Number(e))?e:Number(e))(e)));var t};function Y(e,t,r){return(1-e)*(1-e)*(1-e)*0+(1-e)*(1-e)*3*e*t+3*(1-e)*(e*e)*r+e*e*e*1}const H={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"};function W(e,t){const r=`Error parsing "${e}".`;if(H[e]&&(e=H[e]),e.includes("steps(")){const t=U(e),[n,a]=t;if(t.length<1||t.length>2)throw new Error(`${r} Got ${t.length} arguments but expected 1 or 2.`);if("number"!=typeof t[0])throw new Error(`${r} "${t[0]}" is not a number.`);if(2===t.length&&"string"!=typeof t[1])throw new Error(`${r} "${t[1]}" is not a string.`);return function(e,t="skip-end"){const r=[];let n=0;for(;n<e;){const a=n/e,i=(n+1)/e;let o;if("skip-none"===t)o=n/(e-1);else if("skip-both"===t)o=(n+1)/(e+1);else if("skip-start"===t||"start"===t)o=(n+1)/e;else{if("skip-end"!==t&&"end"!==t)throw new Error(`Error can't recognise step skip "${t}"`);o=n/e}r.push(K(a,o)),r.push(K(i,o)),++n}return r}(n,a)}if(e.includes("cubic-bezier(")){const n=U(e),[a,i,o,s]=n;if(4!==n.length)throw new Error(`${r} Got ${n.length} arguments but expected 4.`);return n.forEach((e=>{if("number"!=typeof e)throw new Error(`${r} "${e}" is not a number.`)})),function(e,t,r,n,a=10){const i=1/a;let o=[];for(let s=0;s<=1;s+=i)o.push({x:Y(s,e,r),y:Y(s,t,n)});return o.map((e=>K(e.x,e.y)))}(a,i,o,s,t)}throw new Error(`${r} If not a typo then please create a GitHub issue :)`)}var Z,Q,X,J,ee,te,re,ne,ae,ie;function oe(){if(ne)return re;ne=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),r=".".charCodeAt(0),n="e".charCodeAt(0),a="E".charCodeAt(0);return re=function(i){var o,s,l,c=0,u=i.length;if(0===u||!function(n){var a,i=n.charCodeAt(0);if(i===t||i===e){if((a=n.charCodeAt(1))>=48&&a<=57)return!0;var o=n.charCodeAt(2);return a===r&&o>=48&&o<=57}return i===r?(a=n.charCodeAt(1))>=48&&a<=57:i>=48&&i<=57}(i))return!1;for((o=i.charCodeAt(c))!==t&&o!==e||c++;c<u&&!((o=i.charCodeAt(c))<48||o>57);)c+=1;if(o=i.charCodeAt(c),s=i.charCodeAt(c+1),o===r&&s>=48&&s<=57)for(c+=2;c<u&&!((o=i.charCodeAt(c))<48||o>57);)c+=1;if(o=i.charCodeAt(c),s=i.charCodeAt(c+1),l=i.charCodeAt(c+2),(o===n||o===a)&&(s>=48&&s<=57||(s===t||s===e)&&l>=48&&l<=57))for(c+=s===t||s===e?3:2;c<u&&!((o=i.charCodeAt(c))<48||o>57);)c+=1;return{number:i.slice(0,c),unit:i.slice(c)}}}const se=h(function(){if(ie)return ae;ie=1;var e=function(){if(Q)return Z;Q=1;var e="(".charCodeAt(0),t=")".charCodeAt(0),r="'".charCodeAt(0),n='"'.charCodeAt(0),a="\\".charCodeAt(0),i="/".charCodeAt(0),o=",".charCodeAt(0),s=":".charCodeAt(0),l="*".charCodeAt(0),c="u".charCodeAt(0),u="U".charCodeAt(0),d="+".charCodeAt(0),f=/^[a-f0-9?-]+$/i;return Z=function(p){for(var h,m,v,g,b,y,w,k,C,_=[],x=p,A=0,I=x.charCodeAt(A),S=x.length,j=[{nodes:_}],M=0,P="",T="",E="";A<S;)if(I<=32){h=A;do{h+=1,I=x.charCodeAt(h)}while(I<=32);g=x.slice(A,h),v=_[_.length-1],I===t&&M?E=g:v&&"div"===v.type?(v.after=g,v.sourceEndIndex+=g.length):I===o||I===s||I===i&&x.charCodeAt(h+1)!==l&&(!C||C&&"function"===C.type&&"calc"!==C.value)?T=g:_.push({type:"space",sourceIndex:A,sourceEndIndex:h,value:g}),A=h}else if(I===r||I===n){h=A,g={type:"string",sourceIndex:A,quote:m=I===r?"'":'"'};do{if(b=!1,~(h=x.indexOf(m,h+1)))for(y=h;x.charCodeAt(y-1)===a;)y-=1,b=!b;else h=(x+=m).length-1,g.unclosed=!0}while(b);g.value=x.slice(A+1,h),g.sourceEndIndex=g.unclosed?h:h+1,_.push(g),A=h+1,I=x.charCodeAt(A)}else if(I===i&&x.charCodeAt(A+1)===l)g={type:"comment",sourceIndex:A,sourceEndIndex:(h=x.indexOf("*/",A))+2},-1===h&&(g.unclosed=!0,h=x.length,g.sourceEndIndex=h),g.value=x.slice(A+2,h),_.push(g),A=h+2,I=x.charCodeAt(A);else if(I!==i&&I!==l||!C||"function"!==C.type||"calc"!==C.value)if(I===i||I===o||I===s)g=x[A],_.push({type:"div",sourceIndex:A-T.length,sourceEndIndex:A+g.length,value:g,before:T,after:""}),T="",A+=1,I=x.charCodeAt(A);else if(e===I){h=A;do{h+=1,I=x.charCodeAt(h)}while(I<=32);if(k=A,g={type:"function",sourceIndex:A-P.length,value:P,before:x.slice(k+1,h)},A=h,"url"===P&&I!==r&&I!==n){h-=1;do{if(b=!1,~(h=x.indexOf(")",h+1)))for(y=h;x.charCodeAt(y-1)===a;)y-=1,b=!b;else h=(x+=")").length-1,g.unclosed=!0}while(b);w=h;do{w-=1,I=x.charCodeAt(w)}while(I<=32);k<w?(g.nodes=A!==w+1?[{type:"word",sourceIndex:A,sourceEndIndex:w+1,value:x.slice(A,w+1)}]:[],g.unclosed&&w+1!==h?(g.after="",g.nodes.push({type:"space",sourceIndex:w+1,sourceEndIndex:h,value:x.slice(w+1,h)})):(g.after=x.slice(w+1,h),g.sourceEndIndex=h)):(g.after="",g.nodes=[]),A=h+1,g.sourceEndIndex=g.unclosed?h:A,I=x.charCodeAt(A),_.push(g)}else M+=1,g.after="",g.sourceEndIndex=A+1,_.push(g),j.push(g),_=g.nodes=[],C=g;P=""}else if(t===I&&M)A+=1,I=x.charCodeAt(A),C.after=E,C.sourceEndIndex+=E.length,E="",M-=1,j[j.length-1].sourceEndIndex=A,j.pop(),_=(C=j[M]).nodes;else{h=A;do{I===a&&(h+=1),h+=1,I=x.charCodeAt(h)}while(h<S&&!(I<=32||I===r||I===n||I===o||I===s||I===i||I===e||I===l&&C&&"function"===C.type&&"calc"===C.value||I===i&&"function"===C.type&&"calc"===C.value||I===t&&M));g=x.slice(A,h),e===I?P=g:c!==g.charCodeAt(0)&&u!==g.charCodeAt(0)||d!==g.charCodeAt(1)||!f.test(g.slice(2))?_.push({type:"word",sourceIndex:A,sourceEndIndex:h,value:g}):_.push({type:"unicode-range",sourceIndex:A,sourceEndIndex:h,value:g}),A=h}else g=x[A],_.push({type:"word",sourceIndex:A-T.length,sourceEndIndex:A+g.length,value:g}),A+=1,I=x.charCodeAt(A);for(A=j.length-1;A;A-=1)j[A].unclosed=!0,j[A].sourceEndIndex=x.length;return j[0].nodes}}(),t=J?X:(J=1,X=function e(t,r,n){var a,i,o,s;for(a=0,i=t.length;a<i;a+=1)o=t[a],n||(s=r(o,a,t)),!1!==s&&"function"===o.type&&Array.isArray(o.nodes)&&e(o.nodes,r,n),n&&r(o,a,t)}),r=function(){if(te)return ee;function e(e,r){var n,a,i=e.type,o=e.value;return r&&void 0!==(a=r(e))?a:"word"===i||"space"===i?o:"string"===i?(n=e.quote||"")+o+(e.unclosed?"":n):"comment"===i?"/*"+o+(e.unclosed?"":"*/"):"div"===i?(e.before||"")+o+(e.after||""):Array.isArray(e.nodes)?(n=t(e.nodes,r),"function"!==i?n:o+"("+(e.before||"")+n+(e.after||"")+(e.unclosed?"":")")):o}function t(t,r){var n,a;if(Array.isArray(t)){for(n="",a=t.length-1;~a;a-=1)n=e(t[a],r)+n;return n}return e(t,r)}return te=1,ee=t}();function n(t){return this instanceof n?(this.nodes=e(t),this):new n(t)}return n.prototype.toString=function(){return Array.isArray(this.nodes)?r(this.nodes):""},n.prototype.walk=function(e,r){return t(this.nodes,e,r),this},n.unit=oe(),n.walk=t,n.stringify=r,ae=n}());var le,ce={exports:{}};
/**
* chroma.js - JavaScript library for color conversions
*
* Copyright (c) 2011-2019, Gregor Aisch
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are met:
*
* 1. Redistributions of source code must retain the above copyright notice, this
* list of conditions and the following disclaimer.
*
* 2. Redistributions in binary form must reproduce the above copyright notice,
* this list of conditions and the following disclaimer in the documentation
* and/or other materials provided with the distribution.
*
* 3. The name Gregor Aisch may not be used to endorse or promote products
* derived from this software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
* DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
* INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
* BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
* EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*
* -------------------------------------------------------
*
* chroma.js includes colors from colorbrewer2.org, which are released under
* the following license:
*
* Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
* and The Pennsylvania State University.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
* either express or implied. See the License for the specific
* language governing permissions and limitations under the License.
*
* ------------------------------------------------------
*
* Named colors are taken from X11 Color Names.
* http://www.w3.org/TR/css3-color/#svg-color
*
* @preserve
*/const ue=h((le||(le=1,ce.exports=function(){for(var e=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e<t?t:e>r?r:e},t=e,r=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=t(e[r],0,255)):3===r&&(e[r]=t(e[r],0,1));return e},n={},a=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<i.length;a+=1){var o=i[a];n["[object "+o+"]"]=o.toLowerCase()}var s=function(e){return n[Object.prototype.toString.call(e)]||"object"},l=s,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},u=s,d=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==u(e[t])?e[t].toLowerCase():null},f=Math.PI,p={clip_rgb:r,limit:e,type:s,unpack:c,last:d,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},h={format:{},autodetect:[]},m=p.last,v=p.clip_rgb,g=p.type,b=h,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this;if("object"===g(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=m(e),a=!1;if(!n){a=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(e,t){return t.p-e.p})),b.sorted=!0);for(var i=0,o=b.autodetect;i<o.length;i+=1){var s=o[i];if(n=s.test.apply(s,e))break}}if(!b.format[n])throw new Error("unknown format: "+e);var l=b.format[n].apply(null,a?e:e.slice(0,-1));r._rgb=v(l),3===r._rgb.length&&r._rgb.push(1)};y.prototype.toString=function(){return"function"==g(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=y,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(k.Color,[null].concat(e)))};k.Color=w,k.version="2.4.2";var C=k,_=p.unpack,x=Math.max,A=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=_(e,"rgb"),n=r[0],a=r[1],i=r[2],o=1-x(n/=255,x(a/=255,i/=255)),s=o<1?1/(1-o):0;return[(1-n-o)*s,(1-a-o)*s,(1-i-o)*s,o]},I=A,S=p.unpack,j=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=S(e,"cmyk"))[0],n=e[1],a=e[2],i=e[3],o=e.length>4?e[4]:1;return 1===i?[0,0,0,o]:[r>=1?0:255*(1-r)*(1-i),n>=1?0:255*(1-n)*(1-i),a>=1?0:255*(1-a)*(1-i),o]},M=j,P=C,T=w,E=h,D=p.unpack,N=p.type,O=I;T.prototype.cmyk=function(){return O(this._rgb)},P.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(T,[null].concat(e,["cmyk"])))},E.format.cmyk=M,E.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=D(e,"cmyk"),"array"===N(e)&&4===e.length)return"cmyk"}});var $=p.unpack,L=p.last,B=function(e){return Math.round(100*e)/100},G=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=$(e,"hsla"),n=L(e)||"lsa";return r[0]=B(r[0]||0),r[1]=B(100*r[1])+"%",r[2]=B(100*r[2])+"%","hsla"===n||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,n="hsla"):r.length=3,n+"("+r.join(",")+")"},F=G,q=p.unpack,z=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=q(e,"rgba"))[0],n=e[1],a=e[2];r/=255,n/=255,a/=255;var i,o,s=Math.min(r,n,a),l=Math.max(r,n,a),c=(l+s)/2;return l===s?(i=0,o=Number.NaN):i=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),r==l?o=(n-a)/(l-s):n==l?o=2+(a-r)/(l-s):a==l&&(o=4+(r-n)/(l-s)),(o*=60)<0&&(o+=360),e.length>3&&void 0!==e[3]?[o,i,c,e[3]]:[o,i,c]},R=z,V=p.unpack,K=p.last,U=F,Y=R,H=Math.round,W=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=V(e,"rgba"),n=K(e)||"rgb";return"hsl"==n.substr(0,3)?U(Y(r),n):(r[0]=H(r[0]),r[1]=H(r[1]),r[2]=H(r[2]),("rgba"===n||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,n="rgba"),n+"("+r.slice(0,"rgb"===n?3:4).join(",")+")")},Z=W,Q=p.unpack,X=Math.round,J=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,a,i,o=(t=Q(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)n=a=i=255*l;else{var c=[0,0,0],u=[0,0,0],d=l<.5?l*(1+s):l+s-l*s,f=2*l-d,p=o/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?u[h]=f+6*(d-f)*c[h]:2*c[h]<1?u[h]=d:3*c[h]<2?u[h]=f+(d-f)*(2/3-c[h])*6:u[h]=f;n=(e=[X(255*u[0]),X(255*u[1]),X(255*u[2])])[0],a=e[1],i=e[2]}return t.length>3?[n,a,i,t[3]]:[n,a,i,1]},ee=J,te=ee,re=h,ne=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ae=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ie=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,oe=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,se=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,le=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ce=Math.round,ue=function(e){var t;if(e=e.toLowerCase().trim(),re.format.named)try{return re.format.named(e)}catch(h){}if(t=e.match(ne)){for(var r=t.slice(1,4),n=0;n<3;n++)r[n]=+r[n];return r[3]=1,r}if(t=e.match(ae)){for(var a=t.slice(1,5),i=0;i<4;i++)a[i]=+a[i];return a}if(t=e.match(ie)){for(var o=t.slice(1,4),s=0;s<3;s++)o[s]=ce(2.55*o[s]);return o[3]=1,o}if(t=e.match(oe)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=ce(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(se)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=te(u);return d[3]=1,d}if(t=e.match(le)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var p=te(f);return p[3]=+t[4],p}};ue.test=function(e){return ne.test(e)||ae.test(e)||ie.test(e)||oe.test(e)||se.test(e)||le.test(e)};var de=ue,fe=C,pe=w,he=h,me=p.type,ve=Z,ge=de;pe.prototype.css=function(e){return ve(this._rgb,e)},fe.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pe,[null].concat(e,["css"])))},he.format.css=ge,he.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===me(e)&&ge.test(e))return"css"}});var be=w,ye=C,we=h,ke=p.unpack;we.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ke(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},ye.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(be,[null].concat(e,["gl"])))},be.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Ce=p.unpack,_e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=Ce(e,"rgb"),a=n[0],i=n[1],o=n[2],s=Math.min(a,i,o),l=Math.max(a,i,o),c=l-s,u=100*c/255,d=s/(255-c)*100;return 0===c?r=Number.NaN:(a===l&&(r=(i-o)/c),i===l&&(r=2+(o-a)/c),o===l&&(r=4+(a-i)/c),(r*=60)<0&&(r+=360)),[r,u,d]},xe=_e,Ae=p.unpack,Ie=Math.floor,Se=function(){for(var e,t,r,n,a,i,o=[],s=arguments.length;s--;)o[s]=arguments[s];var l,c,u,d=(o=Ae(o,"hcg"))[0],f=o[1],p=o[2];p*=255;var h=255*f;if(0===f)l=c=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var m=Ie(d/=60),v=d-m,g=p*(1-f),b=g+h*(1-v),y=g+h*v,w=g+h;switch(m){case 0:l=(e=[w,y,g])[0],c=e[1],u=e[2];break;case 1:l=(t=[b,w,g])[0],c=t[1],u=t[2];break;case 2:l=(r=[g,w,y])[0],c=r[1],u=r[2];break;case 3:l=(n=[g,b,w])[0],c=n[1],u=n[2];break;case 4:l=(a=[y,g,w])[0],c=a[1],u=a[2];break;case 5:l=(i=[w,g,b])[0],c=i[1],u=i[2]}}return[l,c,u,o.length>3?o[3]:1]},je=Se,Me=p.unpack,Pe=p.type,Te=C,Ee=w,De=h,Ne=xe;Ee.prototype.hcg=function(){return Ne(this._rgb)},Te.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ee,[null].concat(e,["hcg"])))},De.format.hcg=je,De.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Me(e,"hcg"),"array"===Pe(e)&&3===e.length)return"hcg"}});var Oe=p.unpack,$e=p.last,Le=Math.round,Be=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Oe(e,"rgba"),n=r[0],a=r[1],i=r[2],o=r[3],s=$e(e)||"auto";void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb");var l="000000"+((n=Le(n))<<16|(a=Le(a))<<8|(i=Le(i))).toString(16);l=l.substr(l.length-6);var c="0"+Le(255*o).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Ge=Be,Fe=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,qe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ze=function(e){if(e.match(Fe)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(qe)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var r=parseInt(e,16);return[r>>24&255,r>>16&255,r>>8&255,Math.round((255&r)/255*100)/100]}throw new Error("unknown hex color: "+e)},Re=C,Ve=w,Ke=p.type,Ue=h,Ye=Ge;Ve.prototype.hex=function(e){return Ye(this._rgb,e)},Re.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ve,[null].concat(e,["hex"])))},Ue.format.hex=ze,Ue.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===Ke(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var He=p.unpack,We=p.TWOPI,Ze=Math.min,Qe=Math.sqrt,Xe=Math.acos,Je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=He(e,"rgb"),a=n[0],i=n[1],o=n[2],s=Ze(a/=255,i/=255,o/=255),l=(a+i+o)/3,c=l>0?1-s/l:0;return 0===c?r=NaN:(r=(a-i+(a-o))/2,r/=Qe((a-i)*(a-i)+(a-o)*(i-o)),r=Xe(r),o>i&&(r=We-r),r/=We),[360*r,c,l]},et=Je,tt=p.unpack,rt=p.limit,nt=p.TWOPI,at=p.PITHIRD,it=Math.cos,ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,i=(e=tt(e,"hsi"))[0],o=e[1],s=e[2];return isNaN(i)&&(i=0),isNaN(o)&&(o=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?n=1-((a=(1-o)/3)+(r=(1+o*it(nt*i)/it(at-nt*i))/3)):i<2/3?a=1-((r=(1-o)/3)+(n=(1+o*it(nt*(i-=1/3))/it(at-nt*i))/3)):r=1-((n=(1-o)/3)+(a=(1+o*it(nt*(i-=2/3))/it(at-nt*i))/3)),[255*(r=rt(s*r*3)),255*(n=rt(s*n*3)),255*(a=rt(s*a*3)),e.length>3?e[3]:1]},st=ot,lt=p.unpack,ct=p.type,ut=C,dt=w,ft=h,pt=et;dt.prototype.hsi=function(){return pt(this._rgb)},ut.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(dt,[null].concat(e,["hsi"])))},ft.format.hsi=st,ft.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=lt(e,"hsi"),"array"===ct(e)&&3===e.length)return"hsi"}});var ht=p.unpack,mt=p.type,vt=C,gt=w,bt=h,yt=R;gt.prototype.hsl=function(){return yt(this._rgb)},vt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gt,[null].concat(e,["hsl"])))},bt.format.hsl=ee,bt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ht(e,"hsl"),"array"===mt(e)&&3===e.length)return"hsl"}});var wt=p.unpack,kt=Math.min,Ct=Math.max,_t=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,i=(e=wt(e,"rgb"))[0],o=e[1],s=e[2],l=kt(i,o,s),c=Ct(i,o,s),u=c-l;return a=c/255,0===c?(r=Number.NaN,n=0):(n=u/c,i===c&&(r=(o-s)/u),o===c&&(r=2+(s-i)/u),s===c&&(r=4+(i-o)/u),(r*=60)<0&&(r+=360)),[r,n,a]},xt=_t,At=p.unpack,It=Math.floor,St=function(){for(var e,t,r,n,a,i,o=[],s=arguments.length;s--;)o[s]=arguments[s];var l,c,u,d=(o=At(o,"hsv"))[0],f=o[1],p=o[2];if(p*=255,0===f)l=c=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var h=It(d/=60),m=d-h,v=p*(1-f),g=p*(1-f*m),b=p*(1-f*(1-m));switch(h){case 0:l=(e=[p,b,v])[0],c=e[1],u=e[2];break;case 1:l=(t=[g,p,v])[0],c=t[1],u=t[2];break;case 2:l=(r=[v,p,b])[0],c=r[1],u=r[2];break;case 3:l=(n=[v,g,p])[0],c=n[1],u=n[2];break;case 4:l=(a=[b,v,p])[0],c=a[1],u=a[2];break;case 5:l=(i=[p,v,g])[0],c=i[1],u=i[2]}}return[l,c,u,o.length>3?o[3]:1]},jt=St,Mt=p.unpack,Pt=p.type,Tt=C,Et=w,Dt=h,Nt=xt;Et.prototype.hsv=function(){return Nt(this._rgb)},Tt.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Et,[null].concat(e,["hsv"])))},Dt.format.hsv=jt,Dt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Mt(e,"hsv"),"array"===Pt(e)&&3===e.length)return"hsv"}});var Ot={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},$t=Ot,Lt=p.unpack,Bt=Math.pow,Gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Lt(e,"rgb"),n=r[0],a=r[1],i=r[2],o=zt(n,a,i),s=o[0],l=o[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-o[2])]},Ft=function(e){return(e/=255)<=.04045?e/12.92:Bt((e+.055)/1.055,2.4)},qt=function(e){return e>$t.t3?Bt(e,1/3):e/$t.t2+$t.t0},zt=function(e,t,r){return e=Ft(e),t=Ft(t),r=Ft(r),[qt((.4124564*e+.3575761*t+.1804375*r)/$t.Xn),qt((.2126729*e+.7151522*t+.072175*r)/$t.Yn),qt((.0193339*e+.119192*t+.9503041*r)/$t.Zn)]},Rt=Gt,Vt=Ot,Kt=p.unpack,Ut=Math.pow,Yt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,a,i=(e=Kt(e,"lab"))[0],o=e[1],s=e[2];return n=(i+16)/116,r=isNaN(o)?n:n+o/500,a=isNaN(s)?n:n-s/200,n=Vt.Yn*Wt(n),r=Vt.Xn*Wt(r),a=Vt.Zn*Wt(a),[Ht(3.2404542*r-1.5371385*n-.4985314*a),Ht(-.969266*r+1.8760108*n+.041556*a),Ht(.0556434*r-.2040259*n+1.0572252*a),e.length>3?e[3]:1]},Ht=function(e){return 255*(e<=.00304?12.92*e:1.055*Ut(e,1/2.4)-.055)},Wt=function(e){return e>Vt.t1?e*e*e:Vt.t2*(e-Vt.t0)},Zt=Yt,Qt=p.unpack,Xt=p.type,Jt=C,er=w,tr=h,rr=Rt;er.prototype.lab=function(){return rr(this._rgb)},Jt.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(er,[null].concat(e,["lab"])))},tr.format.lab=Zt,tr.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Qt(e,"lab"),"array"===Xt(e)&&3===e.length)return"lab"}});var nr=p.unpack,ar=p.RAD2DEG,ir=Math.sqrt,or=Math.atan2,sr=Math.round,lr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=nr(e,"lab"),n=r[0],a=r[1],i=r[2],o=ir(a*a+i*i),s=(or(i,a)*ar+360)%360;return 0===sr(1e4*o)&&(s=Number.NaN),[n,o,s]},cr=lr,ur=p.unpack,dr=Rt,fr=cr,pr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ur(e,"rgb"),n=r[0],a=r[1],i=r[2],o=dr(n,a,i),s=o[0],l=o[1],c=o[2];return fr(s,l,c)},hr=pr,mr=p.unpack,vr=p.DEG2RAD,gr=Math.sin,br=Math.cos,yr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=mr(e,"lch"),n=r[0],a=r[1],i=r[2];return isNaN(i)&&(i=0),[n,br(i*=vr)*a,gr(i)*a]},wr=yr,kr=p.unpack,Cr=wr,_r=Zt,xr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=kr(e,"lch"))[0],n=e[1],a=e[2],i=Cr(r,n,a),o=i[0],s=i[1],l=i[2],c=_r(o,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Ar=xr,Ir=p.unpack,Sr=Ar,jr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Ir(e,"hcl").reverse();return Sr.apply(void 0,r)},Mr=jr,Pr=p.unpack,Tr=p.type,Er=C,Dr=w,Nr=h,Or=hr;Dr.prototype.lch=function(){return Or(this._rgb)},Dr.prototype.hcl=function(){return Or(this._rgb).reverse()},Er.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dr,[null].concat(e,["lch"])))},Er.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dr,[null].concat(e,["hcl"])))},Nr.format.lch=Ar,Nr.format.hcl=Mr,["lch","hcl"].forEach((function(e){return Nr.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Pr(t,e),"array"===Tr(t)&&3===t.length)return e}})}));var $r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Lr=w,Br=h,Gr=p.type,Fr=$r,qr=ze,zr=Ge;Lr.prototype.name=function(){for(var e=zr(this._rgb,"rgb"),t=0,r=Object.keys(Fr);t<r.length;t+=1){var n=r[t];if(Fr[n]===e)return n.toLowerCase()}return e},Br.format.named=function(e){if(e=e.toLowerCase(),Fr[e])return qr(Fr[e]);throw new Error("unknown color name: "+e)},Br.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===Gr(e)&&Fr[e.toLowerCase()])return"named"}});var Rr=p.unpack,Vr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Rr(e,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},Kr=Vr,Ur=p.type,Yr=function(e){if("number"==Ur(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Hr=C,Wr=w,Zr=h,Qr=p.type,Xr=Kr;Wr.prototype.num=function(){return Xr(this._rgb)},Hr.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Wr,[null].concat(e,["num"])))},Zr.format.num=Yr,Zr.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Qr(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Jr=C,en=w,tn=h,rn=p.unpack,nn=p.type,an=Math.round;en.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(an)},en.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,r){return r<3?!1===e?t:an(t):t}))},Jr.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(en,[null].concat(e,["rgb"])))},tn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=rn(e,"rgba");return void 0===r[3]&&(r[3]=1),r},tn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=rn(e,"rgba"),"array"===nn(e)&&(3===e.length||4===e.length&&"number"==nn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var on=Math.log,sn=function(e){var t,r,n,a=e/100;return a<66?(t=255,r=a<6?0:-155.25485562709179-.44596950469579133*(r=a-2)+104.49216199393888*on(r),n=a<20?0:.8274096064007395*(n=a-10)-254.76935184120902+115.67994401066147*on(n)):(t=351.97690566805693+.114206453784165*(t=a-55)-40.25366309332127*on(t),r=325.4494125711974+.07943456536662342*(r=a-50)-28.0852963507957*on(r),n=255),[t,r,n,1]},ln=sn,cn=p.unpack,un=Math.round,dn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r,n=cn(e,"rgb"),a=n[0],i=n[2],o=1e3,s=4e4,l=.4;s-o>l;){var c=ln(r=.5*(s+o));c[2]/c[0]>=i/a?s=r:o=r}return un(r)},fn=C,pn=w,hn=h,mn=dn;pn.prototype.temp=pn.prototype.kelvin=pn.prototype.temperature=function(){return mn(this._rgb)},fn.temp=fn.kelvin=fn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pn,[null].concat(e,["temp"])))},hn.format.temp=hn.format.kelvin=hn.format.temperature=sn;var vn=p.unpack,gn=Math.cbrt,bn=Math.pow,yn=Math.sign,wn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=vn(e,"rgb"),n=r[0],a=r[1],i=r[2],o=[Cn(n/255),Cn(a/255),Cn(i/255)],s=o[0],l=o[1],c=o[2],u=gn(.4122214708*s+.5363325363*l+.0514459929*c),d=gn(.2119034982*s+.6806995451*l+.1073969566*c),f=gn(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*d-.0040720468*f,1.9779984951*u-2.428592205*d+.4505937099*f,.0259040371*u+.7827717662*d-.808675766*f]},kn=wn;function Cn(e){var t=Math.abs(e);return t<.04045?e/12.92:(yn(e)||1)*bn((t+.055)/1.055,2.4)}var _n=p.unpack,xn=Math.pow,An=Math.sign,In=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=_n(e,"lab"))[0],n=e[1],a=e[2],i=xn(r+.3963377774*n+.2158037573*a,3),o=xn(r-.1055613458*n-.0638541728*a,3),s=xn(r-.0894841775*n-1.291485548*a,3);return[255*jn(4.0767416621*i-3.3077115913*o+.2309699292*s),255*jn(-1.2684380046*i+2.6097574011*o-.3413193965*s),255*jn(-.0041960863*i-.7034186147*o+1.707614701*s),e.length>3?e[3]:1]},Sn=In;function jn(e){var t=Math.abs(e);return t>.0031308?(An(e)||1)*(1.055*xn(t,1/2.4)-.055):12.92*e}var Mn=p.unpack,Pn=p.type,Tn=C,En=w,Dn=h,Nn=kn;En.prototype.oklab=function(){return Nn(this._rgb)},Tn.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(En,[null].concat(e,["oklab"])))},Dn.format.oklab=Sn,Dn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Mn(e,"oklab"),"array"===Pn(e)&&3===e.length)return"oklab"}});var On=p.unpack,$n=kn,Ln=cr,Bn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=On(e,"rgb"),n=r[0],a=r[1],i=r[2],o=$n(n,a,i),s=o[0],l=o[1],c=o[2];return Ln(s,l,c)},Gn=Bn,Fn=p.unpack,qn=wr,zn=Sn,Rn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=Fn(e,"lch"))[0],n=e[1],a=e[2],i=qn(r,n,a),o=i[0],s=i[1],l=i[2],c=zn(o,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Vn=Rn,Kn=p.unpack,Un=p.type,Yn=C,Hn=w,Wn=h,Zn=Gn;Hn.prototype.oklch=function(){return Zn(this._rgb)},Yn.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Hn,[null].concat(e,["oklch"])))},Wn.format.oklch=Vn,Wn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Kn(e,"oklch"),"array"===Un(e)&&3===e.length)return"oklch"}});var Qn=w,Xn=p.type;Qn.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Xn(e)?t?(this._rgb[3]=e,this):new Qn([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var Jn=w,ea=Ot;Jn.prototype.darken=function(e){void 0===e&&(e=1);var t=this,r=t.lab();return r[0]-=ea.Kn*e,new Jn(r,"lab").alpha(t.alpha(),!0)},Jn.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},Jn.prototype.darker=Jn.prototype.darken,Jn.prototype.brighter=Jn.prototype.brighten,w.prototype.get=function(e){var t=e.split("."),r=t[0],n=t[1],a=this[r]();if(n){var i=r.indexOf(n)-("ok"===r.substr(0,2)?2:0);if(i>-1)return a[i];throw new Error("unknown channel "+n+" in mode "+r)}return a};var ta=w,ra=p.type,na=Math.pow,aa=1e-7,ia=20;ta.prototype.luminance=function(e){if(void 0!==e&&"number"===ra(e)){if(0===e)return new ta([0,0,0,this._rgb[3]],"rgb");if(1===e)return new ta([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r="rgb",n=ia,a=function(t,i){var o=t.interpolate(i,.5,r),s=o.luminance();return Math.abs(e-s)<aa||!n--?o:s>e?a(t,o):a(o,i)},i=(t>e?a(new ta([0,0,0]),this):a(this,new ta([255,255,255]))).rgb();return new ta(i.concat([this._rgb[3]]))}return oa.apply(void 0,this._rgb.slice(0,3))};var oa=function(e,t,r){return.2126*(e=sa(e))+.7152*(t=sa(t))+.0722*(r=sa(r))},sa=function(e){return(e/=255)<=.03928?e/12.92:na((e+.055)/1.055,2.4)},la={},ca=w,ua=p.type,da=la,fa=function(e,t,r){void 0===r&&(r=.5);for(var n=[],a=arguments.length-3;a-- >0;)n[a]=arguments[a+3];var i=n[0]||"lrgb";if(da[i]||n.length||(i=Object.keys(da)[0]),!da[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==ua(e)&&(e=new ca(e)),"object"!==ua(t)&&(t=new ca(t)),da[i](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))},pa=w,ha=fa;pa.prototype.mix=pa.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return ha.apply(void 0,[this,e,t].concat(r))};var ma=w;ma.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new ma([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var va=w,ga=Ot;va.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,r=t.lch();return r[1]+=ga.Kn*e,r[1]<0&&(r[1]=0),new va(r,"lch").alpha(t.alpha(),!0)},va.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var ba=w,ya=p.type;ba.prototype.set=function(e,t,r){void 0===r&&(r=!1);var n=e.split("."),a=n[0],i=n[1],o=this[a]();if(i){var s=a.indexOf(i)-("ok"===a.substr(0,2)?2:0);if(s>-1){if("string"==ya(t))switch(t.charAt(0)){case"+":case"-":o[s]+=+t;break;case"*":o[s]*=+t.substr(1);break;case"/":o[s]/=+t.substr(1);break;default:o[s]=+t}else{if("number"!==ya(t))throw new Error("unsupported value for Color.set");o[s]=t}var l=new ba(o,a);return r?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+i+" in mode "+a)}return o};var wa=w,ka=function(e,t,r){var n=e._rgb,a=t._rgb;return new wa(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"rgb")};la.rgb=ka;var Ca=w,_a=Math.sqrt,xa=Math.pow,Aa=function(e,t,r){var n=e._rgb,a=n[0],i=n[1],o=n[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new Ca(_a(xa(a,2)*(1-r)+xa(l,2)*r),_a(xa(i,2)*(1-r)+xa(c,2)*r),_a(xa(o,2)*(1-r)+xa(u,2)*r),"rgb")};la.lrgb=Aa;var Ia=w,Sa=function(e,t,r){var n=e.lab(),a=t.lab();return new Ia(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"lab")};la.lab=Sa;var ja=w,Ma=function(e,t,r,n){var a,i,o,s,l,c,u,d,f,p,h,m,v;return"hsl"===n?(o=e.hsl(),s=t.hsl()):"hsv"===n?(o=e.hsv(),s=t.hsv()):"hcg"===n?(o=e.hcg(),s=t.hcg()):"hsi"===n?(o=e.hsi(),s=t.hsi()):"lch"===n||"hcl"===n?(n="hcl",o=e.hcl(),s=t.hcl()):"oklch"===n&&(o=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==n.substr(0,1)&&"oklch"!==n||(l=(a=o)[0],u=a[1],f=a[2],c=(i=s)[0],d=i[1],p=i[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?m=Number.NaN:(m=c,1!=f&&0!=f||"hsv"==n||(h=d)):(m=l,1!=p&&0!=p||"hsv"==n||(h=u)):m=l+r*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===h&&(h=u+r*(d-u)),v=f+r*(p-f),new ja("oklch"===n?[v,h,m]:[m,h,v],n)},Pa=Ma,Ta=function(e,t,r){return Pa(e,t,r,"lch")};la.lch=Ta,la.hcl=Ta;var Ea=w,Da=function(e,t,r){var n=e.num(),a=t.num();return new Ea(n+r*(a-n),"num")};la.num=Da;var Na=Ma,Oa=function(e,t,r){return Na(e,t,r,"hcg")};la.hcg=Oa;var $a=Ma,La=function(e,t,r){return $a(e,t,r,"hsi")};la.hsi=La;var Ba=Ma,Ga=function(e,t,r){return Ba(e,t,r,"hsl")};la.hsl=Ga;var Fa=Ma,qa=function(e,t,r){return Fa(e,t,r,"hsv")};la.hsv=qa;var za=w,Ra=function(e,t,r){var n=e.oklab(),a=t.oklab();return new za(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"oklab")};la.oklab=Ra;var Va=Ma,Ka=function(e,t,r){return Va(e,t,r,"oklch")};la.oklch=Ka;var Ua=w,Ya=p.clip_rgb,Ha=Math.pow,Wa=Math.sqrt,Za=Math.PI,Qa=Math.cos,Xa=Math.sin,Ja=Math.atan2,ei=function(e,t,r){void 0===t&&(t="lrgb"),void 0===r&&(r=null);var n=e.length;r||(r=Array.from(new Array(n)).map((function(){return 1})));var a=n/r.reduce((function(e,t){return e+t}));if(r.forEach((function(e,t){r[t]*=a})),e=e.map((function(e){return new Ua(e)})),"lrgb"===t)return ti(e,r);for(var i=e.shift(),o=i.get(t),s=[],l=0,c=0,u=0;u<o.length;u++)if(o[u]=(o[u]||0)*r[0],s.push(isNaN(o[u])?0:r[0]),"h"===t.charAt(u)&&!isNaN(o[u])){var d=o[u]/180*Za;l+=Qa(d)*r[0],c+=Xa(d)*r[0]}var f=i.alpha()*r[0];e.forEach((function(e,n){var a=e.get(t);f+=e.alpha()*r[n+1];for(var i=0;i<o.length;i++)if(!isNaN(a[i]))if(s[i]+=r[n+1],"h"===t.charAt(i)){var u=a[i]/180*Za;l+=Qa(u)*r[n+1],c+=Xa(u)*r[n+1]}else o[i]+=a[i]*r[n+1]}));for(var p=0;p<o.length;p++)if("h"===t.charAt(p)){for(var h=Ja(c/s[p],l/s[p])/Za*180;h<0;)h+=360;for(;h>=360;)h-=360;o[p]=h}else o[p]=o[p]/s[p];return f/=n,new Ua(o,t).alpha(f>.99999?1:f,!0)},ti=function(e,t){for(var r=e.length,n=[0,0,0,0],a=0;a<e.length;a++){var i=e[a],o=t[a]/r,s=i._rgb;n[0]+=Ha(s[0],2)*o,n[1]+=Ha(s[1],2)*o,n[2]+=Ha(s[2],2)*o,n[3]+=s[3]*o}return n[0]=Wa(n[0]),n[1]=Wa(n[1]),n[2]=Wa(n[2]),n[3]>.9999999&&(n[3]=1),new Ua(Ya(n))},ri=C,ni=p.type,ai=Math.pow,ii=function(e){var t="rgb",r=ri("#ccc"),n=0,a=[0,1],i=[],o=[0,0],s=!1,l=[],c=!1,u=0,d=1,f=!1,p={},h=!0,m=1,v=function(e){if((e=e||["#fff","#000"])&&"string"===ni(e)&&ri.brewer&&ri.brewer[e.toLowerCase()]&&(e=ri.brewer[e.toLowerCase()]),"array"===ni(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=ri(e[t]);i.length=0;for(var r=0;r<e.length;r++)i.push(r/(e.length-1))}return k(),l=e},g=function(e){if(null!=s){for(var t=s.length-1,r=0;r<t&&e>=s[r];)r++;return r-1}return 0},b=function(e){return e},y=function(e){return e},w=function(e,n){var a,c;if(null==n&&(n=!1),isNaN(e)||null===e)return r;c=n?e:s&&s.length>2?g(e)/(s.length-2):d!==u?(e-u)/(d-u):1,c=y(c),n||(c=b(c)),1!==m&&(c=ai(c,m)),c=o[0]+c*(1-o[0]-o[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(h&&p[f])a=p[f];else{if("array"===ni(l))for(var v=0;v<i.length;v++){var w=i[v];if(c<=w){a=l[v];break}if(c>=w&&v===i.length-1){a=l[v];break}if(c>w&&c<i[v+1]){c=(c-w)/(i[v+1]-w),a=ri.interpolate(l[v],l[v+1],c,t);break}}else"function"===ni(l)&&(a=l(c));h&&(p[f]=a)}return a},k=function(){return p={}};v(e);var C=function(e){var t=ri(w(e));return c&&t[c]?t[c]():t};return C.classes=function(e){if(null!=e){if("array"===ni(e))s=e,a=[e[0],e[e.length-1]];else{var t=ri.analyze(a);s=0===e?[t.min,t.max]:ri.limits(t,"e",e)}return C}return s},C.domain=function(e){if(!arguments.length)return a;u=e[0],d=e[e.length-1],i=[];var t=l.length;if(e.length===t&&u!==d)for(var r=0,n=Array.from(e);r<n.length;r+=1){var o=n[r];i.push((o-u)/(d-u))}else{for(var s=0;s<t;s++)i.push(s/(t-1));if(e.length>2){var c=e.map((function(t,r){return r/(e.length-1)})),f=e.map((function(e){return(e-u)/(d-u)}));f.every((function(e,t){return c[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=f[t+1];)t++;var r=(e-f[t])/(f[t+1]-f[t]);return c[t]+r*(c[t+1]-c[t])})}}return a=[u,d],C},C.mode=function(e){return arguments.length?(t=e,k(),C):t},C.range=function(e,t){return v(e),C},C.out=function(e){return c=e,C},C.spread=function(e){return arguments.length?(n=e,C):n},C.correctLightness=function(e){return null==e&&(e=!0),f=e,k(),b=f?function(e){for(var t=w(0,!0).lab()[0],r=w(1,!0).lab()[0],n=t>r,a=w(e,!0).lab()[0],i=t+(r-t)*e,o=a-i,s=0,l=1,c=20;Math.abs(o)>.01&&c-- >0;)n&&(o*=-1),o<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),a=w(e,!0).lab()[0],o=a-i;return e}:function(e){return e},C},C.padding=function(e){return null!=e?("number"===ni(e)&&(e=[e,e]),o=e,C):o},C.colors=function(t,r){arguments.length<2&&(r="hex");var n=[];if(0===arguments.length)n=l.slice(0);else if(1===t)n=[C(.5)];else if(t>1){var i=a[0],o=a[1]-i;n=oi(0,t).map((function(e){return C(i+e/(t-1)*o)}))}else{e=[];var c=[];if(s&&s.length>2)for(var u=1,d=s.length,f=1<=d;f?u<d:u>d;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=a;n=c.map((function(e){return C(e)}))}return ri[r]&&(n=n.map((function(e){return e[r]()}))),n},C.cache=function(e){return null!=e?(h=e,C):h},C.gamma=function(e){return null!=e?(m=e,C):m},C.nodata=function(e){return null!=e?(r=ri(e),C):r},C};function oi(e,t,r){for(var n=[],a=e<t,i=t,o=e;a?o<i:o>i;a?o++:o--)n.push(o);return n}var si=w,li=ii,ci=function(e){for(var t=[1,1],r=1;r<e;r++){for(var n=[1],a=1;a<=t.length;a++)n[a]=(t[a]||0)+t[a-1];t=n}return t},ui=function(e){var t,r,n,a,i,o,s;if(2===(e=e.map((function(e){return new si(e)}))).length)t=e.map((function(e){return e.lab()})),i=t[0],o=t[1],a=function(e){var t=[0,1,2].map((function(t){return i[t]+e*(o[t]-i[t])}));return new si(t,"lab")};else if(3===e.length)r=e.map((function(e){return e.lab()})),i=r[0],o=r[1],s=r[2],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*i[t]+2*(1-e)*e*o[t]+e*e*s[t]}));return new si(t,"lab")};else if(4===e.length){var l;n=e.map((function(e){return e.lab()})),i=n[0],o=n[1],s=n[2],l=n[3],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new si(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,d;c=e.map((function(e){return e.lab()})),d=e.length-1,u=ci(d),a=function(e){var t=1-e,r=[0,1,2].map((function(r){return c.reduce((function(n,a,i){return n+u[i]*Math.pow(t,d-i)*Math.pow(e,i)*a[r]}),0)}));return new si(r,"lab")}}return a},di=function(e){var t=ui(e);return t.scale=function(){return li(t)},t},fi=C,pi=function(e,t,r){if(!pi[r])throw new Error("unknown blend mode "+r);return pi[r](e,t)},hi=function(e){return function(t,r){var n=fi(r).rgb(),a=fi(t).rgb();return fi.rgb(e(n,a))}},mi=function(e){return function(t,r){var n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n}},vi=function(e){return e},gi=function(e,t){return e*t/255},bi=function(e,t){return e>t?t:e},yi=function(e,t){return e>t?e:t},wi=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ki=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Ci=function(e,t){return 255*(1-(1-t/255)/(e/255))},_i=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};pi.normal=hi(mi(vi)),pi.multiply=hi(mi(gi)),pi.screen=hi(mi(wi)),pi.overlay=hi(mi(ki)),pi.darken=hi(mi(bi)),pi.lighten=hi(mi(yi)),pi.dodge=hi(mi(_i)),pi.burn=hi(mi(Ci));for(var xi=pi,Ai=p.type,Ii=p.clip_rgb,Si=p.TWOPI,ji=Math.pow,Mi=Math.sin,Pi=Math.cos,Ti=C,Ei=function(e,t,r,n,a){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=[0,1]);var i,o=0;"array"===Ai(a)?i=a[1]-a[0]:(i=0,a=[a,a]);var s=function(s){var l=Si*((e+120)/360+t*s),c=ji(a[0]+i*s,n),u=(0!==o?r[0]+s*o:r)*c*(1-c)/2,d=Pi(l),f=Mi(l);return Ti(Ii([255*(c+u*(-.14861*d+1.78277*f)),255*(c+u*(-.29227*d-.90649*f)),255*(c+u*(1.97294*d)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?n:(n=e,s)},s.hue=function(e){return null==e?r:("array"===Ai(r=e)?0==(o=r[1]-r[0])&&(r=r[1]):o=0,s)},s.lightness=function(e){return null==e?a:("array"===Ai(e)?(a=e,i=e[1]-e[0]):(a=[e,e],i=0),s)},s.scale=function(){return Ti.scale(s)},s.hue(r),s},Di=w,Ni="0123456789abcdef",Oi=Math.floor,$i=Math.random,Li=function(){for(var e="#",t=0;t<6;t++)e+=Ni.charAt(Oi(16*$i()));return new Di(e,"hex")},Bi=s,Gi=Math.log,Fi=Math.pow,qi=Math.floor,zi=Math.abs,Ri=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Bi(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===Bi(e)&&(e=e[t]),null==e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)})),r.domain=[r.min,r.max],r.limits=function(e,t){return Vi(r,e,t)},r},Vi=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7),"array"==Bi(e)&&(e=Ri(e));var n=e.min,a=e.max,i=e.values.sort((function(e,t){return e-t}));if(1===r)return[n,a];var o=[];if("c"===t.substr(0,1)&&(o.push(n),o.push(a)),"e"===t.substr(0,1)){o.push(n);for(var s=1;s<r;s++)o.push(n+s/r*(a-n));o.push(a)}else if("l"===t.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Gi(n),c=Math.LOG10E*Gi(a);o.push(n);for(var u=1;u<r;u++)o.push(Fi(10,l+u/r*(c-l)));o.push(a)}else if("q"===t.substr(0,1)){o.push(n);for(var d=1;d<r;d++){var f=(i.length-1)*d/r,p=qi(f);if(p===f)o.push(i[p]);else{var h=f-p;o.push(i[p]*(1-h)+i[p+1]*h)}}o.push(a)}else if("k"===t.substr(0,1)){var m,v=i.length,g=new Array(v),b=new Array(r),y=!0,w=0,k=null;(k=[]).push(n);for(var C=1;C<r;C++)k.push(n+C/r*(a-n));for(k.push(a);y;){for(var _=0;_<r;_++)b[_]=0;for(var x=0;x<v;x++)for(var A=i[x],I=Number.MAX_VALUE,S=void 0,j=0;j<r;j++){var M=zi(k[j]-A);M<I&&(I=M,S=j),b[S]++,g[x]=S}for(var P=new Array(r),T=0;T<r;T++)P[T]=null;for(var E=0;E<v;E++)null===P[m=g[E]]?P[m]=i[E]:P[m]+=i[E];for(var D=0;D<r;D++)P[D]*=1/b[D];y=!1;for(var N=0;N<r;N++)if(P[N]!==k[N]){y=!0;break}k=P,++w>200&&(y=!1)}for(var O={},$=0;$<r;$++)O[$]=[];for(var L=0;L<v;L++)O[m=g[L]].push(i[L]);for(var B=[],G=0;G<r;G++)B.push(O[G][0]),B.push(O[G][O[G].length-1]);B=B.sort((function(e,t){return e-t})),o.push(B[0]);for(var F=1;F<B.length;F+=2){var q=B[F];isNaN(q)||-1!==o.indexOf(q)||o.push(q)}}return o},Ki={analyze:Ri,limits:Vi},Ui=w,Yi=function(e,t){e=new Ui(e),t=new Ui(t);var r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},Hi=w,Wi=Math.sqrt,Zi=Math.pow,Qi=Math.min,Xi=Math.max,Ji=Math.atan2,eo=Math.abs,to=Math.cos,ro=Math.sin,no=Math.exp,ao=Math.PI,io=function(e,t,r,n,a){void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=1);var i=function(e){return 360*e/(2*ao)},o=function(e){return 2*ao*e/360};e=new Hi(e),t=new Hi(t);var s=Array.from(e.lab()),l=s[0],c=s[1],u=s[2],d=Array.from(t.lab()),f=d[0],p=d[1],h=d[2],m=(l+f)/2,v=(Wi(Zi(c,2)+Zi(u,2))+Wi(Zi(p,2)+Zi(h,2)))/2,g=.5*(1-Wi(Zi(v,7)/(Zi(v,7)+Zi(25,7)))),b=c*(1+g),y=p*(1+g),w=Wi(Zi(b,2)+Zi(u,2)),k=Wi(Zi(y,2)+Zi(h,2)),C=(w+k)/2,_=i(Ji(u,b)),x=i(Ji(h,y)),A=_>=0?_:_+360,I=x>=0?x:x+360,S=eo(A-I)>180?(A+I+360)/2:(A+I)/2,j=1-.17*to(o(S-30))+.24*to(o(2*S))+.32*to(o(3*S+6))-.2*to(o(4*S-63)),M=I-A;M=eo(M)<=180?M:I<=A?M+360:M-360,M=2*Wi(w*k)*ro(o(M)/2);var P=f-l,T=k-w,E=1+.015*Zi(m-50,2)/Wi(20+Zi(m-50,2)),D=1+.045*C,N=1+.015*C*j,O=30*no(-Zi((S-275)/25,2)),$=-2*Wi(Zi(C,7)/(Zi(C,7)+Zi(25,7)))*ro(2*o(O)),L=Wi(Zi(P/(r*E),2)+Zi(T/(n*D),2)+Zi(M/(a*N),2)+$*(T/(n*D))*(M/(a*N)));return Xi(0,Qi(100,L))},oo=w,so=function(e,t,r){void 0===r&&(r="lab"),e=new oo(e),t=new oo(t);var n=e.get(r),a=t.get(r),i=0;for(var o in n){var s=(n[o]||0)-(a[o]||0);i+=s*s}return Math.sqrt(i)},lo=w,co=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(lo,[null].concat(e))),!0}catch(r){return!1}},uo=C,fo=ii,po={cool:function(){return fo([uo.hsl(180,1,.9),uo.hsl(250,.7,.4)])},hot:function(){return fo(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ho={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},mo=0,vo=Object.keys(ho);mo<vo.length;mo+=1){var go=vo[mo];ho[go.toLowerCase()]=ho[go]}var bo=ho,yo=C;return yo.average=ei,yo.bezier=di,yo.blend=xi,yo.cubehelix=Ei,yo.mix=yo.interpolate=fa,yo.random=Li,yo.scale=ii,yo.analyze=Ki.analyze,yo.contrast=Yi,yo.deltaE=io,yo.distance=so,yo.limits=Ki.limits,yo.valid=co,yo.scales=po,yo.colors=$r,yo.brewer=bo,yo}()),ce.exports)),de=["deg","turn","bottom","left","top","right","circle","ellipse","farthest","closest"],fe=["ease","ease-in","ease-out","ease-in-out","cubic-bezier","steps"],pe=["transparent","indianred","lightcoral","salmon","darksalmon","lightsalmon","crimson","red","firebrick","darkred","pink","lightpink","hotpink","deeppink","mediumvioletred","palevioletred","coral","tomato","orangered","darkorange","orange","gold","yellow","lightyellow","lemonchiffon","lightgoldenrodyellow","papayawhip","moccasin","peachpuff","palegoldenrod","khaki","darkkhaki","lavender","thistle","plum","violet","orchid","fuchsia","magenta","mediumorchid","mediumpurple","blueviolet","darkviolet","darkorchid","darkmagenta","purple","rebeccapurple","indigo","mediumslateblue","slateblue","darkslateblue","greenyellow","chartreuse","lawngreen","lime","limegreen","palegreen","lightgreen","mediumspringgreen","springgreen","mediumseagreen","seagreen","forestgreen","green","darkgreen","yellowgreen","olivedrab","olive","darkolivegreen","mediumaquamarine","darkseagreen","lightseagreen","darkcyan","teal","aqua","cyan","lightcyan","paleturquoise","aquamarine","turquoise","mediumturquoise","darkturquoise","cadetblue","steelblue","lightsteelblue","powderblue","lightblue","skyblue","lightskyblue","deepskyblue","dodgerblue","cornflowerblue","royalblue","blue","mediumblue","darkblue","navy","midnightblue","cornsilk","blanchedalmond","bisque","navajowhite","wheat","burlywood","tan","rosybrown","sandybrown","goldenrod","darkgoldenrod","peru","chocolate","saddlebrown","sienna","brown","maroon","white","snow","honeydew","mintcream","azure","aliceblue","ghostwhite","whitesmoke","seashell","beige","oldlace","floralwhite","ivory","antiquewhite","linen","lavenderblush","mistyrose","gainsboro","lightgray","lightgrey","silver","darkgray","darkgrey","gray","grey","dimgray","dimgrey","lightslategray","lightslategrey","slategray","slategrey","darkslategray","darkslategrey","black"],he=["rgb","hsl","hsv"],me=e=>(e=>-1!==e.indexOf("("))(e)?e.substring(0,e.indexOf("(")):e,ve=e=>{const t=e.split(" "),r=t[t.length-1];return[e.replace(" "+r,""),parseInt(r)/100]},ge=e=>(e.map((e=>("div"===e.type&&(e.value=";"),e))),e),be=e=>fe.includes(me(e)),ye=(e,t)=>{e[0]=e[0]||0,e[1]=e[1]||1;let r=t.map((e=>({...e}))),n=e[1]-e[0];return r.forEach((t=>t.x=t.x*n+e[0])),r},we=e=>`Couldn't parse:\n${e}\nCheck the syntax to see if it's correct/supported.`,ke=e=>e.map(((t,r)=>"transparent"===t?ue(e[Math.abs(r-1)]).alpha(0).css("hsl"):t)),Ce=(e,t)=>{var r;return e=`${me(e)}(${(r=e,r.match(/\((.*)\)/).pop()).split(",").map((e=>-1===e.indexOf("%")?+Number(e).toFixed(t):e.trim())).join(", ")})`},_e=e=>de.some((t=>e.includes(t))),xe=e=>{const t=e.toLowerCase();return!!he.some((e=>t.includes(e)))||(!!t.includes(t.match(/^#([0-9a-f]{3}){1,2}$/i))||(!!pe.some((e=>t.includes(e)))||void 0))},Ae=(e={})=>(e.stops||(e.stops=13),e.outputType||(e.outputType="css"),function(t){if(t.includes("-gradient")){const r=se(t);return r.walk((r=>{let n,a=[];"linear-gradient"!==r.value&&"radial-gradient"!==r.value||(n=se.stringify(ge(r.nodes)).split(";").map((e=>e.trim())),n.forEach(((r,i)=>{if(be(r))try{let t={},o=[];const s=[n[i-1],n[i+1]];s.forEach(((e,r)=>{s[r].endsWith("%")&&([s[r],t[r]]=ve(s[r]))}));const l=W(r,e.stops-1);(t[0]||t[1])&&(o=ye(t,l));const c=((e,t,r=5,n="lrgb",a)=>{const i=[];return e=ke(e),t.forEach((t=>{const o=t.y,s=100*t.x;let l=ue.mix(e[0],e[1],o,n).css("hsl");l=Ce(l,r),"css"===a?0!==Number(t.x)&&1!==Number(t.x)?i.push(`${l} ${+s.toFixed(2)}%`):i.push(l):"canvas"===a&&(0!==Number(t.x)&&1!==Number(t.x)?i.push(`.addColorStop(${(s/100).toFixed(2)}, '${l}')`):Number(t.x))})),i})(s,o.length?o:l,e.alphaDecimals,e.colorMode,e.outputType);a=a.concat(c)}catch(o){console.log(we(t))}})),r.type="word","css"===e.outputType?n.length%2==0?r.value=`${r.value}(${n[0]}, ${a.join(", ")})`:r.value=`${r.value}(${a.join(", ")})`:"canvas"===e.outputType&&(r.value=a.join("\n")))})),r.toString()}}),Ie={"gentle-ease-out":"cubic-bezier(0.25, 0.25, 0.58, 1)",linear:"cubic-bezier(0.25, 0.25, 0.75, 0.75)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"};const Se=t({name:"GradientEaser",outputOptions:[{label:"CSS",value:"css"},{label:"Canvas",value:"canvas"}],data:()=>({querySelector:".app",gradientPostCss:"linear-gradient(to bottom, rgba(0,0,0,1) 30%, cubic-bezier(0.7, 0, 0.7, 1), transparent 80%)",gradientParams:[],gradientType:"",resultCopied:!1,indicesToDelete:[],menuOpenIndex:null,outputType:"css",alphaDecimals:5}),computed:{cssEasedGradient(){return this.gradientPostCss?Ae({alphaDecimals:this.alphaDecimals})(this.gradientPostCss):""},canvasEasedGradient(){return this.gradientPostCss?Ae({alphaDecimals:this.alphaDecimals,outputType:"canvas"})(this.gradientPostCss):""},outputGradient(){return"css"===this.outputType?this.cssEasedGradient:this.canvasEasedGradient},nodeList(){if(this.isValidQuerySelector(this.querySelector))return document.querySelectorAll(this.querySelector)},css(){return`${this.querySelector} { background: ${this.cssEasedGradient} !important; }`},nodeCount(){return this.querySelector?this.isValidQuerySelector(this.querySelector)?this.nodeList?this.nodeList.length:void 0:"❌":""},paramsIncludeDirection(){return"direction"===this.gradientParams[0].type}},watch:{gradientPostCss:{handler(e){if(this.skipSettingGradientPostCss)return void(this.skipSettingGradientPostCss=!1);let t=[];se(e).walk((e=>{"linear-gradient"!==e.value&&"radial-gradient"!==e.value||(this.gradientType=e.value,t=se.stringify(ge(e.nodes)).split(";").map((e=>{const t=e.trim();return{value:t,type:this.getParamType(t)}})))})),this.skipSettingGradientParams=!0,this.gradientParams=t},immediate:!0},gradientParams:{handler(e){this.skipSettingGradientParams?this.skipSettingGradientParams=!1:(this.skipSettingGradientPostCss=!0,this.gradientPostCss=`${this.gradientType}( ${e.map((e=>e.value)).join(", ")} );`)},deep:!0},nodeList(e){e&&e.length&&this.applyGradient()},cssEasedGradient(e){e&&this.applyGradient()},css(){this.storeGradientParams()},outputType(){this.storeGradientParams()}},created(){this.fetchGradientParams()},methods:{isValidQuerySelector(e){try{t=e,document.createDocumentFragment().querySelector(t)}catch(r){return!1}var t;return!0},applyGradient(){if(!this.cssEasedGradient)return;const e="gradient-easer-style",t=document.head,r=document.createElement("style"),n=document.getElementById(e);n&&t.removeChild(n),r.setAttribute("type","text/css"),r.setAttribute("id",e),t.appendChild(r),r.appendChild(document.createTextNode(this.css))},log(e){console.log(e)},getDefaultMenuItems(){return{deleteBefore:{title:"Delete ⤴",action:(e,t)=>this.gradientParams.splice(t-1,2),disable:(e,t)=>this.paramsIncludeDirection?t<=1:0===t,mouseenter:(e,t)=>{this.indicesToDelete=[t,t-1]},mouseleave:this.resetIndices},delete:{title:"Delete",action:(e,t)=>this.gradientParams.splice(t,1),disable:e=>"direction"!==e.type,mouseenter:(e,t)=>{this.indicesToDelete=[t,t-1]},mouseleave:this.resetIndices},deleteAfter:{title:"Delete ⤵",action:(e,t)=>this.gradientParams.splice(t,2),disable:(e,t)=>"direction"===e.type||t>=this.gradientParams.length-1,mouseenter:(e,t)=>{this.indicesToDelete=[t,t+1]},mouseleave:this.resetIndices}}},getBezierMenuItems(){let e={};for(let t in Ie)e[t]={title:t,action:(e,r)=>{this.gradientParams[r].value=Ie[t]}};return e},getMenuEntries(e){return{color:{...this.getDefaultMenuItems()},bezier:{...this.getBezierMenuItems(),...this.getDefaultMenuItems()},direction:{...this.getDefaultMenuItems()}}[e]},copy(){let e=this.$refs.textarea;e.select(),document.execCommand("copy"),e.blur(),this.resultCopied=!0,setTimeout((()=>{this.resultCopied=!1}),1e3)},getParamType:e=>be(e)?"bezier":_e(e)?"direction":xe?"color":"unknown",clickDropdownAction(e,t,r){e(t,r),this.menuOpenIndex=null,this.indicesToDelete=[]},toggleMenu(e){this.menuOpenIndex=e===this.menuOpenIndex?null:e},resetIndices(){this.indicesToDelete=[]},addParams(){this.gradientParams.push({value:"cubic-bezier()",type:"bezier"}),this.gradientParams.push({value:"",type:"color"})},fetchGradientParams(){let e=localStorage.getObject("gradient-parameters");e&&Object.keys(e).forEach((t=>{this[t]=e[t]}))},storeGradientParams(){localStorage.setObject("gradient-parameters",{querySelector:this.querySelector,gradientPostCss:this.gradientPostCss,gradientParams:this.gradientParams,gradientType:this.gradientType,outputType:this.outputType,alphaDecimals:this.alphaDecimals})}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gradient-easer"},[t("section",[t("div",{staticClass:"input-wrapper query-selector-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.querySelector,expression:"querySelector"}],staticClass:"query-selector",attrs:{placeholder:"query selector"},domProps:{value:e.querySelector},on:{input:function(t){t.target.composing||(e.querySelector=t.target.value)}}}),t("div",{staticClass:"input-end node-count",on:{click:function(t){return e.log(e.nodeList)}}},[e._v(e._s(e.nodeCount))])]),t("div",{staticClass:"input-wrapper gradient-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.gradientPostCss,expression:"gradientPostCss"}],ref:"postcss",staticClass:"gradient-input",attrs:{placeholder:"eased gradient"},domProps:{value:e.gradientPostCss},on:{input:function(t){t.target.composing||(e.gradientPostCss=t.target.value)}}}),t("div",{staticClass:"input-end gradient-valid",on:{click:function(t){return e.log(e.cssEasedGradient)}}},[e._v(e._s(e.gradientPostCss?e.cssEasedGradient?"✔":"❌":""))])]),t("div",{staticClass:"settings"},[t("label",[e._v("AlphaDecimals")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.alphaDecimals,expression:"alphaDecimals"}],attrs:{type:"number",min:"0",max:"10"},domProps:{value:e.alphaDecimals},on:{input:function(t){t.target.composing||(e.alphaDecimals=t.target.value)}}})])]),t("section",[e._l(e.gradientParams,(function(r,n){return t("div",{key:n,staticClass:"input-wrapper param-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.value,expression:"param.value"}],staticClass:"param",class:{"to-delete":-1!==e.indicesToDelete.indexOf(n)},attrs:{placeholder:r.type},domProps:{value:r.value},on:{input:function(t){t.target.composing||e.$set(r,"value",t.target.value)}}}),t("div",{staticClass:"input-end"},[t("i",{staticClass:"icon icon-ellipsis",on:{click:function(t){return e.toggleMenu(n)}}}),n===e.menuOpenIndex?t("div",{staticClass:"menu dropdown"},[t("ul",{staticClass:"dropdown-list"},e._l(e.getMenuEntries(r.type),(function(n,a){return n.disable&&n.disable(r,a)?e._e():t("li",{key:a,on:{click:function(t){return e.clickDropdownAction(n.action,r,a)},mouseenter:function(e){n.mouseenter&&n.mouseenter(r,a)},mouseleave:function(e){n.mouseenter&&n.mouseleave(r,a)}}},[e._v(" "+e._s(n.title)+" ")])})),0)]):e._e()])])})),t("div",{staticClass:"add-params",on:{click:e.addParams}},[e._v(" + Add")])],2),t("section",{staticClass:"result"},[t("div",{staticClass:"result-header"},[t("label",{staticClass:"result-label",on:{click:e.copy}},[t("span",[e._v("Result")]),t("div",{staticClass:"icon icon-copy"})]),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.outputType,expression:"outputType"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.outputType=t.target.multiple?r:r[0]}}},e._l(e.$options.outputOptions,(function(r,n){return t("option",{key:n,domProps:{value:r.value}},[e._v(e._s(r.label)+" ")])})),0)])]),t("span",{staticClass:"result-text",class:{pulse:e.resultCopied},domProps:{innerHTML:e._s(e.outputGradient)}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.outputGradient,expression:"outputGradient"}],ref:"textarea",staticClass:"textarea",attrs:{readonly:""},domProps:{value:e.outputGradient},on:{input:function(t){t.target.composing||(e.outputGradient=t.target.value)}}})])])}),[],!1,null,"6aca6fb7").exports;const je=t({name:"ModalDevPanel",components:{DefinitionList:t({name:"DefinitionList",props:{experimentId:{type:String,default:null},variantId:{type:String,default:null},definitions:{type:Object,default:()=>({})}},methods:{handleStepClick(e,{stepId:t,subStepIndex:r}={}){this.singleClicked?w.toggleStepPinned(e,{stepId:t,subStepIndex:r,experimentId:this.experimentId,variantId:this.variantId}):(this.singleClicked=!0,w.setStepActive(e,r),setTimeout((()=>this.singleClicked=!1),500))},shouldDisplayPinIcon:(e,t)=>e.pinned&&void 0===e.pinnedSubStepIndex&&void 0===t||void 0!==e.pinnedSubStepIndex&&e.pinnedSubStepIndex===t,shouldDisplayActive:(e,t)=>void 0!==e.activeSubStepIndex&&e.activeSubStepIndex===t}},(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"defs"},e._l(e.definitions,(function(r,n){return t("li",{key:n,staticClass:"def",attrs:{title:r.error?"Target element missing from DOM":""}},[t("div",{staticClass:"def-name-wrapper",class:{active:r.active&&!r.subSteps},on:{click:function(t){return e.handleStepClick(r,{stepId:n})}}},[t("div",[e.shouldDisplayPinIcon(r)?t("span",[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:d}})],1):e._e(),t("span",{staticClass:"def-name"},[e._v(e._s(r.name||r.headerText))])]),r.error?t("div",[t("inline-svg",{staticClass:"icon icon-alert",attrs:{src:k}})],1):e._e()]),t("ul",{staticClass:"sub-defs"},e._l(r.subSteps,(function(a,i){return t("li",{key:i,staticClass:"sub-def",class:{active:e.shouldDisplayActive(r,i)},on:{click:function(t){return e.handleStepClick(r,{stepId:n,subStepIndex:i})}}},[e.shouldDisplayPinIcon(r,i)?t("span",[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:d}})],1):e._e(),t("span",{staticClass:"sub-def-name"},[e._v(e._s(a.name))])])})),0)])})),0)}),[],!1,null,"15d2610e").exports},experimentIds:g,definitionIds:b,data:()=>({activeDefinitionKey:localStorage.getItem("devPanel:modals:activeDefinitionKey")||"all",activeExperimentKey:localStorage.getItem("devPanel:modals:activeExperimentKey")||"all"}),computed:{filteredDefinitions(){return this.filterDefs(w.definitions,b,this.activeDefinitionKey)},filteredExperiments(){return this.filterDefs(w.experimentMap,g,this.activeExperimentKey)}},watch:{activeDefinitionKey(e){localStorage.setItem("devPanel:modals:activeDefinitionKey",e)},activeExperimentKey(e){localStorage.setItem("devPanel:modals:activeExperimentKey",e)}},methods:{filterDefs(e,t,r){if("all"===r)return e;{let n={};return Object.keys(e).forEach((a=>{t[r].indexOf(a)>=0&&(n[a]=e[a])})),n}},async resetOnboardingProgress(){const e=y();e.loaded||await e.refresh(),Object.values(e.items).forEach((t=>{"legacy"===t.status?o.patch("onboarding/"+t.id,{deleted:!0}):e.deleteStepProgress(t.id)})),indexedDB.deleteDatabase("syncedDb:onboardingSteps:local")},closePopup(){m.trigger("modal:close")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-dev"},[t("div",{staticClass:"all-defs"},[t("div",{staticClass:"definitions-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"type-wrapper"},[t("h4",[e._v("Standard Steps")]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.activeDefinitionKey,expression:"activeDefinitionKey"}],staticClass:"types",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.activeDefinitionKey=t.target.multiple?r:r[0]}}},e._l(Object.keys(e.$options.definitionIds),(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])})),0)])])]),t("definition-list",{attrs:{definitions:e.filteredDefinitions}})],1),Object.keys(e.filteredExperiments).length?t("div",{staticClass:"experiments-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"type-wrapper"},[t("h4",[e._v("Experiments")]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.activeExperimentKey,expression:"activeExperimentKey"}],staticClass:"types",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.activeExperimentKey=t.target.multiple?r:r[0]}}},e._l(Object.keys(e.$options.experimentIds),(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])})),0)])])]),t("ul",{staticClass:"experiments"},e._l(e.filteredExperiments,(function(r,n){return t("li",{key:n,staticClass:"experiment"},[t("strong",{staticClass:"experiment-name"},[e._v(e._s(r.name))]),t("ul",e._l(r.variants,(function(r,a){return t("li",{key:a,staticClass:"variant"},[t("header",[t("div",{staticClass:"variant-id"},[e._v(e._s(a))])]),t("definition-list",{attrs:{definitions:r.steps,"experiment-id":n,"variant-id":a}})],1)})),0)])})),0)]):e._e()]),t("div",{staticClass:"button-row"},[t("button",{staticClass:"button",on:{click:e.resetOnboardingProgress}},[e._v("Reset Progress")]),t("button",{staticClass:"button",on:{click:e.closePopup}},[e._v("Close Modal")])])])}),[],!1,null,"68dd45a4").exports;const Me=t({name:"DevTools",devTools:[{category:"Triggers",methods:[{value:"logEnvironment",shortcut:"⌘⇧L"},{value:"triggerNewDay",label:"New Day",shortcut:"⌃⇧D"},"resetSafariNotification","triggerFlashMessage","triggerFlashError","triggerConfettiMessage"]},{category:"Toggles",methods:[{value:"toggleLoggingMEvents",label:"m️ Event Logging",shortcut:"8"},{value:"toggleClockFormat",label:"Clock Format",shortcut:"⇧Z"},{value:"toggleFeatureDebug",argument:"instrumentation",label:"Instrumentation Event Logging",shortcut:"]"},{value:"toggleLocalSale",label:"Local Test Sale (Refresh)"}]},{category:"Feature test data",methods:[{value:"tabStashSeedOtherBrowserTestData",label:"Tab stash: Create session from other browser"},{value:"focusModeSetCapacityLimitTally",label:"Focus Mode: Set capacity limit tally to 59 minutes"}]}],methods:{callMethod(e){let t;"object"==typeof e&&(t=e.argument||"",e=e.value),m.devTools[e](t)},camelCaseToReadable:e=>m.utils.camelCaseToReadable(e)}},(function(){var e=this,t=e._self._c;return t("section",e._l(e.$options.devTools,(function(r){return t("div",{key:r.category},[t("h4",[e._v(e._s(r.category))]),e._l(r.methods,(function(r,n){return t("div",{key:n,staticClass:"button button-show button-dev-tool",on:{click:function(t){return e.callMethod(r)}}},[t("span",[e._v(" "+e._s("object"==typeof r?r.label?r.label:e.camelCaseToReadable(r.value):e.camelCaseToReadable(r))+" ")]),r.shortcut?t("span",{staticClass:"shortcut"},[e._v(" "+e._s(r.shortcut)+" ")]):e._e()])}))],2)})),0)}),[],!1,null,"c9d959f9").exports;const Pe=t({name:"Background",components:{Slider:C},data:()=>({activeBackground:{id:null,title:null,forDate:null,widgetColor:null,cached:null,isCustom:null,filename:null},adjustments:{brightness:1,contrast:1,saturation:1}}),watch:{adjustments:{handler:function(){let e="background-adjustment",t=document.getElementById(e);t&&t.remove();const r=`.background-item { filter: brightness(${this.adjustments.brightness}) contrast(${this.adjustments.contrast}) saturate(${this.adjustments.saturation}); }`,n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(r)),n.id=e,document.head.appendChild(n)},deep:!0}},created(){m.models.activeBackground.on("background:successfullyLoaded",this.setActiveBackground),this.setActiveBackground()},destroyed(){m.models.activeBackground.off("background:successfullyLoaded",this.setActiveBackground)},methods:{setActiveBackground(){const e=m.models.activeBackground.backgroundItem;e&&(this.activeBackground={id:e.get("_id")||e.get("id"),title:e.get("title"),forDate:e.get("forDate"),widgetColor:e.get("widgetColor"),cached:e.get("cached"),isCustom:!!e.get("isCustom"),filename:e.get("filename")})},capitalizeFirstLetter:m.utils.capitalizeFirstLetter}},(function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"details"},[t("h3",[e._v("Details")]),e.activeBackground.title?t("p",[t("strong",[e._v("Name:")]),e._v(" "+e._s(e.activeBackground.title))]):e._e(),t("p",[t("strong",[e._v("ID:")]),e._v(" "+e._s(e.activeBackground.id))]),t("p",[t("strong",[e._v("For Date:")]),e._v(" "+e._s(e.activeBackground.forDate))]),t("p",[t("strong",[e._v("Cached:")]),e._v(" "+e._s(e.activeBackground.cached))]),t("p",[t("strong",[e._v("Custom:")]),e._v(" "+e._s(e.activeBackground.isCustom))])]),e.activeBackground.widgetColor?t("div",[t("h3",[e._v("Widget Color")]),t("p",[t("strong",[e._v("Apps:")]),e._v(" "+e._s(e.activeBackground.widgetColor.hsla))]),t("p",[t("strong",[e._v("Text:")]),e._v(" "+e._s(e.activeBackground.widgetColor.bodyTextColor))])]):e._e(),t("a",{attrs:{href:e.activeBackground.filename}},[t("div",[e._v(" Photo Link ")])]),t("div",[t("h3",[e._v("Adjustment")]),e._l(e.adjustments,(function(r,n){return t("div",{key:n,staticClass:"slider"},[t("span",[e._v(e._s(e.capitalizeFirstLetter(n))+": "+e._s(r))]),t("slider",{attrs:{id:n,min:0,max:2,interval:.01},model:{value:e.adjustments[n],callback:function(t){e.$set(e.adjustments,n,t)},expression:"adjustments[name]"}})],1)}))],2)])}),[],!1,null,"98283a38").exports,Te=new(s.extend({unreactive:()=>({type:"accounts",mode:l.Cache}),mixins:[S]})),Ee=s.extend({mixins:[A],data:()=>({id:"",name:"",email:"",token:"",type:"",api:"",props:["name","email","token","type","api"]})});var De="production";const Ne=t({name:"AccountProperties",props:{viewManager:{type:Object,required:!0}},computed:{editProps(){return this.viewManager.editProps},typeClass(){return"free"===this.editProps.type?"":"badge-"+this.editProps.type}},created(){this.viewManager.adding&&(this.editProps.email=localStorage.getItem("email"),this.editProps.token=localStorage.getItem("token"),this.editProps.api=De),this.editProps.type=this.getAccountType()},methods:{getAccountType:()=>m.conditionalFeatures.featureEnabled("team")?"team":m.conditionalFeatures.featureEnabled("plus")?"plus":"free"}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"properties"},[t("div",{staticClass:"property email",attrs:{title:e.editProps.email}},[t("label",[e._v("Email")]),t("div",[e._v(e._s(e.editProps.email))])]),t("div",{staticClass:"property type"},[t("label",[e._v("Type")]),t("div",{staticClass:"badge",class:e.typeClass},[e._v(e._s(e.editProps.type))])]),t("div",{staticClass:"property api"},[t("label",[e._v("API")]),t("div",[e._v(e._s(e.editProps.api))])])])}),[],!1,null,"d2361e16").exports,Oe=new(s.extend({mixins:[I],unreactive:()=>({Model:Ee,dataService:Te,type:"accounts",fields:[{label:"Name",property:"name",type:"input"},{type:Ne}]})}));const $e=t({name:"AccountListItem",props:{item:{type:Object,required:!0},viewManager:{type:Object,required:!0}},computed:{typeClass(){return"free"===this.item.type?"":"badge-"+this.item.type}},methods:{edit(){this.viewManager.setItem(this.item),this.viewManager.showView("edit")},logIn(){let{token:e,email:t}=this.item;m.utils.clearStorage().finally((()=>{localStorage.setItem("token",e),localStorage.setItem("email",t),c.sendCrossTabMessage("reload"),location.reload()}))}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account"},[t("div",{staticClass:"left"},[t("div",{staticClass:"name",attrs:{title:e.item.email}},[e._v(e._s(e.item.name||e.item.email))]),t("div",{staticClass:"properties"},[t("div",{staticClass:"badge",class:e.typeClass},[e._v(e._s(e.item.type))]),t("div",{staticClass:"badge"},[e._v(e._s(e.item.api))])])]),t("div",{staticClass:"right"},[t("div",{staticClass:"icon-wrapper",on:{click:e.edit}},[t("inline-svg",{staticClass:"icon icon-cog",attrs:{src:M}})],1),t("div",{staticClass:"icon-wrapper",on:{click:e.logIn}},[t("inline-svg",{staticClass:"icon icon-log-in",attrs:{src:P}})],1)])])}),[],!1,null,"6f256dab").exports;const Le=t({name:"DevPanel",tabs:[{name:"Tools",component:Me},{name:"Apps",component:$},{name:"Modals",component:je},{name:"Account Switch",component:t({name:"AccountSwitch",components:{ViewContainer:T,EditForm:j,ItemList:x},unreactive:()=>({itemComponent:$e,viewManager:new _({unreactive(){return{collection:Oe,views:{list:{defaultView:!0},edit:{addView:!0,afterLeave:this.clearItem}}}}})}),computed:{activeViewComponent(){return"list"===this.activeViewId?"item-list":"edit"===this.activeViewId?"edit-form":void 0},isEmpty:()=>!Object.keys(Oe.data.items).length,activeViewId(){return this.viewManager.activeViewId}},methods:{async createLegacyUnregisteredUser(){await m.utils.clearStorage(),localStorage.setObject("momentum-customization-1",{id:1,displayname:"legacy"}),window.location.reload()},download(){const e=JSON.stringify(Object.values(Oe.data.items).map((e=>{const{name:t,type:r,email:n,token:a,api:i,props:o}=e;return{name:t,type:r,email:n,token:a,api:i,props:o}}))),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","account_switcher_export.ase_json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},restore(e){const t=e.target.files;if(!t[0])return;let r=new FileReader;r.onload=e=>{const t=e.target.result;if(t){JSON.parse(t).forEach((e=>{Oe.add({name:"",type:"",email:"",token:"",api:"",id:"",props:e.props,editProps:e})}))}location.reload()},r.readAsText(t[0])}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account-switch"},[t("view-container",{attrs:{"view-manager":e.viewManager,"smooth-reflow":!1,transition:"smooth-height-fade"},scopedSlots:e._u([{key:"header",fn:function(){return["list"!==e.activeViewId||e.isEmpty?"edit"===e.activeViewId?t("header",{key:"2",staticClass:"account-header"},[t("div",[e._v(e._s(e.viewManager.adding?"Add":"Edit")+" Account")]),t("div",[e.viewManager.adding?e._e():t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showDeleteConf()}}},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:D}})],1),t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showView("default")}}},[t("inline-svg",{staticClass:"icon icon-close",attrs:{src:N}})],1)])]):e._e():t("header",{key:"1",staticClass:"account-header"},[t("div",[e._v("Saved Accounts")]),t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showView("add")}}},[t("inline-svg",{staticClass:"icon icon-add",attrs:{src:E}})],1)])]},proxy:!0},{key:"body",fn:function(){return[t(e.activeViewComponent,{key:e.activeViewId,tag:"component",attrs:{"view-manager":e.viewManager,"item-component":e.itemComponent}})]},proxy:!0}])}),t("div",{staticClass:"button",on:{click:e.createLegacyUnregisteredUser}},[e._v("Legacy Unregistered User")]),t("div",{staticClass:"button",on:{click:e.download}},[e._v("Download")]),e._v(" Restore: "),t("input",{staticClass:"button",attrs:{type:"file",accept:".ase_json"},on:{change:e.restore}})],1)}),[],!1,null,"12a1b45b").exports},{name:"Gradient",component:Se},{name:"Notification",component:R},{name:"Background",component:Pe}],components:{DevInfo:z,DevNav:O},data:()=>({show:!0,showDropdown:!1,activeTabId:"Tools"}),computed:{activeTabComponent(){const e=this.$options.tabs.find((e=>this.activeTabId===e.name));return e&&e.component}},watch:{show:{handler(e){e?(document.body.classList.add("showing-dev-panel"),localStorage.setItem("dev-panel:open",!0)):(document.body.classList.remove("showing-dev-panel"),localStorage.removeItem("dev-panel:open")),c.$emit("devPanelToggled",!0),m.devPanelActive=e},immediate:!0}},created(){m.on("globalEvent:ctrlShiftBacktick",this.toggleDevPanel),this.activeTabId=localStorage.getItem("dev-panel:active-tab")||this.activeTabId},destroyed(){m.off("globalEvent:ctrlShiftBacktick",this.toggleDevPanel)},methods:{toggleDevPanel(){this.show=!this.show},goToTab(e){localStorage.setItem("dev-panel:active-tab",e),this.activeTabId=e}}},(function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"dev-panel app",on:{mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()}}},[t("dev-nav",{attrs:{"active-tab-id":e.activeTabId,tabs:e.$options.tabs,"dropdown-active":e.showDropdown},on:{"update:dropdownActive":function(t){e.showDropdown=t},"update:dropdown-active":function(t){e.showDropdown=t},goToTab:e.goToTab}}),t(e.activeTabComponent,{tag:"component",staticClass:"dev-panel-component",class:{"showing-nav":e.showDropdown},attrs:{"selected-item":e.activeTabId}}),t("dev-info")],1):e._e()}),[],!1,null,"9f8d523b").exports;export{Le as default};