import{a as o}from"./allComponentsMounted-Dqy5K4Uf.js";import{T as t}from"./index-C_ay7xUY.js";import{c as s}from"./main-Ca14UUfe.js";import{persistent as e}from"./reactiveCustomization-CaJFMm70.js";import{c as r,q as a,A as n}from"./dynamic-import-helper-Gh3O-GNF.js";import{D as i}from"./DashCheckbox-BKonsM6r.js";import{a as p}from"./modal-D5eTjgvI.js";import{s as c}from"./enums-Cgv4i8uw.js";import{B as d}from"./BaseDropdown-x2dYnnCF.js";import{B as l}from"./BaseDropdownOption-C6EewfIZ.js";import u from"./BaseIcon-CCkbWtl5.js";import{n as f}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./Logger-DgjqecXr.js";import"./array-YYQw31d9.js";import"./pinia-CCjyjLnb.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-DJj0rzI-.js";import"./main-DaaZyiXy.js";import"./migrateLegacyUserMessageHandler-FH_m4diU.js";import"./auth-D2YAhF74.js";import"./persistStore-7VuxlznA.js";import"./embeddedApp-C73bLmHI.js";import"./experiments-C9Yd4CP-.js";import"./flashMessageQueue-CiwsHFUx.js";import"./info-DdD9a7JK.js";import"./constants-u23t4s7p.js";import"./index-byH5_iOK.js";import"./appZStack-CXXM5U-T.js";import"./ResizeSensor-ZXOsDHeC.js";import"./promisifiedChrome-YDDyAvDe.js";import"./modal-DNJEx5xp.js";import"./VueBase-CYtBAh2Z.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./portal-vue.esm-BTKM9g0x.js";import"./daily-goal-DXmLNw7i.js";import"./search-_4L9pO9R.js";import"./calendar-C-iEpGgd.js";import"./SettingsTypes-BotgHBzA.js";import"./focusModeState-D4CLHiD7.js";import"./LocalStorageStoreSyncedItem-CtVH-muf.js";import"./string-DLOjEt1Y.js";import"./BaseDropdownContent-DpVJFI_8.js";import"./constants-CALDQiUE.js";import"./index-C2sSf61p.js";import"./icon-ellipsis-D7nTOXaQ.js";const j=f({name:"FocusContent",components:{BaseIcon:u,BaseDropdownOption:l,BaseDropdown:d,DashCheckbox:i,ThreeColLayout:t},mixins:[o],props:{focus:{type:Object,default:()=>({})},inPomodoro:{type:Boolean,default:!1}},setup:()=>({centerBelowMetadata:s,dropdown:r()}),computed:{autofocusLabel(){return(this.autoFocus?"Turn off":"Turn on")+" Top task in center"},autoFocus:()=>e.autoFocus},watch:{focus:{handler(){a((()=>m.trigger("focus-content:updated")))},immediate:!0}},methods:{handleDropdownClick(o){this.closeDropdown(),this.$emit(o)},toggleAutoFocus(){this.closeDropdown(),m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus",eventSource:"focus"})},startPomodoroTimer(){this.closeDropdown(),this.$plus?(m.trigger("pomodoro:show"),localStorage.setItem("pomodoro-focus-timer",!0),n.capture("start pomodoro timer click",{feature:"focus",is_paid_event:!0})):p(c.UPSELL_POMODORO,"focus")},complete(){this.$emit("complete")},afterEnter(){m.trigger("focus-content:updated")},openDropdown(){var o;null==(o=this.dropdown)||o.openDropdown()},closeDropdown(){var o;null==(o=this.dropdown)||o.closeDropdown()}}},(function(){var o=this,t=o._self._c;return t("div",{staticClass:"focus-content"},[o.inPomodoro?o._e():t("h3",{staticClass:"focus-title"},[o._v("Today")]),t("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-enter":o.afterEnter}},[t("three-col-layout",{key:o.focus.focus,staticClass:"focus-row",class:{complete:o.focus.completed},scopedSlots:o._u([{key:"left",fn:function(){return[o._t("nav"),t("dash-checkbox",{attrs:{"data-test":"complete",value:!!o.focus.completed},on:{input:o.complete}})]},proxy:!0},{key:"center",fn:function(){return[t("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:o.openDropdown.bind(null),expression:"openDropdown.bind(null)"}],staticClass:"todays-focus",attrs:{"data-test":"focus-active"},on:{dblclick:o.openDropdown}},[o._v(" "+o._s(o.focus.focus)+" ")])]},proxy:!0},{key:"right",fn:function(){return[t("base-dropdown",{ref:"dropdown",staticClass:"focus-dropdown",attrs:{"data-test":"more-toggle","container-class":"dash"},scopedSlots:o._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"icon-wrapper dark dark-full"},[t("base-icon",{staticClass:"icon",attrs:{src:"icon-ellipsis",size:"15px"}})],1)]},proxy:!0}])},[o.focus.completed?o._e():t("base-dropdown-option",{attrs:{"data-test":"edit"},nativeOn:{click:function(t){return o.handleDropdownClick("edit")}}},[t("base-icon",{attrs:{src:"pencil"}}),t("span",[o._v("Edit")])],1),t("base-dropdown-option",{attrs:{"data-test":"clear"},nativeOn:{click:function(t){return o.handleDropdownClick("archive")}}},[t("base-icon",{attrs:{src:"x"}}),t("span",[o._v("Clear")])],1),o.focus.completed?t("base-dropdown-option",{attrs:{"data-test":"new"},nativeOn:{click:function(t){return o.handleDropdownClick("new")}}},[t("base-icon",{attrs:{src:"plus"}}),t("span",[o._v("New")])],1):o._e(),t("base-dropdown-option",{attrs:{"data-test":"pomodoro-timer"},nativeOn:{click:function(t){return o.startPomodoroTimer.apply(null,arguments)}}},[t("base-icon",{attrs:{src:"icon/apps/pomodoro"}}),t("span",[o._v("Start Pomodoro Timer")]),o.$plus?o._e():t("div",{staticClass:"badge badge-plus"},[o._v("PLUS")])],1),t("base-dropdown-option",{attrs:{"data-test":"autofocus"},nativeOn:{click:function(t){return o.toggleAutoFocus.apply(null,arguments)}}},[t("base-icon",{attrs:{src:o.autoFocus?"pause":"play"}}),t("span",[o._v(o._s(o.autofocusLabel))]),o.$plus?o._e():t("div",{staticClass:"badge badge-plus"},[o._v("PLUS")])],1)],1)]},proxy:!0}],null,!0)})],1)],1)}),[],!1,null,"b5726176").exports;export{j as default};