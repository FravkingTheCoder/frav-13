const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/pomodoroCompleted-PtbKLdeQ.js","assets/js/dynamic-import-helper-Gh3O-GNF.js","assets/js/array-YYQw31d9.js","assets/js/main-DaaZyiXy.js","assets/js/Logger-DgjqecXr.js","assets/js/string-DLOjEt1Y.js","assets/js/persistStore-7VuxlznA.js","assets/js/focusModeState-D4CLHiD7.js","assets/js/LocalStorageStoreSyncedItem-CtVH-muf.js","assets/js/PomodoroTimers-CyrfcuWH.js","assets/js/reactiveCustomization-CaJFMm70.js","assets/js/VueBase-CYtBAh2Z.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/pinia-CCjyjLnb.js","assets/js/portal-vue.esm-BTKM9g0x.js","assets/js/promisifiedChrome-YDDyAvDe.js","assets/js/login-kENE0gaj.js","assets/js/authService-DSVbm6Rd.js","assets/js/auth-D2YAhF74.js","assets/js/legacyUserMigration-DJj0rzI-.js","assets/js/enums-Cgv4i8uw.js","assets/js/migrateLegacyUserMessageHandler-FH_m4diU.js","assets/js/onboarding-Bdvt2O8-.js","assets/js/modal-D5eTjgvI.js"])))=>i.map(i=>d[i]);
import{_ as o}from"./main-DaaZyiXy.js";import{persistent as t}from"./reactiveCustomization-CaJFMm70.js";import{S as e}from"./SmoothReflow-44YdkIfk.js";import{a as s}from"./allComponentsMounted-Dqy5K4Uf.js";import{n as r}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{T as c}from"./index-C_ay7xUY.js";import{s as a}from"./showAnyway-iBeVTgqC.js";import{c as i,u as n,A as p}from"./dynamic-import-helper-Gh3O-GNF.js";import{B as l}from"./BaseDropdownOption-C6EewfIZ.js";import{B as d}from"./BaseDropdown-x2dYnnCF.js";import{A as u}from"./AppHeader-D7x6VYmc.js";import h from"./BaseIcon-CCkbWtl5.js";import{T as w}from"./ToggleSwitch-BMo4SbmD.js";import{T as k,a as f}from"./PomodoroTimers-CyrfcuWH.js";import{C as g,a as C,c as j,b as _}from"./ClockSwitcherDropdown-DOeAb6Me.js";import{a as v}from"./modal-D5eTjgvI.js";import{s as y}from"./enums-Cgv4i8uw.js";import{B as D}from"./BaseDropdownDivider-Bay0Demn.js";import"./VueBase-CYtBAh2Z.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-CCjyjLnb.js";import"./portal-vue.esm-BTKM9g0x.js";import"./array-YYQw31d9.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./ResizeSensor-ZXOsDHeC.js";import"./localStorage-B4mFdj8F.js";import"./legacyUserMigration-DJj0rzI-.js";import"./migrateLegacyUserMessageHandler-FH_m4diU.js";import"./auth-D2YAhF74.js";import"./persistStore-7VuxlznA.js";import"./embeddedApp-C73bLmHI.js";import"./experiments-C9Yd4CP-.js";import"./flashMessageQueue-CiwsHFUx.js";import"./info-DdD9a7JK.js";import"./constants-u23t4s7p.js";import"./index-byH5_iOK.js";import"./appZStack-CXXM5U-T.js";import"./promisifiedChrome-YDDyAvDe.js";import"./modal-DNJEx5xp.js";import"./constants-CALDQiUE.js";import"./BaseDropdownContent-DpVJFI_8.js";import"./index-C2sSf61p.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./AppHeaderControl-kJjUFX4q.js";import"./constants-BfBD_H-d.js";import"./icon-close-DRlspKs3.js";import"./BaseDropdownText-2W0hM9-D.js";import"./switch-1q_g_nt5.js";const S=r({name:"Clock",components:{ThreeColLayout:c,SmoothReflow:e,DefaultClock:r({name:"DefaultClock",mixins:[s],computed:{timeString:()=>m.models.date.getTimeString(),hours(){return this.timeString.split(":")[0]},minutes(){return this.timeString.split(":")[1]}}},(function(){var o=this,t=o._self._c;return t("div",{staticClass:"default-clock",attrs:{"data-test":"default-clock"}},[t("span",{staticClass:"time",attrs:{"data-test":"default-clock-time"}},[t("span",{staticClass:"hours",attrs:{"data-test":"default-clock-hours"}},[o._v(o._s(o.hours))]),t("span",{staticClass:"colon"},[o._v(":")]),t("span",{staticClass:"minutes",attrs:{"data-test":"default-clock-minutes"}},[o._v(o._s(o.minutes))])])])}),[],!1,null,"2cd03b49").exports,PercentClock:r({name:"PercentClock",mixins:[s],computed:{balance:()=>m.models.balanceMode}},(function(){var o=this,t=o._self._c;return t("span",{staticClass:"percent-clock",attrs:{"data-test":"percent-clock"}},[t("div",{staticClass:"time"},[o._v(" "+o._s(o.balance.get("percent"))),t("span",{staticClass:"format percent-format"},[o._v("%")])])])}),[],!1,null,"a9967cec").exports,BaseDropdownOption:l,BaseDropdown:d,AppHeader:u,BaseIcon:h,ToggleSwitch:w,ClockSwitcherDropdown:g,ClockSwitcherContent:C,BaseDropdownDivider:D},mixins:[s],props:{quickNavVisible:{type:Boolean,default:!0}},setup:()=>({showAnyway:a,dropdown:i()}),computed:{activeClock(){return this.percentClock?"percent":"clock"},percentClock:()=>t.percentClock,hour12clock:()=>t.hour12clock,modeOptions(){return[j[_.Clock],j[k.Timer],j[_.Percent]].filter((o=>o.id!==this.activeClock))},currentMode(){return j[this.percentClock?_.Percent:_.Clock]}},methods:{async switchClock(e){if(this.activeClock!==e){switch(this.closeDropdown(),e){case _.Clock:t.percentClock=!1;break;case k.Timer:if(!this.$plus)return v(y.UPSELL_POMODORO,"clock dropdown");const e=(await o((()=>import("./pomodoroCompleted-PtbKLdeQ.js").then((o=>o.b))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))).usePomodoroSessionStore();await n((()=>e.loaded)).toBe(!0),await e.switchTo(f.Focus,{startPlaying:!1}),this.$emit("pomodoro-show",!0);break;case _.Percent:t.percentClock=!0}p.capture("clock switch",{feature:"default clock",new_value:e})}},openDropdown(){this.dropdown.openDropdown()},closeDropdown(){this.dropdown.closeDropdown()},toggle12hFormat(){t.hour12clock=!t.hour12clock,p.capture("clock format toggle",{feature:"default clock",new_value:this.hour12clock?"12h":"24h"})},openScheduleSettings(){this.$plus?(m.commandManager.executeAsync("settings.display",null,{scheduleVisible:!0,section:"balance"}),this.closeDropdown(),p.capture("edit schedule click",{feature:"percent clock",is_paid_event:!0})):v(y.UPSELL_BALANCE_MODE,"dash")},triggerClockDropdownToggledEvent(){m.trigger("clock:dropdownToggled")}}},(function(){var o=this,t=o._self._c;return t("three-col-layout",{staticClass:"app-container clock center-clock has-dash-icon",class:{"show-anyway":o.showAnyway.includes("clock")},attrs:{"data-show-anyway":"clock","data-test":"center-clock"},scopedSlots:o._u([{key:"center",fn:function(){return[t("smooth-reflow",{staticClass:"clocks-reflow",attrs:{"await-apps-ready":"",height:!1,width:!0,"transition-duration":1e3,duration:100,transition:"smooth-width-fade"}},[t("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:o.openDropdown,expression:"openDropdown"}],key:o.activeClock,on:{dblclick:o.openDropdown}},[o.percentClock?t("percent-clock"):t("default-clock")],1)])]},proxy:!0},{key:"right",fn:function(){return[t("div",{staticClass:"clock-dropdown"},[t("base-dropdown",{ref:"dropdown",attrs:{"min-width":"230px","container-class":"app clock-dropdown-container dash","data-test":"more-toggle"},on:{toggle:o.triggerClockDropdownToggledEvent}},[t("app-header",{on:{close:function(t){var e;null==(e=o.dropdown)||e.closeDropdown()}},scopedSlots:o._u([{key:"left",fn:function(){return[t("base-icon",{staticClass:"app-header-icon",attrs:{size:"16px",src:o.currentMode.icon||""}}),t("span",{staticClass:"app-header-name"},[o._v(o._s(o.currentMode.label))])]},proxy:!0},{key:"right",fn:function(){return[o.$touch?o._e():t("clock-switcher-dropdown",{attrs:{"mode-options":o.modeOptions},on:{switchTo:o.switchClock}})]},proxy:!0}])}),o.$touch?t("clock-switcher-content",{attrs:{"mode-options":o.modeOptions},on:{switchTo:o.switchClock}}):o._e(),o.$touch?t("base-dropdown-divider"):o._e(),o.percentClock?o._e():t("base-dropdown-option",{attrs:{"data-test":"hour-format"},on:{click:o.toggle12hFormat}},[t("span",[o._v("24-hour clock")]),t("span",{staticClass:"toggle-right"},[t("toggle-switch",{attrs:{value:!o.hour12clock}})],1)]),o.percentClock?t("base-dropdown-option",{attrs:{"data-test":"edit-schedule"},on:{click:o.openScheduleSettings}},[t("span",[o._v("Edit schedule")])]):o._e()],1)],1)]},proxy:!0}])})}),[],!1,null,"559378c6").exports;export{S as default};