const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/OnboardingNotificationIntroduction-BFW2xF2Z.js","assets/js/dynamic-import-helper-Gh3O-GNF.js","assets/js/array-YYQw31d9.js","assets/js/main-DaaZyiXy.js","assets/js/Logger-DgjqecXr.js","assets/js/string-DLOjEt1Y.js","assets/js/Popup-Bjdqr1_U.js","assets/js/BaseIcon-CCkbWtl5.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/BaseIcon-CPmL0n7V.css","assets/js/BaseDropdownContent-DpVJFI_8.js","assets/js/constants-CALDQiUE.js","assets/js/index-C2sSf61p.js","assets/css/BaseDropdownContent-DKsGy_8Z.css","assets/css/Popup-1eUR5ktp.css","assets/css/OnboardingNotificationIntroduction-NY8C_Ay_.css","assets/js/SubStepTipsContainer-BVhyJdol.js","assets/js/OnboardingVideoModalIntroduction-D1d_32pK.js","assets/js/ModalBox-C40-ftvI.js","assets/js/close-IeUcFsRm.js","assets/css/ModalBox-vWD54J7l.css","assets/css/OnboardingVideoModalIntroduction-BXB5dL3L.css","assets/js/OnboardingVideoNotificationIntroduction-CnSH_aOF.js","assets/css/OnboardingVideoNotificationIntroduction-DP3thBAA.css","assets/js/AiChatUpsell-BKKNmAdK.js","assets/js/UpsellModal-C-WIShKl.js","assets/js/icon-back-D7vBl-rG.js","assets/js/icon-close-DRlspKs3.js","assets/js/enums-Cgv4i8uw.js","assets/js/upgrade-RgQ_nwEP.js","assets/js/embeddedApp-C73bLmHI.js","assets/js/auth-D2YAhF74.js","assets/js/persistStore-7VuxlznA.js","assets/js/experiments-C9Yd4CP-.js","assets/js/plusStatusBanner-D0-ymRv2.js","assets/js/SubscriptionSummary-RRqVWeCc.js","assets/js/icon-clean-CKURZhAM.js","assets/css/UpsellModal-DnMU8Y5D.css","assets/js/easy-BlSSSWfE.js","assets/js/secure-Hzc_2W5D.js","assets/css/AiChatUpsell-I4Unbqoi.css","assets/js/AutofocusUpsell-Bzlb8zl1.js","assets/js/icon-focused-CGtSWngL.js","assets/js/icon-flow-BEQ4ibGr.js","assets/js/icon-integrations-CJvt3t6J.js","assets/js/BalanceModeUpsell-Br6jxuFH.js","assets/js/icon-hourly-D31VLw0V.js","assets/js/icon-balance-BEQ4ibGr.js","assets/js/icon-percent-schedule-sFliviMo.js","assets/js/CalendarUpsell-CCTxRr4J.js","assets/js/calendar-C-iEpGgd.js","assets/js/icon-history-CkMEKT56.js","assets/js/CountdownsUpsell-C2H-Z3e5.js","assets/js/icon-time-sensitive-CFkxJVUs.js","assets/js/FocusModeUpsell-CFVGQBlf.js","assets/js/focusModeState-D4CLHiD7.js","assets/js/LocalStorageStoreSyncedItem-CtVH-muf.js","assets/js/focusModeHelpers-CbYS8k-X.js","assets/js/reactiveCustomization-CaJFMm70.js","assets/js/VueBase-CYtBAh2Z.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/pinia-CCjyjLnb.js","assets/js/portal-vue.esm-BTKM9g0x.js","assets/js/PomodoroTimers-CyrfcuWH.js","assets/js/constants-BfBD_H-d.js","assets/js/focus-mode-TgjJstn5.js","assets/js/icon-habit-CyobjhAa.js","assets/js/icon-spiral-BpNIPel8.js","assets/css/FocusModeUpsell-otMaqNsV.css","assets/js/MantrasUpsell-Fmgdba8_.js","assets/js/icon-personalize-D-Q8P7CA.js","assets/js/icon-skip-NKABUUyQ.js","assets/js/icon-random-BazfyaSQ.js","assets/css/LoginName-B_SY1GJM.css","assets/js/MetricsUpsell-CPr0pzcT.js","assets/js/icon-top-of-mind-KY8a3NL1.js","assets/js/icon-multiple-types-C6o5Zl9-.js","assets/js/icon-fitness-CuDP5A24.js","assets/js/MultiTodoUpsell-BpeWZldc.js","assets/js/icon-more-lists-q-EqWctg.js","assets/js/icon-kanban-uT_SjwUN.js","assets/js/icon-color-DWYYkiUn.js","assets/js/NotesUpsell-B_MoK5Lt.js","assets/js/sparks-Vj9MgeFM.js","assets/js/brain-CoODe7UU.js","assets/js/PhotosUpsell-BiSsiGUq.js","assets/js/icon-personalize-photos-D39q7YXV.js","assets/js/icon-photo-match-COcZsWYu.js","assets/js/PomodoroUpsell-Dw1casEm.js","assets/js/icon-focus-stats-6W6jP5A2.js","assets/js/icon-customize-timers-DgMgSftf.js","assets/js/QuotesUpsell-CvfypQyZ.js","assets/css/QuotesUpsell-Cp_PO2Xy.css","assets/js/SoundsUpsell-BaD_ZRmh.js","assets/js/icon-headphones-BCOAFhua.js","assets/js/icon-audio-file-C5z8NBT3.js","assets/js/icon-soundwave-Cp4ZlUlZ.js","assets/css/SoundsUpsell-96GgF90K.css","assets/js/TabGroupsUpsell-BHrwk745.js","assets/js/icon-simplify-CH0ObbhY.js","assets/js/icon-infinity-BYguCjws.js","assets/css/TabGroupsUpsell-3Gn9seRC.css","assets/js/TabStashUpsell-Ls9YeXnq.js","assets/js/icon-sync-CUBUs3QH.js","assets/js/ThemesUpsell-C5qZLF2G.js","assets/js/icon-custom-theme-D39q7YXV.js","assets/js/icon-more-fonts-CkIvMWOQ.js","assets/js/TodoIntegrationsUpsell-D0qDDKyE.js","assets/js/icon-asana-CHXQNqTn.js","assets/js/icon-basecamp-B7R9CqXM.js","assets/js/icon-clickup-DJvBy36z.js","assets/js/icon-custom-soundscapes-C9DIWXTy.js","assets/js/icon-easy-access-BLZqwSdU.js","assets/js/icon-fullscreen-CLpPfUm0.js","assets/js/icon-github-Cg7Jlm6t.js","assets/js/icon-global-weather-DFqlm1rO.js","assets/js/icon-google-tasks-DffuYEQ2.js","assets/js/icon-happy-place-DmSiv1GS.js","assets/js/icon-hub-Du_fUHGa.js","assets/js/icon-microsoft-todo-CG5-eqQU.js","assets/js/icon-note-search-IZ_87Cw-.js","assets/js/icon-search-loc-OzW-f2Jw.js","assets/js/icon-simple-notes-BesprUxs.js","assets/js/icon-timezones-Vj-X_9v-.js","assets/js/icon-todoist-zkOUMnhb.js","assets/js/icon-trello-B_C5tSSW.js","assets/js/icon-weather-extra-Wd9LFvRq.js","assets/css/TodoIntegrationsUpsell-BfA9dSGL.css","assets/js/WeatherUpsell-D98v0QUk.js","assets/js/WorldClocksUpsell-DngVpmsv.js","assets/js/SiteBlockerUpsell-xNuj1gMQ.js","assets/js/ban-C8xjo91W.js","assets/js/square-check-CyN_ERxV.js","assets/js/biceps-flexed-BDmy6yoM.js","assets/js/streaks-aZsP8Pn2.js","assets/js/OnboardingUseAccount-D9_VIYPg.js","assets/js/ssoHelpers-CCLKEX87.js","assets/js/authService-DSVbm6Rd.js","assets/js/legacyUserMigration-DJj0rzI-.js","assets/js/migrateLegacyUserMessageHandler-FH_m4diU.js","assets/js/helpers-DBbhml_y.js","assets/js/TabLeaderElection-8EqWBm0z.js","assets/js/onboarding-Bdvt2O8-.js","assets/js/compareObjects-BF7sSNEf.js","assets/js/modal-DNJEx5xp.js","assets/js/login-kENE0gaj.js","assets/js/icon-confetti-BvRSomF2.js","assets/js/siteBlockerGroups-9WPnbAn4.js","assets/js/constants-Dqx3dGLK.js","assets/js/SettingsTypes-BotgHBzA.js","assets/js/accessToken-tlcZZvow.js","assets/js/tasksMockData-Co81Ft0X.js","assets/js/tasksViewState-DusFQxW4.js","assets/js/ViewState-CalcjAWV.js","assets/js/appZStack-CXXM5U-T.js","assets/css/OnboardingUseAccount-CxTqheZy.css","assets/js/UpgradeModal-VmVUU5Lf.js","assets/js/IframeHost-IIjkx2YY.js","assets/js/IframeMessenger-Dbsts-JD.js","assets/js/icon-error-state-DPDi2Xf2.js","assets/css/IframeHost-DvFWh4FN.css","assets/js/feel-focused-Cmh8GW4d.js","assets/js/stay-on-task-C4IAAUIP.js","assets/js/tasks-completed-g7itYxRk.js","assets/js/partner-Di3nUfmp.js","assets/js/star-CbN1Y0Dx.js","assets/js/ModalLayout-DYU96fvN.js","assets/css/ModalLayout-Di888OSg.css","assets/css/UpgradeModal-CmPv8F6b.css","assets/js/OneTimeLogin-CHT1Rpxc.js","assets/js/oneTimeLoginService-CdNq_uct.js","assets/js/SmoothReflow-44YdkIfk.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/allComponentsMounted-Dqy5K4Uf.js","assets/css/SmoothReflow-C9vjifOL.css","assets/css/OneTimeLogin-CPUDoLrR.css","assets/js/Login-DW4yFSNz.js","assets/css/Login-Bbjig4RF.css","assets/js/LoginName-uU_Atkrq.js","assets/js/loginStepMixin-Cz8t8zo_.js","assets/js/icon-next-CI-_n-sg.js","assets/css/loginStepMixin-CiZN3zMj.css","assets/js/LoginInput-BatoPMN3.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/MobileBlur-B2s9dLKD.js","assets/css/LoginInput-Dl-Ud8LM.css","assets/js/LoginEmail-CTE2fBDF.js","assets/js/LoginChoosePassword-i2Otd_Ir.js","assets/js/LoginPasswordInput-lBIPxz19.js","assets/js/icon-visible-on-DF1CdqCc.js","assets/js/icon-visible-off-CwNdVUTo.js","assets/css/LoginPasswordInput-BhaeJAQu.css","assets/js/LoginEnterPassword-CHmxjw1d.js","assets/js/icon-key-DzBZs7wb.js","assets/js/LoginResetPassword-frW5Rf-L.js","assets/js/LoginResetPasswordSent-B9r9Fosx.js","assets/css/LoginResetPasswordSent-CNv7fMoB.css","assets/js/LoginDataCollection-PokPBGZo.js","assets/css/LoginDataCollection-CHJdyOKZ.css","assets/js/LoginProvider-B0ZlvH7n.js","assets/js/OAuthButton-BXxH8Ib9.js","assets/js/icon-apple-dpDSqZSz.js","assets/js/google-NyzgtnG4.js","assets/css/OAuthButton-BXEODMNm.css","assets/js/icon-email-BZ6UK25K.js","assets/js/icon-skip-intro-f034Ba9B.js","assets/css/LoginProvider-BmcOQuzZ.css","assets/js/LoginAddPasswordExistingAccount-c2WAerZ9.js","assets/css/LoginAddPasswordExistingAccount-BmbkF7Gs.css","assets/js/siteBlockerSession-omvO_qAK.js","assets/js/promisifiedChrome-YDDyAvDe.js","assets/js/focusModeViewState-B4fUYtwj.js","assets/js/pomodoroCompleted-PtbKLdeQ.js","assets/js/modal-D5eTjgvI.js","assets/js/Tour-BZo3KvFS.js","assets/js/MaskedOverlay-C2UPWDjy.js","assets/css/MaskedOverlay-DOIwg5aR.css","assets/css/Tour-CxNhcbGU.css","assets/js/TourFeature-BtoEjobV.js","assets/js/arrow-NsbeR45Y.js","assets/css/TourFeature-nqLgV3XM.css","assets/js/TabStashOnboarding-CHjydyFj.js","assets/css/TabStashOnboarding-D-L71rxw.css","assets/js/SurveyIframeModal-BU3GuiZK.js","assets/css/SurveyIframeModal-DSmM6FCK.css","assets/js/soundsViewState-DDWq5mhi.js","assets/js/ReleaseUpdateModal-BQFmCBOq.js","assets/css/ReleaseUpdateModal-jwrO0wsF.css","assets/js/SetupUnregisteredDashboard-CmO_xD35.js","assets/css/SetupUnregisteredDashboard-Ci1yUeBa.css","assets/js/OnboardingModalIntroduction-4NSfKZ6f.js","assets/css/OnboardingModalIntroduction-ClbP0fLM.css","assets/js/TeamExpired-Dv1GTNDl.js","assets/css/TeamExpired-DWEo81O1.css","assets/js/OnboardingTipNotificationIntroduction-DMV48bF0.js","assets/css/OnboardingTipNotificationIntroduction-Cd6x1Q-Q.css","assets/js/FaviconPermission-Del-G2wE.js","assets/js/icon-lock-BDcjUj_s.js","assets/css/FaviconPermission-Dt9e8ezX.css","assets/js/SafariAccount-rXA7lCmF.js","assets/js/icon-profile-womUQGUp.js","assets/css/SafariAccount-b6HVzRwU.css","assets/js/PermissionRequest-Br4mLa3z.js","assets/js/icon-down-CXjJWZ3Q.js","assets/css/PermissionRequest-D66Ot69n.css"])))=>i.map(i=>d[i]);
var e,t,o=Object.defineProperty,a=(e,t,a)=>((e,t,a)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a)(e,"symbol"!=typeof t?t+"":t,a);import{D as s,M as n,f as i,d as r,n as c,u as l,r as d,aS as p,ap as u,aE as _,e as E,V as S,N as T,A as g,aT as h,aU as f,a6 as b,a7 as O,ax as P,F as I,o as y}from"./dynamic-import-helper-Gh3O-GNF.js";import{a as w,c as R}from"./array-YYQw31d9.js";import{_ as v}from"./main-DaaZyiXy.js";import{e as C,v as D,s as A,l as L}from"./enums-Cgv4i8uw.js";import{d as N,a as M,c as V}from"./helpers-DBbhml_y.js";import{d as U,f as k}from"./focusModeState-D4CLHiD7.js";import{S as F,a as x,O as B,D as j,b as Y,s as G,i as W}from"./onboarding-Bdvt2O8-.js";import{a as H}from"./compareObjects-BF7sSNEf.js";import{u as $}from"./modal-DNJEx5xp.js";import{u as K}from"./SubscriptionSummary-RRqVWeCc.js";import{computed as z,persistent as q,setMultiple as Z}from"./reactiveCustomization-CaJFMm70.js";import{g as Q,m as J}from"./Logger-DgjqecXr.js";import{a as X,D as ee}from"./constants-CALDQiUE.js";import{b as te}from"./constants-BfBD_H-d.js";import{a as oe}from"./authService-DSVbm6Rd.js";import{l as ae,c as se,a as ne}from"./login-kENE0gaj.js";import ie from"./icon-confetti-BvRSomF2.js";import{e as re,g as ce,d as le,i as de}from"./focusModeHelpers-CbYS8k-X.js";import{g as me}from"./experiments-C9Yd4CP-.js";import{u as pe}from"./siteBlockerGroups-9WPnbAn4.js";import{C as ue}from"./SettingsTypes-BotgHBzA.js";import{c as _e}from"./accessToken-tlcZZvow.js";import{u as Ee}from"./tasksMockData-Co81Ft0X.js";import{u as Se,T as Te}from"./tasksViewState-DusFQxW4.js";class ge{constructor({id:e=w(),name:t,status:o,data:a={}}){this.id=e,this.name=t,this.status=o,this.data=a}}var he=(e=>(e.Welcome="welcome",e.Goal="goal",e.Focus="focus",e))(he||{});const fe={welcome:{header:"🌄 Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra each day."},goal:{header:"🎯 Stay Focused",body:"View your daily goal with each new tab. With Plus, sync your goal with your next task."},focus:{header:"🧠 Beat Procrastination",body:"Get in the zone: Block distractions, vacuum tabs, and use focus timers and sounds."}};var be=(e=>(e.Customize="customize",e.Glance="glance",e.Tasks="tasks",e.Focus="focus",e))(be||{});const Oe={customize:{header:"✨ Customize Momentum for Truly Personal Inspiration",body:"Add your own photos, quotes or mantras to truly make the dashboard your own."},glance:{header:"📋 Your Life at a Glance",body:"Add countdowns, metrics, or world clocks to your dashboard and link them to your favorite apps.",tip:"This is a sample. Create your own content after the demo."},tasks:{header:"😌 Tame Your Tasks",body:"Automatically display your current task front and center while syncing with your favorite to-do apps."},focus:{header:"💭 Unlimited Focus",body:"Use Focus Mode as long as you want. Access Pomodoro, Tab Stash, Site Blocker, and Sounds even outside Focus Mode."}},Pe=["Yesterday, you said tomorrow."],Ie={clocks:[{id:w(),name:"Paris",pinned:!0,timeZoneId:"Europe/Paris",timeZoneName:"Paris, Ile-de-France, France"}],metrics:[{id:w(),label:"Steps",pinned:!0,value:5e3}],countdowns:[{id:w(),utcDate:Date.now()+72576e5,hasHours:!1,pinned:!0,name:"Deadline"}]},ye="Todoist",we=["Prepare workshop","Write essay","Literature review"],Re="icon/upsell/icon-todoist",ve={focus:[{id:w(),focus:we[0],forDate:i()}]},Ce={width:440,subStep:!0,onboardingStyling:!0,secondaryClasses:"button button-tertiary"};var De=(e=>(e.Motivation="motivation",e.Procrastination="procrastination",e.Focus="focus",e))(De||{});const Ae={motivation:{header:"Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra daily."},procrastination:{header:"Beat Procrastination",body:"Keep your #1 task front and center. Streamline tasks in a simple task list."},focus:{header:"Focus Better",body:"Stop distractions magically as you vacuum up tabs, turn on white noise, and start a focus timer in one click."}},Le=(e,t)=>{const o=e.slice(t.length);let a=`${r.capitalizeFirstLetter(t)}: `;for(let s=0;s<o.length;++s){const e=o.at(s);e&&(e===e.toUpperCase()&&(a+=" "),a+=e)}return a},Ne=e=>`fade-slide-${"bottom"===e?"down":"up"}-full`,Me=e=>`slide-${e}`,Ve=()=>{const e=localStorage.getItem("user:createTime");return e?new Date(e):null},Ue=()=>{const e=JSON.parse(localStorage.getItem("analytics:tabLoad")??"{}"),t=Ve(),o=t?r.dateDiffIntegerDays(t,new Date)+1:0;return{tabs:e.count??0,days:o}},ke=(e,t)=>{var o;const a=["complete","legacy"];return(null==t?void 0:t.includeDismissed)&&a.push("dismissed"),a.includes((null==(o=Ro().getStep(e))?void 0:o.status)??"")},Fe=e=>{const t=ke(e,{includeDismissed:!0}),o=(e=>{const t=Ro().getStep(e);return t&&!!t.data.dateCompleted&&r.dateDiffIntegerDays(new Date,new Date(t.data.dateCompleted))<0})(e);return t&&o},xe=()=>U.currentValue||k.currentValue,Be=e=>{c.$emit("popup:hide",e)},je=()=>{m.trigger("modal:complete")},Ye=()=>{m.trigger("modal:subStepComplete")},Ge=()=>{m.trigger("modal:close")},We=()=>{m.on("focusMode:starting",je),m.on("focusMode:hover:toggle",Be)},He=()=>{m.off("focusMode:starting",je),m.off("focusMode:hover:toggle",Be)},$e=()=>{m.trigger("focusMode:start")},Ke=()=>{m.on("settings:visible",(()=>Be(!0))),m.on("settings:hidden",(()=>Be(!1)))},ze=()=>{m.off("settings:visible",(()=>Be(!0))),m.off("settings:hidden",(()=>Be(!1)))},qe=()=>v((()=>import("./OnboardingNotificationIntroduction-BFW2xF2Z.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])),Ze=N({name:"Notification Introduction",hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,keepOpenUntilComplete:!0,transitionDuration:250,component:()=>v((()=>import("./SubStepTipsContainer-BVhyJdol.js")),__vite__mapDeps([16,1,2,3,4,5,8])),onShow(){m.on("focusMode:starting",Ge),Ke()},onLeave(){m.off("focusMode:starting",Ge),ze()},subSteps:[M({name:he.Welcome,class:"fast",component:qe,componentProps:{...Ce,targetElementSelector:".app-container.settings .app-dash",ctaText:"Next",ctaTriggersComplete:!0,headerText:fe[he.Welcome].header,bodyText:fe[he.Welcome].body,videoUrl:"https://momentum.photos/assets/5b4e6695-526f-4e3e-977e-d2cc61af0851",videoIsButtonForModalVideo:!0,footerText:"1 of 3"}}),M({name:he.Goal,class:"fast",component:qe,componentProps:{...Ce,targetElementSelector:".app-container.settings .app-dash",ctaText:"Next",ctaTriggersComplete:!0,headerText:fe[he.Goal].header,bodyText:fe[he.Goal].body,videoUrl:"https://momentum.photos/assets/2d20410c-8758-410e-99bc-d0690b47a103",videoIsMask:!0,footerText:"2 of 3"}}),M({name:he.Focus,class:"fast",component:qe,componentProps:{...Ce,targetElementSelector:".app-container.settings .app-dash",ctaText:"Try Focus Mode",ctaCallback:async()=>{m.off("focusMode:starting",Ge),$e(),await l((()=>k.currentValue)).toBe(!0)},ctaTriggersComplete:!0,headerText:fe[he.Focus].header,bodyText:fe[he.Focus].body,videoUrl:"https://momentum.photos/assets/d08bd4ad-bd5c-4793-8077-99ae0add2d54",footerText:"3 of 3"}})]}),Qe=N({name:"Video Modal Introduction",component:()=>v((()=>import("./OnboardingVideoModalIntroduction-D1d_32pK.js")),__vite__mapDeps([17,1,2,3,4,5,18,19,8,20,21])),componentProps:{arcadeVideoIframeSrc:"https://demo.arcade.software/O6824L974TVBEyGDk0RT?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=false"},keepOpenUntilComplete:!0}),Je=N({name:"Video Notification Introduction",component:()=>v((()=>import("./OnboardingVideoNotificationIntroduction-CnSH_aOF.js")),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,13,14,23])),transitionName:Ne("top"),keepOpenUntilComplete:!0,componentProps:{headerText:"Watch a video to get started",previewVideoSrc:"https://customer-fw5z54kkbbca834k.cloudflarestream.com/a10b061203651e2312158b0dbcf686bf/iframe?muted=true&preload=true&loop=true&autoplay=true&poster=https%3A%2F%2Fcustomer-fw5z54kkbbca834k.cloudflarestream.com%2Fa10b061203651e2312158b0dbcf686bf%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D0%26height%3D600&startTime=0&controls=false"},onShow(){m.on("focusMode:starting",Ge),Ke()},async onLeave(e){if(m.off("focusMode:starting",Ge),ze(),e!==F.Completed)return;m.cmd("modal.open","FREE_VIDEO_INTRODUCTION");const t=$();await l((()=>t.activeStep.name)).toBe(void 0)}}),Xe={[C.ONBOARDING_VARIANTS_TEST_1]:{name:"Introduction",variants:{[D.ONBOARDING_VARIANT_NOTIFICATION]:{steps:[A.FREE_INTRODUCTION],overrides:{[A.FREE_INTRODUCTION]:Ze}}}},[C.ONBOARDING_VIDEO_TEST]:{name:"Introduction",variants:{[D.ONBOARDING_VIDEO_VARIANT_FULLSCREEN]:{steps:[A.FREE_INTRODUCTION],overrides:{[A.FREE_INTRODUCTION]:Qe}},[D.ONBOARDING_VIDEO_VARIANT_NOTIFICATION]:{steps:[A.FREE_INTRODUCTION],overrides:{[A.FREE_INTRODUCTION]:Je}}}}},et={all:Object.keys(Xe),unregistered:[C.ONBOARDING_VARIANTS_TEST_1,C.ONBOARDING_VIDEO_TEST],free:[C.ONBOARDING_VARIANTS_TEST_1,C.ONBOARDING_VIDEO_TEST],plus:[]};function tt(){var e;const t=function(e=p().state){var t;let o={};return null==(t=et[e])||t.filter((e=>{const t="true"===localStorage.getItem("experiments:disabled"),o=(localStorage.getObject("experiments:disabled:exceptions")??[]).includes(e);return!t||o})).forEach((e=>{var t;st(null==(t=Xe[e])?void 0:t.disabledBrowsers)||(o[e]=Xe[e])})),o}(),o=ot();if(!t)return o;let a={};return null==(e=d.experiments)||e.forEach((e=>{let s=t[e.experimentName];if(!s)return;const n=s.variants[e.variantName];n&&n.steps.forEach((function(e){var t;a[e]={...go[e]},(null==(t=n.overrides)?void 0:t[e])&&(a[e]=Object.assign(a[e],n.overrides[e])),n.deleteSteps&&n.deleteSteps.forEach((e=>{delete o[e]}))}))})),Object.assign(o,a)}function ot(e=p().state){var t;let o={};return null==(t=Io[e])||t.forEach((e=>{var t;st(null==(t=go[e])?void 0:t.disabledBrowsers)||(o[e]=go[e])})),o}function at(){var e;return Object.keys(Xe).length&&(null==(e=d.experiments)?void 0:e.length)?tt():ot()}function st(e){return(null==e?void 0:e.includes(u()))||(null==e?void 0:e.includes("Mobile"))&&_()}function nt(){if(!Object.keys(Xe).length)return{};const e=et.all;let t={};return e.forEach((e=>{let o=Xe[e],a={variants:{},name:o.name};Object.keys(o.variants).forEach((e=>{let t=o.variants[e];a.variants[e]={steps:{},name:t.name},t.steps.forEach((o=>{a.variants[e].steps[o]=Object.assign({},go[o],t.overrides?t.overrides[o]:{})}))})),t[e]=a})),t}const it=((e=(()=>new s("onboardingSteps:local",{mode:n.Cache}))())=>E("onboardingLocalData",{state:()=>({items:{},loading:!1,itemsLoaded:!1}),actions:{async refresh(){if(!this.loading)return this.loading=!0,new Promise(((t,o)=>{e.get({success:e=>{const o=[];e.forEach((e=>{S.set(this.items,e.id,e),e.id&&o.push(e.id)})),Object.keys(this.items).forEach((e=>{o.includes(e)||S.delete(this.items,e)})),this.itemsLoaded=!0,t()},failure(e){console.error(e),o(e)}})})).finally((()=>{this.loading=!1}))},async saveStepLocalData(t,o){try{t in this.items?(S.set(this.items,t,{...this.items[t],...o}),await e.update(t,o)):(S.set(this.items,t,{stepId:t,...o}),await e.create(t,o))}catch(a){console.error(a)}},getStepLocalData(e){let t={};return e in this.items&&(t=this.items[e]),"id"in t&&delete t.id,t},deleteStepLocalData(t){return S.delete(this.items,t),e.delete(t)}}}))(),rt=new g({feature:"onboarding"}),ct={views:5,minimumImpressionSeconds:5};const lt=new class{constructor(){a(this,"_eventListenerMap",{}),a(this,"loaded",!1),this.allocatedDefinitions={},this.impressionTimeout=null}allocateDefinitions(){this.allocatedDefinitions=at()}get _onboardingStore(){return Ro()}get _onboardingLocalDataStore(){return it()}async loadOnboarding(){if(d.onboardingRefreshing||this.loaded||T())return;const e=e=>{d.onboardingRefreshing=!1,this.loaded=!0,e&&m.models.notificationManager.displayPendingMessages()},t=()=>(e(!0),!1);try{d.onboardingRefreshing=!0,this.allocateDefinitions(),await this._onboardingStore.refresh();let[o,a]=await this._getNextStep(),s=await this._getUncompletedEventTriggeredModals();if(!o&&!s.length)return t();s.length&&this._addEventListeners(s),o&&this._initiateOnboardingStep(o,a),e()}catch(o){console.error(o),t()}}async refreshOnboarding(){if(T())return;d.onboardingRefreshing=!0,await this._onboardingStore.refresh(),this.allocateDefinitions();let e=await this._getUncompletedEventTriggeredModals();e.length&&(this._removeAllEventListeners(),this._addEventListeners(e)),await this.initiateNextStep(),d.onboardingRefreshing=!1}async initiateNextStep(){const[e,t]=await this._getNextStep();return!!e&&(this._initiateOnboardingStep(e,t),!0)}_getUncompletedEventTriggeredModals(){return r.asyncFilter(Object.values(this.allocatedDefinitions),(async e=>e.event&&await this._stepCanBeShown(e,{now:!1})))}_removeAllEventListeners(){Object.values(this._eventListenerMap).forEach((({event:e,handler:t})=>m.off(e,t))),this._eventListenerMap={}}_addEventListeners(e){e.forEach((e=>{if(e.event){const t=async()=>{var o;if(await this._stepCanBeShown(e)&&!$().locked){const a=this._onboardingStore.getStep(e);this._initiateOnboardingStep(this._addHooksToDefinitions(e),(null==(o=null==a?void 0:a.data)?void 0:o.activeSubStepIndex)||0),m.off(e.event,t),c.$off(e.event,t),delete this._eventListenerMap[e.name]}};m.on(e.event,t),c.$on(e.event,t),this._eventListenerMap[e.name]={event:e.event,handler:t}}}))}_initiateOnboardingStep(e,t){e&&m.trigger("modal:show",e,{subStepIndex:t})}async _getNextStep(){var e;for(let t in this.allocatedDefinitions){if(!Object.prototype.hasOwnProperty.call(this.allocatedDefinitions,t))continue;const o=this.allocatedDefinitions[t];if(!o.event&&await this._stepCanBeShown(o)){const t=this._onboardingStore.getStep(o);return[this._addHooksToDefinitions(o),(null==(e=null==t?void 0:t.data)?void 0:e.activeSubStepIndex)||0]}}return[]}async _onStepShow(e){var t;this._onboardingStore.getStep(e)||await this._onboardingStore.saveStepProgress(e),!1!==e&&await this._trackImpressionAndViews(e),await(null==(t=e.onShow)?void 0:t.call(e)),rt.deferredCapture("onboarding step show",{name:e.name.toLowerCase()})}async _onStepComplete(e,t,o=F.Completed,a=!0){var s;await(null==(s=e[x[o]])?void 0:s.call(e,t));const n=this._onboardingStore.getStep(e),{views:i,impressionReached:r=!1}=(null==n?void 0:n.data)||{};rt.capture(B[o],{name:e.name.toLowerCase(),auto_dismissed:!1,views:i,impression_reached:r}),a&&await this._onboardingStore.saveStepProgress(e,{status:o,activeSubStepIndex:t.activeSubStepIndex})}async _onSubStepComplete(e,t){var o;const{activeSubStep:a,nextSubStepIndex:s,hasSubStepsRemaining:n}=t;await(null==(o=e._onSubStepComplete)?void 0:o.call(e,t)),rt.capture("onboarding sub-step complete",{step:e.name.toLowerCase(),sub_step:a.name.toLowerCase()}),n&&await this._onboardingStore.saveStepProgress(e,{activeSubStepIndex:s})}async _onStepLeave(e,t){var o;await(null==(o=e.onLeave)?void 0:o.call(e,t)),t===F.Errored||await this.initiateNextStep()||m.models.notificationManager.displayPendingMessages()}_addHooksToDefinitions(e){var t;const o={...e,onShow:()=>this._onStepShow(e),onComplete:t=>this._onStepComplete(e,t,F.Completed,!0),onDismiss:t=>this._onStepComplete(e,t,F.Dismissed,!0),onError:t=>this._onStepComplete(e,t,F.Errored,!1),onLeave:this._onStepLeave.bind(this,e)};return(null==(t=e.subSteps)?void 0:t.length)&&(o.onSubStepComplete=t=>this._onSubStepComplete(e,t)),o}async _stepCanBeShown(e,{now:t=!0}={}){let o=this._onboardingStore.getStep(e);return(!o||![F.Completed,F.Dismissed,F.Legacy].includes(o.status))&&(!!(await this._userMeetsDateRestrictions(e))&&(!t||this._checkShouldActivate(e)))}_stepCanBeAutoDismissed(e){var t;const o=this._onboardingStore.getStep(e);if(!o)return!1;const{views:a,minimumImpressionSeconds:s}=e.autoDismiss||ct,n=a&&(o.data.views||0)<a,i=s&&!(null==(t=o.data)?void 0:t.impressionReached);return!n&&!i}async _trackImpressionAndViews(e){var t;const o=this._onboardingStore.getStep(e),{views:a,minimumImpressionSeconds:s}=e.autoDismiss||ct;a&&await this._trackViewCount(e,o),s&&!(null==(t=null==o?void 0:o.data)?void 0:t.impressionReached)&&await this._trackImpression(s,e,o)}async _trackImpression(e,t){clearTimeout(this.impressionTimeout),this.impressionTimeout=setTimeout((async()=>{await this._onboardingLocalDataStore.saveStepLocalData(t.id,{impressionReached:!0}),this._stepCanBeAutoDismissed(t)&&await this._saveStepAsAutoDismissed(t.id)}),1e3*e)}async _trackViewCount(e,t){var o;const a=((null==(o=null==t?void 0:t.data)?void 0:o.views)||0)+1;await this._onboardingLocalDataStore.saveStepLocalData(e.id,{views:a}),this._stepCanBeAutoDismissed(e)&&await this._saveStepAsAutoDismissed(e.id)}_saveStepAsAutoDismissed(e){var t;const o=this.allocatedDefinitions[e],{views:a,impressionReached:s}=(null==(t=this._onboardingStore.getStep(o))?void 0:t.data)??{};return rt.capture(B[F.Dismissed],{name:o.name.toLowerCase(),auto_dismissed:!0,views:a,impression_reached:s}),this._onboardingStore.saveStepProgress(e,{status:F.Dismissed,data:{autoDismissed:!0}})}async _userMeetsDateRestrictions(e){let t=localStorage.getItem("user:createTime");if(!t)return!1;let o=!0;if(e.plusSubscriptionTimeGate){const t=K();await l((()=>t.loaded)).toBe(!0),await l((()=>t.loading)).toBe(!1),o=new Date(t.firstSubscriptionStart)>new Date(e.plusSubscriptionTimeGate)}return o&&new Date(t)>new Date(e.userCreatedTimeGate||j)}async _checkShouldActivate(e){return!e.shouldActivate||await e.shouldActivate()}},dt=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"})),mt={[A.UPSELL_AI_CHAT]:N({name:"AiChat",component:()=>v((()=>import("./AiChatUpsell-BKKNmAdK.js")),__vite__mapDeps([24,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,38,39,40]))}),[A.UPSELL_AUTOFOCUS]:N({name:"Top task in center",component:()=>v((()=>import("./AutofocusUpsell-Bzlb8zl1.js")),__vite__mapDeps([41,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,42,43,44]))}),[A.UPSELL_BALANCE_MODE]:N({name:"Balance Mode",component:()=>v((()=>import("./BalanceModeUpsell-Br6jxuFH.js")),__vite__mapDeps([45,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,46,47,48]))}),[A.UPSELL_CALENDAR_INTEGRATION]:N({name:"Calendar",component:()=>v((()=>import("./CalendarUpsell-CCTxRr4J.js")),__vite__mapDeps([49,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,50,38,51]))}),[A.UPSELL_COUNTDOWNS]:N({name:"Countdown",component:()=>v((()=>import("./CountdownsUpsell-C2H-Z3e5.js")),__vite__mapDeps([52,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,53,51]))}),[A.UPSELL_FOCUS_MODE]:N({name:"Focus Mode",component:()=>v((()=>import("./FocusModeUpsell-CFVGQBlf.js")),__vite__mapDeps([54,1,2,3,4,5,55,56,57,58,59,60,61,62,63,64,32,65,25,26,27,8,28,12,29,30,31,33,34,35,36,37,66,67,68,69]))}),[A.UPSELL_MANTRAS]:N({name:"Mantra",component:()=>v((()=>import("./MantrasUpsell-Fmgdba8_.js")),__vite__mapDeps([70,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,71,72,73,74]))}),[A.UPSELL_METRICS]:N({name:"Metrics",component:()=>v((()=>import("./MetricsUpsell-CPr0pzcT.js")),__vite__mapDeps([75,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,76,77,78]))}),[A.UPSELL_MULTI_TODO]:N({name:"MultiTodo",component:()=>v((()=>import("./MultiTodoUpsell-BpeWZldc.js")),__vite__mapDeps([79,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,80,81,82]))}),[A.UPSELL_NOTES]:N({name:"Notes",component:()=>v((()=>import("./NotesUpsell-B_MoK5Lt.js")),__vite__mapDeps([83,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,84,85]))}),[A.UPSELL_PHOTOS]:N({name:"Photos",component:()=>v((()=>import("./PhotosUpsell-BiSsiGUq.js")),__vite__mapDeps([86,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,87,88,73]))}),[A.UPSELL_POMODORO]:N({name:"Pomodoro",component:()=>v((()=>import("./PomodoroUpsell-Dw1casEm.js")),__vite__mapDeps([89,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,43,90,91,74]))}),[A.UPSELL_QUOTES]:N({name:"Quotes",component:()=>v((()=>import("./QuotesUpsell-CvfypQyZ.js")),__vite__mapDeps([92,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,71,72,73,93]))}),[A.UPSELL_SOUNDS]:N({name:"Sounds",component:()=>v((()=>import("./SoundsUpsell-BaD_ZRmh.js")),__vite__mapDeps([94,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,95,96,97,98]))}),[A.UPSELL_TAB_GROUPS]:N({name:"Tab Groups",component:()=>v((()=>import("./TabGroupsUpsell-BHrwk745.js")),__vite__mapDeps([99,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,100,101,102]))}),[A.UPSELL_TAB_STASH]:N({name:"Tab Stash",component:()=>v((()=>import("./TabStashUpsell-Ls9YeXnq.js")),__vite__mapDeps([103,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,43,100,104]))}),[A.UPSELL_THEMES]:N({name:"Themes",component:()=>v((()=>import("./ThemesUpsell-C5qZLF2G.js")),__vite__mapDeps([105,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,88,106,107]))}),[A.UPSELL_TODO_INTEGRATIONS]:N({name:"Tasks Integrations",component:()=>v((()=>import("./TodoIntegrationsUpsell-D0qDDKyE.js")),__vite__mapDeps([108,85,38,109,96,47,110,36,111,82,112,106,91,113,78,43,90,42,114,115,116,117,67,118,95,51,46,119,101,44,81,120,107,80,77,121,48,87,71,88,73,122,123,100,72,97,68,104,53,124,125,76,126,127,39,84,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,37,128]))}),[A.UPSELL_WEATHER]:N({name:"Weather",component:()=>v((()=>import("./WeatherUpsell-D98v0QUk.js")),__vite__mapDeps([129,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,127,46,116]))}),[A.UPSELL_WORLD_CLOCKS]:N({name:"World Clocks",component:()=>v((()=>import("./WorldClocksUpsell-DngVpmsv.js")),__vite__mapDeps([130,25,26,27,8,1,2,3,4,5,28,12,29,30,31,32,33,34,35,36,37,124,122,101]))}),[A.UPSELL_SITE_BLOCKER]:N({name:"Site Blocker",component:()=>v((()=>import("./SiteBlockerUpsell-xNuj1gMQ.js")),__vite__mapDeps([131,1,2,3,4,5,25,26,27,8,28,12,29,30,31,32,33,34,35,36,37,132,133,134]))})};Object.values(mt).forEach((e=>{e.name="Upsell: "+e.name,e.getPlanInfo=!0,e.onLeave=()=>{lt.initiateNextStep()}}));const pt=[A.TIP_DAY_ONE_FOCUS_MODE,A.TIP_DAY_TWO_FOCUS_MODE,A.TIP_DAY_THREE_FOCUS_MODE,A.TIP_SURVEY_PMF_TYPEFORM_FREE,A.TIP_ADD_NAME],ut=[A.TIP_USE_ACCOUNT],_t=[A.TIP_SURVEY_PMF_TYPEFORM_PLUS,A.TIP_NEW_METRICS_ICONS],Et=[A.TIP_FOCUS_INSIGHT_APP,A.TIP_SITE_BLOCKER_FIRST_TIME,A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],St={[A.TIP_NEW_METRICS_ICONS]:"NEW"},Tt={[A.TIP_ADD_NAME]:"Make Momentum yours ✨",[A.TIP_NEW_METRICS_ICONS]:"Personalize with icons 🎨"},gt={[A.TIP_DAY_ONE_FOCUS_MODE]:"Mute your distractions and get in the zone. Start a session now!",[A.TIP_DAY_TWO_FOCUS_MODE]:"Starting with deep work will help you navigate your whole day with more flow and ease. Activate focus mode here.",[A.TIP_DAY_THREE_FOCUS_MODE]:"Feeling distracted? Get into the flow state with focus mode.",[A.TIP_FOCUS_INSIGHT_APP]:"You've completed your first focus timer! Stay motivated by using focus goals.",[A.TIP_SITE_BLOCKER_FIRST_TIME]:"Site Blocker helps eliminate the temptation to open distracting websites.",[A.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Would you be interested in helping us improve Momentum?",[A.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Would you be interested in helping us improve Momentum?",[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Do you have a minute to answer three questions about Site Blocker?",[A.TIP_ADD_NAME]:"Add your name and make your new tab a little more magical.",[A.TIP_USE_ACCOUNT]:"Register or sign in to sync your data.",[A.TIP_NEW_METRICS_ICONS]:"You can now choose icons for your metrics, countdowns and world clocks"},ht={[A.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Sure!",[A.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Sure!",[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Sure!"},ft={width:320},bt="2024-06-18T00:00:00.000Z";A.SURVEY_PMF_TYPEFORM_FREE,A.SURVEY_PMF_TYPEFORM_PLUS,A.SURVEY_SITE_BLOCKER_TYPEFORM,A.SURVEY_GENERAL_FEEDBACK,A.SURVEY_BUG_REPORT,A.SURVEY_BETA_TEST;var Ot=(e=>(e.PmfFree="surveys.pmfTypeformFreeSrc",e.PmfPlus="surveys.pmfTypeformPlusSrc",e.SiteBlocker="surveys.siteBlockerTypeformSrc",e))(Ot||{}),Pt=(e=>(e.GeneralFeedback="https://momentumdash.typeform.com/to/wqLzletJ",e.BugReport="https://momentumdash.typeform.com/to/WyBZaaAe",e.BetaTest="https://momentumdash.typeform.com/to/Io3C6FXv",e))(Pt||{});const It=()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),yt={[A.TIP_DAY_ONE_FOCUS_MODE]:N({name:Le(A.TIP_DAY_ONE_FOCUS_MODE,"tip"),component:It,componentProps:{...ft,onPopupClicked:$e,targetElementSelector:".app-container.focus-mode",position:X.Bottom,bodyText:gt[A.TIP_DAY_ONE_FOCUS_MODE]},shouldActivate:()=>{if(!z.focusModeVisible||xe())return!1;const{tabs:e,days:t}=Ue();return t>=1&&e>=3},onShow:We,onLeave:He,transitionName:Ne("bottom")}),[A.TIP_DAY_TWO_FOCUS_MODE]:N({name:Le(A.TIP_DAY_TWO_FOCUS_MODE,"tip"),component:It,componentProps:{...ft,onPopupClicked:$e,targetElementSelector:".app-container.focus-mode",position:X.Bottom,bodyText:gt[A.TIP_DAY_TWO_FOCUS_MODE]},shouldActivate:()=>{if(!z.focusModeVisible||xe())return!1;if(!Fe(A.TIP_DAY_ONE_FOCUS_MODE))return!1;const{tabs:e,days:t}=Ue();return t>=2&&e>=1},onShow:We,onLeave:He,transitionName:Ne("bottom")}),[A.TIP_DAY_THREE_FOCUS_MODE]:N({name:Le(A.TIP_DAY_THREE_FOCUS_MODE,"tip"),component:It,componentProps:{...ft,onPopupClicked:$e,targetElementSelector:".app-container.focus-mode",position:X.Bottom,bodyText:gt[A.TIP_DAY_THREE_FOCUS_MODE]},shouldActivate:()=>{if(!z.focusModeVisible||xe())return!1;if(!Fe(A.TIP_DAY_TWO_FOCUS_MODE))return!1;const{tabs:e,days:t}=Ue();return t>=3&&e>=3},onShow:We,onLeave:He,transitionName:Ne("bottom")}),[A.TIP_FOCUS_INSIGHT_APP]:N({name:Le(A.TIP_FOCUS_INSIGHT_APP,"tip"),component:It,componentProps:{...ft,bodyText:gt[A.TIP_FOCUS_INSIGHT_APP],targetElementSelector:".focus-mode-metric",position:X.Bottom,alignment:ee.Right,onPopupClicked:()=>{c.$emit("focusModeInsights:open")}},onShow:()=>{c.$on("focusModeInsights:toggled",je)},onLeave:()=>{c.$off("focusModeInsights:toggled",je)},event:"pomodoro:firstSessionCompleted",transitionName:Ne("bottom")}),[A.TIP_SITE_BLOCKER_FIRST_TIME]:N({name:Le(A.TIP_SITE_BLOCKER_FIRST_TIME,"tip"),component:It,componentProps:{...ft,onPopupClicked:()=>{c.$emit("siteBlocker:open")},targetElementSelector:".app-container.site-blocker",position:X.Bottom,bodyText:gt[A.TIP_SITE_BLOCKER_FIRST_TIME]},shouldActivate:()=>z.siteBlockerVisible&&U.currentValue&&!k.currentValue&&ke(A.FOCUS_MODE_ONBOARDING,{includeDismissed:!0}),onShow:()=>{c.$on("siteBlocker:toggled",je)},onLeave:()=>{c.$off("siteBlocker:toggled",je)},transitionName:Ne("bottom")}),[A.TIP_SURVEY_PMF_TYPEFORM_FREE]:N({name:Le(A.TIP_SURVEY_PMF_TYPEFORM_FREE,"tip"),component:It,componentProps:{...ft,targetElementSelector:".app-container.settings .app-dash",position:X.Top,nippleVisible:!1,bodyText:gt[A.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaText:ht[A.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaTriggersComplete:!0},transitionName:Ne("top"),shouldActivate:async()=>{if(!(await Q(Ot.PmfFree))||xe())return!1;const{days:e}=Ue();return e>=14},userCreatedTimeGate:bt,onShow:Ke,onLeave:ze,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_FREE",{force:!0})}}),[A.TIP_SURVEY_PMF_TYPEFORM_PLUS]:N({name:Le(A.TIP_SURVEY_PMF_TYPEFORM_PLUS,"tip"),component:It,componentProps:{...ft,targetElementSelector:".app-container.settings .app-dash",position:X.Top,nippleVisible:!1,bodyText:gt[A.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaText:ht[A.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaTriggersComplete:!0},transitionName:Ne("top"),async shouldActivate(){if(!(await Q(Ot.PmfPlus))||xe())return!1;const e=K();return await l((()=>e.loaded)).toBe(!0),e.subscriptionDaysElapsed>=14},onShow:Ke,onLeave:ze,userCreatedTimeGate:bt,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_PLUS",{force:!0})},alsoCompletesSteps:[A.TIP_SURVEY_PMF_TYPEFORM_FREE]}),[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:N({name:Le(A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM,"tip"),component:It,componentProps:{...ft,targetElementSelector:".app-container.settings .app-dash",position:X.Top,nippleVisible:!1,bodyText:gt[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaText:ht[A.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaTriggersComplete:!0},transitionName:Ne("top"),async shouldActivate(){if(!(await Q(Ot.SiteBlocker))||xe())return!1;const e=(await v((async()=>{const{default:e}=await import("./streaks-aZsP8Pn2.js").then((e=>e.s));return{default:e}}),__vite__mapDeps([135,1,2,3,4,5]))).default();return e.refresh(),await l((()=>e.loaded)).toBe(!0),e.getValidSitesResistedSince(10)>=3},event:"focusMode:stopped",onShow:Ke,onLeave:ze,onComplete(){m.cmd("modal.open","SURVEY_SITE_BLOCKER_TYPEFORM",{force:!0})},alsoCompletesSteps:[A.TIP_SURVEY_PMF_TYPEFORM_FREE]}),[A.TIP_USE_ACCOUNT]:N({name:Le(A.TIP_USE_ACCOUNT,"tip"),component:()=>v((()=>import("./OnboardingUseAccount-D9_VIYPg.js")),__vite__mapDeps([136,1,2,3,4,5,6,7,8,9,10,11,12,13,14,137,138,31,32,139,28,140,58,59,60,61,62,63,141,142,55,56,143,144,145,35,65,146,147,57,64,33,148,149,150,151,152,153,154,155,156])),componentProps:{bodyText:gt[A.TIP_USE_ACCOUNT]},transitionName:Ne("top"),shouldActivate:()=>h()&&Ue().tabs>=2,onShow:Ke,onLeave:ze}),[A.TIP_ADD_NAME]:N({name:Le(A.TIP_ADD_NAME,"tip"),component:It,componentProps:{...ft,targetElementSelector:".greeting .name.editing",elementReadyEvent:"message:name:editing",position:X.Bottom,alignment:ee.Center,headerText:Tt[A.TIP_ADD_NAME],bodyText:gt[A.TIP_ADD_NAME],clickOutsideTriggersDismiss:!0},transitionName:Ne("bottom"),shouldActivate:()=>{if(""!==q.displayname||xe())return!1;const{tabs:e}=Ue(),t=e>=2;return t&&c.$emit("greeting:name:edit"),t},onShow:()=>{c.$on("message:name:edited",je)},onLeave:()=>{c.$off("message:name:edited",je)}}),[A.TIP_NEW_METRICS_ICONS]:N({name:Le(A.TIP_NEW_METRICS_ICONS,"tip"),component:It,componentProps:{...ft,targetElementSelector:".base-metric .pinned-items .metric-dash .base-icon",targetSelectLast:!0,targetDistance:z.dashAppTextLabels===te.Always?28:15,position:X.Bottom,alignment:ee.Right,headerBadgeText:St[A.TIP_NEW_METRICS_ICONS],headerText:Tt[A.TIP_NEW_METRICS_ICONS],bodyText:gt[A.TIP_NEW_METRICS_ICONS]},transitionName:Ne("bottom"),shouldActivate:async()=>0!==document.querySelectorAll(".base-metric .pinned-items .metric-dash").length||(await Ro().saveStepProgress(A.TIP_NEW_METRICS_ICONS,{status:F.Completed}),!1),onShow(){c.$on("baseMetric:toggle",je)},onLeave(){c.$off("baseMetric:toggle",je)}})};async function wt(){localStorage.removeItem(f),await K().refresh(!0),await lt.refreshOnboarding()}const Rt=e=>{const t=new g({feature:e}),o="free-trial"===e;return{hideOtherApps:!0,transitionName:"fade",component:()=>v((()=>import("./UpgradeModal-VmVUU5Lf.js")),__vite__mapDeps([157,1,2,3,4,5,158,159,160,8,161,138,31,32,139,28,140,58,59,60,61,62,63,162,163,164,165,166,26,18,19,20,35,167,168,169])),onShow:()=>{t.capture("free-trial show",{cardless:o})},onDismiss:async()=>{await lt.refreshOnboarding(),t.capture("free-trial dismiss",{cardless:o})},onComplete:async()=>{await oe.onSuccessfulUserLogin(),t.capture("free-trial complete",{cardless:o})},onLeave:async e=>{e===F.Completed&&await wt()}}},vt={[A.FREE_TRIAL]:N({getPlanInfo:!0,name:"Free Trial Cardless",componentProps:{feature:"free-trial",startingHeight:"426.38px"},...Rt("free-trial")}),[A.FREE_TRIAL_CARD]:N({name:"Free Trial Card",componentProps:{feature:"checkout",startingHeight:"531px"},...Rt("checkout")})};var Ct=(e=>(e.PROCESSING="Processing",e.UNSAVED_DATA="Unsaved-data",e.ERROR="Error",e.ERROR_RESEND="Error-resend",e))(Ct||{});const Dt=N({name:"One Time Login",component:()=>v((()=>import("./OneTimeLogin-CHT1Rpxc.js")),__vite__mapDeps([170,1,2,3,4,5,171,138,31,32,139,28,140,58,59,60,61,62,63,172,173,174,8,175,141,142,55,56,143,144,145,35,11,65,146,147,57,64,33,148,149,150,151,152,153,154,155,176])),subSteps:Object.values(Ct).map((e=>M({name:e}))),hideOtherApps:!0,onDismiss:async()=>{await ae()},onComplete:async()=>{await se()},onLeave:async()=>{await ne(),d.oneTimeLoginActive=!1}}),At=N({name:"Login",component:()=>v((()=>import("./Login-DW4yFSNz.js")),__vite__mapDeps([177,1,2,3,4,5,8,178])),firstSubStep(){const e=localStorage.getObject(b),t=!!localStorage.getItem(O);return r.isFirefox()&&!t?L.DATA_COLLECTION:(null==e?void 0:e.email)?L.EMAIL:L.NAME},async onComplete(){await se()},async onLeave(){await ne(),d.introductionActive=!1},async onShow(){await V()},hideOtherApps:!0,transitionName:"fade",subSteps:[M({name:"Name",component:()=>v((()=>import("./LoginName-uU_Atkrq.js")),__vite__mapDeps([179,180,172,173,174,1,2,3,4,5,8,175,181,182,183,184,185,186,28,74]))}),M({name:"Email",component:()=>v((()=>import("./LoginEmail-CTE2fBDF.js")),__vite__mapDeps([187,180,172,173,174,1,2,3,4,5,8,175,181,182,183,184,185,186,28,138,31,32,139,140,58,59,60,61,62,63,165,26]))}),M({name:"Choose Password",component:()=>v((()=>import("./LoginChoosePassword-i2Otd_Ir.js")),__vite__mapDeps([188,180,172,173,174,1,2,3,4,5,8,175,181,182,189,183,184,185,186,190,191,192,28,138,31,32,139,140,58,59,60,61,62,63,26]))}),M({name:"Enter Password",component:()=>v((()=>import("./LoginEnterPassword-CHmxjw1d.js")),__vite__mapDeps([193,180,172,173,174,1,2,3,4,5,8,175,181,182,28,189,183,184,185,186,190,191,192,138,31,32,139,140,58,59,60,61,62,63,26,194]))}),M({name:"Reset Password",component:()=>v((()=>import("./LoginResetPassword-frW5Rf-L.js")),__vite__mapDeps([195,180,172,173,174,1,2,3,4,5,8,175,181,182,189,183,184,185,186,190,191,192,28,138,31,32,139,140,58,59,60,61,62,63,26]))}),M({name:"Reset Password Sent",component:()=>v((()=>import("./LoginResetPasswordSent-B9r9Fosx.js")),__vite__mapDeps([196,180,172,173,174,1,2,3,4,5,8,175,181,182,28,26,197]))}),M({name:"Data Collection",component:()=>v((()=>import("./LoginDataCollection-PokPBGZo.js")),__vite__mapDeps([198,180,172,173,174,1,2,3,4,5,8,175,181,182,28,199]))}),M({name:"Provider",component:()=>v((()=>import("./LoginProvider-B0ZlvH7n.js")),__vite__mapDeps([200,180,172,173,174,1,2,3,4,5,8,175,181,182,28,138,31,32,139,140,58,59,60,61,62,63,201,202,203,137,204,26,205,206,141,142,55,56,143,144,145,35,11,65,146,147,57,64,33,148,149,150,151,152,153,154,155,207]))}),M({name:"Add Password Existing account",component:()=>v((()=>import("./LoginAddPasswordExistingAccount-c2WAerZ9.js")),__vite__mapDeps([208,180,172,173,174,1,2,3,4,5,8,175,181,182,189,183,184,185,186,190,191,192,28,138,31,32,139,140,58,59,60,61,62,63,201,202,203,137,204,26,141,142,55,56,143,144,145,35,11,65,146,147,57,64,33,148,149,150,151,152,153,154,155,209]))})]}),Lt=new g({feature:"subscribe"}),Nt=N({name:"Subscribe",componentProps:{feature:"subscribe",startingHeight:"530.48px"},hideOtherApps:!0,component:()=>v((()=>import("./UpgradeModal-VmVUU5Lf.js")),__vite__mapDeps([157,1,2,3,4,5,158,159,160,8,161,138,31,32,139,28,140,58,59,60,61,62,63,162,163,164,165,166,26,18,19,20,35,167,168,169])),onShow:()=>{Lt.capture("show")},onDismiss:()=>{Lt.capture("dismiss")},onComplete:async()=>{await oe.onSuccessfulUserLogin(),Lt.capture("complete"),c.$emit("flashMessage",{message:"You are now subscribed!",icon:ie,confetti:!0,closeButtonEnabled:!1,persist:1e4})},onLeave:async e=>{e===F.Completed&&await wt()}}),Mt=[A.TAB_STASH_ONBOARDING,A.FOCUS_MODE_ONBOARDING,A.ONBOARDING_SITE_BLOCKER_ONE,A.ONBOARDING_FOCUS_INSIGHTS,A.ONBOARDING_SOUNDS],Vt={[A.ONBOARDING_SITE_BLOCKER_ONE]:"Every time you open a distracting website, we’ll intervene. Add websites that steal your time by clicking into a group."};var Ut=(e=>(e.Goal="goal",e.Track="track",e))(Ut||{});const kt={goal:"Set a goal to concentrate regularly. You can update the amount and time span in the settings.",track:"Track your stats to stay motivated. See how many focus timers and tasks you've completed in the past."};var Ft=(e=>(e.Eliminate="eliminate",e.Focus="focus",e.Ritual="ritual",e.Personal="personal",e))(Ft||{});const xt={eliminate:{header:"🙅🏽‍️ Eliminate distractions",body:"Block distracting websites when your focus timer is running. If tempted, your focus task, breathing exercises, and resistance streak will keep you on track."},focus:{header:"🔢️ Focus on one task only",body:"Single-tasking makes working less overwhelming. Automatically show the first task of your todo list here (Plus feature)."},ritual:{header:"⏰️ Make focusing a ritual",body:"Set a goal how much you want to concentrate daily to turn it into a habit!"},personal:{header:"⚙️️ Your personal focus space",body:"Enable features that help you get things done. Committing to focus will help you feel more accomplished!"}};var Bt=(e=>(e.New="new",e.Existing="existing",e))(Bt||{});const jt={new:{header:"🔊‍ Tune in, zone out",body:"Choose from our music selection. Connect streaming services for no ads. Our custom sound scenes are designed to help you concentrate – adjust them to your liking! If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."},existing:{header:"🔊‍ Improved sound experience",body:"We revamped Soundscapes with music and advanced sound customization. Connect streaming services for an ad-free experience. If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."}},Yt={width:400,onboardingStyling:!0,secondaryClasses:"button button-tertiary"},Gt=()=>{re("siteBlocker","enabled",!0),Ye()},Wt=()=>{var e;const t=null==(e=Ve())?void 0:e.getTime();return!t||t>=1733449440884},Ht=()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),$t=N({name:"Focus Mode Onboarding",component:()=>v((()=>import("./SubStepTipsContainer-BVhyJdol.js")),__vite__mapDeps([16,1,2,3,4,5,8])),event:"focusMode:started",userCreatedTimeGate:Y,hideOtherApps:!1,keepOpenUntilComplete:!0,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,customCss:"\n\t\t.app-dash, .pomodoro, .focus-mode-metric.app-dash { opacity: 50% !important; }\n\t",alsoCompletesSteps:[A.TIP_SITE_BLOCKER_FIRST_TIME],onShow(){m.on("focusMode:stopping",Ge)},onLeave(){m.off("focusMode:stopping",Ge)},subSteps:[M({name:Ft.Eliminate,component:Ht,class:Me("down"),customCss:"\n\t\t\t\t\t.site-blocker .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{c.$on("siteBlocker:opened",Gt);const e=ce();P({focusModeSettingsStr:JSON.stringify({...e,apps:{...e.apps,siteBlocker:{enabled:!0}}})}),e.apps.siteBlocker.enabled||await I(200)},onLeave:async e=>{var t,o,a;c.$off("siteBlocker:opened",Gt),(null==(t=me(C.ONBOARDING_VARIANTS_TEST_1))?void 0:t.variantName)===D.ONBOARDING_VARIANT_NOTIFICATION&&Ye(),P({focusModeSettingsStr:null});const s=(null==(a=null==(o=le().focusModeSettings.apps)?void 0:o.siteBlocker)?void 0:a.enabled)??!0,n=(await v((async()=>{const{default:e}=await import("./siteBlockerSession-omvO_qAK.js");return{default:e}}),__vite__mapDeps([210,1,2,3,4,5,56,148,149,144,211,55,212,154,155,57,58,59,60,61,62,63,64,32,65,213,146,138,31,139,28,140,143,214]))).default();e===F.Completed&&s&&!n.hasPermissions&&(await n.ensurePermissions(),await l((()=>{var e;return null==(e=$().activeStep)?void 0:e.name})).toBe("Focus Mode Onboarding"))},componentProps:{...Yt,targetElementSelector:".app-container.site-blocker",position:X.Bottom,ctaText:"Block sites",ctaTriggersComplete:!0,ctaCallback:async()=>{await re("siteBlocker","enabled",!0)},secondaryText:"Disable Site Blocker",secondaryTriggersComplete:!0,secondaryCallback:async()=>{await re("siteBlocker","enabled",!1)},headerText:xt[Ft.Eliminate].header,bodyText:xt[Ft.Eliminate].body}}),M({name:Ft.Focus,component:Ht,class:Me("up"),customCss:"\n\t\t\t\t\t.pomodoro { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Yt,targetElementSelector:".pomodoro-focus .prompt",targetDistance:15,position:X.Right,alignment:ee.Left,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Sync with Tasks",secondaryIcon:"icon-refresh",secondaryCallback(){if(z.autoFocus)return Ye();m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus Mode Onboarding",eventSource:"focus"}),m.conditionalFeatures.featureEnabled("pinfocus")&&Ye()},headerText:xt[Ft.Focus].header,bodyText:xt[Ft.Focus].body}}),M({name:Ft.Ritual,component:Ht,class:Me("down"),customCss:"\n\t\t\t\t\t.focus-mode-metric .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{const e=ce();P({focusModeSettingsStr:JSON.stringify({...e,focusInsightVisible:!0})}),e.focusInsightVisible||await I(200)},onLeave(){P({focusModeSettingsStr:null})},componentProps:{...Yt,targetElementSelector:".focus-mode-metric",position:X.Bottom,alignment:ee.Right,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,headerText:xt[Ft.Ritual].header,bodyText:xt[Ft.Ritual].body}}),M({name:Ft.Personal,component:Ht,class:Me("down"),customCss:"\n\t\t\t\t\t.settings .app-dash { opacity: 100% !important; }\n\t\t\t\t",beforeShow:async()=>{m.on("settings:hidden",Ye),await m.commandManager.executeAsync("settings.display",null,{section:"focus-mode-settings"})},onLeave(){m.off("settings:hidden",Ye)},componentProps:{...Yt,elementReadyEvent:"settings:focusMode:rendered",targetElementSelector:".app .settings-app",position:X.Right,alignment:ee.Left,nippleVisible:!1,ctaText:"I'm ready to focus!",ctaCallback(){m.commandManager.execute("settings.toggle")},headerText:xt[Ft.Personal].header,bodyText:xt[Ft.Personal].body}})]}),Kt=N({name:"Tab Stash Onboarding",event:"tabStash:opened",component:()=>v((()=>import("./Tour-BZo3KvFS.js")),__vite__mapDeps([215,216,1,2,3,4,5,8,217,143,28,218])),userCreatedTimeGate:Y,transitionName:"fade",hideOtherApps:!0,componentProps:{progressVisible:!1,onCreated:async()=>{const e=(await de.tabsViewStateStore())();e.popupActive||e.togglePopup(!0)}},customCss:".tour-feature { max-width: 700px!important; right: 0!important; } .cta { max-width: 800px !important; margin-top: 90px; margin-left: -275px; } .arrow { transform: translate(-100px, -20px) rotate(-135deg)!important;}",subSteps:[M({name:"Tab Stash",component:()=>v((()=>import("./TourFeature-BtoEjobV.js")),__vite__mapDeps([219,1,2,3,4,5,181,220,8,221])),componentProps:{heading:"",component:()=>v((()=>import("./TabStashOnboarding-CHjydyFj.js")),__vite__mapDeps([222,8,223])),arrow:"left-above",maskDefinitions:[{padding:[10],targetElements:".tabs .app"}],elementReadyCheck:()=>document.querySelector(".tabs .app-popup:not(.slide-down-fade-enter-active)"),elementReadyEvent:"tabStash:opened",showAppSelector:".tabs",buttonText:""}})]}),zt=N({name:Le(A.ONBOARDING_SITE_BLOCKER_ONE,"onboarding"),component:()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),transitionName:"fade-blurred-tip-app",componentProps:{...Yt,targetElementSelector:".app-container .site-blocker-groups-list-item",position:X.Right,targetDistance:5,ctaText:"Got it!",ctaTriggersComplete:!0,bodyText:Vt[A.ONBOARDING_SITE_BLOCKER_ONE]},shouldActivate:async()=>(await l((()=>pe().loaded)).toBe(!0),await l((()=>pe().loading)).toBe(!1),await I(300),!0),event:"siteBlockerGroups:opened",onShow:()=>{c.$on("siteBlocker:closed",Ge),c.$on("siteBlockerGroups:closed",Ge)},onLeave:()=>{c.$off("siteBlocker:closed",Ge),c.$off("siteBlockerGroups:closed",Ge)}}),qt=()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),Zt=N({name:Le(A.ONBOARDING_FOCUS_INSIGHTS,"onboarding"),event:"focusInsightsApp:opened",component:()=>v((()=>import("./SubStepTipsContainer-BVhyJdol.js")),__vite__mapDeps([16,1,2,3,4,5,8])),transitionOnSubStepChange:!0,transitionName:"fade-slide-tip",onShow:()=>{m.on("focusInsightsApp:closed",Ge)},onLeave:()=>{m.off("focusInsightsApp:closed",Ge)},subSteps:[M({name:Ut.Goal,component:qt,class:Me("down"),componentProps:{...Yt,bodyText:kt[Ut.Goal],targetElementSelector:".focus-mode-metric .weekly-time",position:X.Left,targetDistance:36,nippleAlignmentOffset:10,ctaText:"Next",ctaTriggersComplete:!0}}),M({name:Ut.Track,component:qt,class:Me("down"),componentProps:{...Yt,bodyText:kt[Ut.Track],targetElementSelector:".focus-mode-metric .cell-metric:first-child",position:X.Left,targetDistance:26,ctaText:"Got it!",ctaTriggersComplete:!0}})]}),Qt=async({appsEnabled:e}={})=>new Promise((t=>{const o=()=>{m.trigger("focusMode:start"),m.once("focusMode:started",t)},a=!q.focusModeVisible;a&&c.$once("focusMode:ready",(()=>o())),q.focusModeVisible=!0,null==e||e.forEach((e=>{re(e,"enabled",!0)})),U.currentValue||a?U.currentValue&&t():o()})),Jt=()=>{y("https://moda.sh/release-notes")},Xt=()=>me("release_update_site_blocker_visual"),eo=N({name:"Sounds Onboarding",component:()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),event:"sounds:opened",userCreatedTimeGate:Y,keepOpenUntilComplete:!0,transitionName:"fade-slide-down",onShow(){c.$on("sounds:closed",Ge)},onLeave(){c.$off("sounds:closed",Ge)},componentProps:{...Yt,targetElementSelector:".sounds-library",targetDistance:5,position:X.Right,alignment:ee.Left,nippleVisible:!1,ctaText:Wt()?"Start exploring":"Release Notes",ctaTriggersComplete:!0,ctaCallback(){Wt()||Jt()},headerText:jt[Wt()?Bt.New:Bt.Existing].header,bodyText:jt[Wt()?Bt.New:Bt.Existing].body}}),to={[A.FOCUS_MODE_ONBOARDING]:$t,[A.TAB_STASH_ONBOARDING]:Kt,[A.ONBOARDING_SITE_BLOCKER_ONE]:zt,[A.ONBOARDING_FOCUS_INSIGHTS]:Zt,[A.ONBOARDING_SOUNDS]:eo},oo=(e,t)=>{const o=new g({feature:`survey pmf typeform ${R(e)}`});return{component:()=>v((()=>import("./SurveyIframeModal-BU3GuiZK.js")),__vite__mapDeps([224,1,2,3,4,5,18,19,8,20,28,141,142,55,56,143,144,145,35,32,58,59,60,61,62,63,11,65,138,31,139,140,146,147,57,64,33,148,149,150,151,152,153,154,155,225])),componentProps:{src:t},onShow(){o.capture(`survey pmf show ${e} typeform`)},onDismiss(){o.capture(`survey pmf dismiss ${e} typeform`)}}},ao={[A.SURVEY_PMF_TYPEFORM_FREE]:N({name:Le(A.SURVEY_PMF_TYPEFORM_FREE,"survey"),...oo("free",Ot.PmfFree)}),[A.SURVEY_PMF_TYPEFORM_PLUS]:N({name:Le(A.SURVEY_PMF_TYPEFORM_PLUS,"survey"),...oo("plus",Ot.PmfPlus)}),[A.SURVEY_SITE_BLOCKER_TYPEFORM]:N({name:Le(A.SURVEY_SITE_BLOCKER_TYPEFORM,"survey"),...oo("site blocker",Ot.SiteBlocker)}),[A.SURVEY_GENERAL_FEEDBACK]:N({name:Le(A.SURVEY_GENERAL_FEEDBACK,"survey"),...oo("general feedback",Pt.GeneralFeedback)}),[A.SURVEY_BUG_REPORT]:N({name:Le(A.SURVEY_BUG_REPORT,"survey"),...oo("bug report",Pt.BugReport)}),[A.SURVEY_BETA_TEST]:N({name:Le(A.SURVEY_BETA_TEST,"survey"),...oo("beta test",Pt.BetaTest)})},so=N({name:"Pomodoro switcher moved",component:()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),componentProps:{width:350,bodyText:"We've given Pomodoro a new home. You'll now find it in here.",ctaText:"Got it!",ctaTriggersComplete:!0,targetElementSelector:".clock .more-toggle .icon-ellipsis",targetDistance:5,imageUrl:"https://momentum.photos/assets/89478a9e-3314-4e69-b5fa-5984bb6c0cdd",visualIsVideo:!0},customCss:".clock .more-toggle .icon-ellipsis, .clock .portal-toggle { opacity: 1 !important; }",shouldActivate:async()=>{const e=(await v((async()=>{const{usePomodoroCompletedStore:e}=await import("./pomodoroCompleted-PtbKLdeQ.js").then((e=>e.c));return{usePomodoroCompletedStore:e}}),__vite__mapDeps([213,1,2,3,4,5,32,55,56,64,58,59,60,61,62,63,211,146,138,31,139,28,140,143,214]))).usePomodoroCompletedStore(),t=(await v((async()=>{const{default:e}=await import("./SubscriptionSummary-RRqVWeCc.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([35,1,2,3,4,5,32]))).default(),o=17256672e5;return e.refresh(),await l((()=>e.loaded)).toBe(!0),await l((()=>t.loaded)).toBe(!0),await l((()=>t.loading)).toBe(!1),null!==t.firstSubscriptionStart&&new Date(t.firstSubscriptionStart).getTime()<o&&e.data.some((e=>new Date(e.completed).getTime()<o))&&!0===q.clockVisible&&"true"!==localStorage.getItem("pomodoro-showing")},onShow(){m.on("clock:dropdownToggled",je)},onLeave(){m.off("clock:dropdownToggled",je)}}),no={title:"Calendar, Music & Icons",description:"New Spotify, YouTube, Google Calendar integrations",notes:["Explore Spotify, YouTube, or our own soundscapes directly from your dashboard without getting distracted.","Google Calendar integration: See time until next event, your schedule for the next 2 days, and start focusing until your next event.","For a minimal look, hide app labels and customize with icons."],visualSrc:"/img/release/calendar-sounds-two-point-one-icons.png",visualIsVideo:!1,accentColor:"201 92% 30%",buttons:[{text:"Activate Calendar",callback:async()=>{await(async()=>{Z({calendarVisible:!0,centerBelowVisible:!0,centerBelowApp:ue.Schedule}),await _e("release update modal").catch((e=>{console.error(e)}))})()},primary:!0,dismiss:!0},{text:m.conditionalFeatures.featureEnabled("plus")?"Open Sounds":"Explore Sounds in Focus Mode",callback:async()=>{m.conditionalFeatures.featureEnabled("plus")?(q.soundscapesVisible=!0,await(await v((async()=>{const{useSoundsViewStateStore:e}=await import("./soundsViewState-DDWq5mhi.js");return{useSoundsViewStateStore:e}}),__vite__mapDeps([226,154,1,2,3,4,5,155]))).useSoundsViewStateStore().togglePopup(!0)):await Qt({appsEnabled:["soundscapes"]})},primary:!m.conditionalFeatures.featureEnabled("plus"),dismiss:!0},{text:"Learn more",callback:()=>{Jt()},primary:!1,dismiss:!1}]},io={title:"Focus Mode 1.2",description:"Your focus just got an upgrade",notes:["New picture-in-picture mode allows you to always see your focus timer.","Prefer not to use Pomodoro? Enable Countup mode.","A fully updated timer, fullscreen view, smoother transitions, sounds that sync with the timer and more!"],visualSrc:"/img/release/focus-mode-one-point-two.png",visualIsVideo:!1,accentColor:"180 87% 30%",buttons:[{text:"Try now in Focus Mode",callback:async()=>{await Qt({appsEnabled:["siteBlocker"]})},primary:!0,dismiss:!0},{text:"Learn more",callback:()=>{Jt()},primary:!1,dismiss:!1}]},ro={title:"Site Blocker",description:"Protect your focus with Site Blocker",notes:["Introducing Site Blocker: our new tool to block distracting websites during Focus Mode.","Here’s how it works: When you go to open a distracting website, an intervention will appear.","The intervention screen reminds you of your current task, goal, or intention."],visualSrc:"video"===(null==(e=Xt())?void 0:e.variantName)?"https://momentum.photos/assets/e5b0b49c-004e-4609-81c5-ba7a4a6a1242":"/img/release/site-blocker.png",visualIsVideo:"video"===(null==(t=Xt())?void 0:t.variantName),accentColor:"242 70% 52%",buttons:[{text:"Try now for free in Focus Mode",callback:async()=>{await Qt({appsEnabled:["siteBlocker"]}),ke(A.FOCUS_MODE_ONBOARDING,{includeDismissed:!0})&&ke(A.TIP_SITE_BLOCKER_FIRST_TIME,{includeDismissed:!0})&&c.$emit("siteBlocker:open")},primary:!0,dismiss:!0},{text:"Learn more",callback:()=>{Jt()},primary:!1,dismiss:!1}]},co="releaseUpdateModalCheck",lo=N({name:"Release Update",component:()=>v((()=>import("./ReleaseUpdateModal-BQFmCBOq.js")),__vite__mapDeps([227,1,2,3,4,5,18,19,8,20,28,228])),shouldActivate:async()=>{const e=!!(await J.get(co)),t=k.currentValue||U.currentValue,o=e&&!t;return o&&J.delete(co),o},componentProps:{...[no,io,ro][0]}}),mo=N({name:"Setup Dashboard",component:()=>v((()=>import("./SetupUnregisteredDashboard-CmO_xD35.js")),__vite__mapDeps([229,1,2,3,4,5,138,31,32,139,28,140,58,59,60,61,62,63,172,173,174,8,175,230])),hideOtherApps:!0,async onComplete(){await V(),await se()},async onLeave(){await ne(),d.introductionActive=!1}}),po=N({name:"Modal Introduction",component:()=>v((()=>import("./OnboardingModalIntroduction-4NSfKZ6f.js")),__vite__mapDeps([231,1,2,3,4,5,18,19,8,20,232])),onShow(){J.delete(co)},hideOtherApps:!1,keepOpenUntilComplete:!0,subSteps:[M({name:De.Motivation,headerText:Ae[De.Motivation].header,bodyText:Ae[De.Motivation].body,imageUrl:"motivation.png",ctaText:"Next"}),M({name:De.Procrastination,headerText:Ae[De.Procrastination].header,bodyText:Ae[De.Procrastination].body,imageUrl:"procrastination.png",ctaText:"Next",secondaryText:"Try Plus for free",secondaryCallback:()=>{m.cmd("modal.open","FREE_TRIAL",{force:!0})}}),M({name:De.Focus,headerText:Ae[De.Focus].header,bodyText:Ae[De.Focus].body,imageUrl:"focus.png",ctaText:"Try Focus Mode",ctaCallback:async()=>{$e(),await l((()=>k.currentValue)).toBe(!0)},secondaryText:"Explore dashboard",secondaryTriggersComplete:!0})]}),uo=N({name:"Team Expired",hideOtherApps:!0,component:()=>v((()=>import("./TeamExpired-Dv1GTNDl.js")),__vite__mapDeps([233,1,2,3,4,5,167,8,168,234]))}),_o=new class{add(e={}){Object.entries(e).forEach((([e,t])=>{de[e]().then((e=>e.mockData(t)))}))}clear(e=[]){e.forEach((e=>{de[e]().then((e=>e.clearMockData()))}))}},Eo=()=>v((()=>import("./Popup-Bjdqr1_U.js")),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14])),So=N({name:"Plus Notification Introduction",component:()=>v((()=>import("./SubStepTipsContainer-BVhyJdol.js")),__vite__mapDeps([16,1,2,3,4,5,8])),hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,plusSubscriptionTimeGate:"2022-06-05T00:00:00.000Z",keepOpenUntilComplete:!0,transitionDuration:250,customCss:"\n\t\t.app-dash,\n\t\t.pomodoro,\n\t\t.focus-mode-metric.app-dash,\n\t\t.links-dash.pinned-links,\n\t\t.clock,\n\t\t.mantra,\n\t\t.greeting,\n\t\t.focus-wrapper\n\t\t{ opacity: 50% !important; }\n\t",onShow(){m.on("focusMode:starting",Ge),Ke()},onLeave(){m.off("focusMode:starting",Ge),ze()},subSteps:[M({name:be.Customize,component:Eo,class:Me("up"),beforeShow:async()=>{P({clockVisible:!0,greetingVisible:!0,mantraVisible:!0,quoteVisible:!0}),q.quoteVisible||(m.once("quote:created",(()=>{m.trigger("quote:override",Pe[0])})),await I(300))},onLeave:async()=>{P({clockVisible:null,greetingVisible:null,mantraVisible:null,quoteVisible:null}),q.quoteVisible||await I(300),m.trigger("quote:override","")},customCss:"\n\t\t\t\t\t.quote\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.photo-info\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.settings\n\t\t\t\t\t.app-dash,\n\t\t\t\t\t.mantra,\n\t\t\t\t\t.greeting { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Ce,id:be.Customize,targetElementSelector:".quote .app-dash",targetDistance:13,position:X.Top,alignment:ee.Center,ctaText:"What else?",ctaTriggersComplete:!0,secondaryTriggersComplete:!0,secondaryText:"Customize in Settings",secondaryCallback:async()=>{await m.commandManager.executeAsync("settings.display",null,{section:"quote-settings"}),await new Promise((e=>{m.on("settings:hidden",e)}))},subHeaderText:"Step 1 of 4",headerText:Oe[be.Customize].header,bodyText:Oe[be.Customize].body}}),M({name:be.Glance,component:()=>v((()=>import("./OnboardingTipNotificationIntroduction-DMV48bF0.js")),__vite__mapDeps([235,1,2,3,4,5,6,7,8,9,10,11,12,13,14,236])),class:Me("down"),beforeShow:async()=>{_o.add(Ie),P({metricVisible:!0,countdownVisible:!0,multiClockVisible:!0,searchVisible:!1,soundscapesVisible:!1,tabsVisible:!1,siteBlockerVisible:!1}),q.searchVisible&&await I(200)},onLeave(){P({metricVisible:null,countdownVisible:null,multiClockVisible:null,searchVisible:null,soundscapesVisible:null,tabsVisible:null,siteBlockerVisible:null}),_o.clear(Object.keys(Ie))},customCss:"\n\t\t\t\t\t.add-metric .app-dash, .dash-items .metric-dash { opacity: 100% !important; pointer-events: none; }\n\t\t\t\t\t.metric-dash .adjust { display: none; }\n\t\t\t\t",componentProps:{...Ce,id:be.Glance,targetElementSelector:'[data-type="countdowns"].metric-dash',targetDistance:8,position:X.Bottom,alignment:ee.Left,ctaText:"Next",ctaTriggersComplete:!0,subHeaderText:"Step 2 of 4",headerText:Oe[be.Glance].header,bodyText:Oe[be.Glance].body,tipClickSelector:".dash-items",tipTargetSelector:'[data-type="clocks"].metric-dash',tipText:Oe[be.Glance].tip}}),M({name:be.Tasks,component:Eo,class:Me("up"),beforeShow:async()=>{c.$on("tasks:closed",Ye),P({todoVisible:!0,focusVisible:!0,searchVisible:!1,autoFocus:!1}),_o.add(ve);const e=Ee();e.listTitle=ye,e.todos=we,e.providerIcon=Re;const t=Se();await t.setActiveView(Te.Mock),await t.togglePopup(!0,{resetActiveView:!1}),await I(200)},onLeave:async()=>{_o.clear(Object.keys(ve)),c.$off("tasks:closed",Ye),await Se().togglePopup(!1),P({todoVisible:null,focusVisible:null,searchVisible:null,autoFocus:null})},customCss:"\n\t\t\t\t\t.todo .app-dash { opacity: 100% !important; }\n\t\t\t\t\t.focuses.app-container { pointer-events: none; }\n\t\t\t\t",componentProps:{...Ce,id:be.Tasks,targetElementSelector:".todo .app.popup",position:X.Top,alignment:ee.Center,nippleVisible:!1,targetDistance:8,width:320,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Add integration",secondaryTriggersComplete:!0,secondaryCallback:async()=>{await m.commandManager.executeAsync("settings.display",null,{section:"todo"}),await new Promise((e=>{m.on("settings:hidden",e)}))},subHeaderText:"Step 3 of 4",headerText:Oe[be.Tasks].header,bodyText:Oe[be.Tasks].body}}),M({name:be.Focus,component:Eo,class:Me("down"),beforeShow(){m.trigger("pomodoro:show")},onLeave(){m.trigger("pomodoro:show",!1)},customCss:"\n\t\t\t\t\t.top-left .app-dash, .pomodoro { opacity: 100% !important; }\n\t\t\t\t",componentProps:{...Ce,id:be.Focus,targetElementSelector:".focus-mode .app-dash",ctaText:"Learn more about Plus",ctaCallback(){y("https://get.momentumdash.help/hc/en-us/categories/115001272227-Momentum-Plus")},ctaTriggersComplete:!0,subHeaderText:"Step 4 of 4",headerText:Oe[be.Focus].header,bodyText:Oe[be.Focus].body}})]}),To={[A.SETUP_UNREGISTERED_DASHBOARD]:mo,[A.LOGIN]:At,[A.ONE_TIME_LOGIN]:Dt,[A.RELEASE_UPDATE]:lo,[A.FREE_INTRODUCTION]:po,[A.FREE_VIDEO_INTRODUCTION]:Qe,[A.PLUS_INTRODUCTION]:So,[A.UPGRADE]:Nt,[A.TEAM_EXPIRED]:uo,[A.FAVICON_PERMISSION]:N({name:"Favicon Permission",component:()=>v((()=>import("./FaviconPermission-Del-G2wE.js")),__vite__mapDeps([237,1,2,3,4,5,6,7,8,9,10,11,12,13,14,214,28,238,239]))}),[A.POMODORO_SWITCHER]:so,[A.SAFARI_ACCOUNT]:N({name:"Safari account modal",component:()=>v((()=>import("./SafariAccount-rXA7lCmF.js")),__vite__mapDeps([240,1,2,3,4,5,172,173,174,8,175,241,27,242])),customCss:".step-container { background: white; } .modal { --modal-height: auto!important; }",transitionName:"fade"}),[A.PERMISSION_REQUEST]:N({name:"Permission request",component:()=>v((()=>import("./PermissionRequest-Br4mLa3z.js")),__vite__mapDeps([243,211,1,2,3,4,5,172,173,174,8,175,244,245])),transitionName:"fade"}),...vt,...mt,...yt,...to,...ao},go=Object.entries(To).reduce(((e,[t,o])=>({...e,[t]:{...o,id:t}})),{}),ho=[A.FREE_INTRODUCTION,..._()?[]:[A.RELEASE_UPDATE],...ut,...pt],fo=[A.FREE_INTRODUCTION,..._()?[]:[A.RELEASE_UPDATE],...pt],bo=[A.PLUS_INTRODUCTION,..._()?[]:[A.RELEASE_UPDATE],..._t,A.POMODORO_SWITCHER],Oo=[...Et,...Mt],Po={unregistered:[...ho,...Oo],free:[...fo,...Oo],plus:[...bo,...Oo],teamMember:[...Oo],teamAdmin:[...Oo]},Io={all:Object.keys(go),upsells:Object.keys(mt),...Po},yo=it(),wo=(e=(()=>new s("onboardingSteps",{mode:n.TimestampStrict,path:"onboarding_steps",queryParams:{update:{update_mask:"*"}}}))())=>E("onboarding",{state:()=>({items:{},loading:!1,itemsLoaded:!1}),actions:{async refresh(){if(!this.loading)return this.loading=!0,this.itemsLoaded?e.refresh():Promise.allSettled([new Promise(((t,o)=>{e.get({success:e=>{const o=[];e.forEach((e=>{S.set(this.items,e.id,e),e.id&&o.push(e.id)})),Object.keys(this.items).forEach((e=>{o.includes(e)||S.delete(this.items,e)})),this.itemsLoaded=!0,t()},failure(e){console.error(e),o(e)}})})),yo.refresh()]).finally((()=>{this.loading=!1}))},async saveStepProgress(t,{status:o=F.Active,activeSubStepIndex:a=0,data:s={}}={}){"string"==typeof t&&(t=go[t]);const n=this.getStep(t);if(n){const r=structuredClone(n);if(n.status=o,n.data={...n.data,...s,activeSubStepIndex:a},!Object.keys({...H(n,r),...H(n.data,r.data)}).length)return void console.warn(`Onboarding: ${t.id||t} redundantly saved with no changes detected`);try{S.set(this.items,n.id,{...n}),await e.update(n.id,n)}catch(i){S.set(this.items,n.id,r),console.error(i)}}else{const n=G(o)?Date.now():null,r=new ge({name:t.id,status:o,data:{activeSubStepIndex:a,dateCompleted:n,...s}});S.set(this.items,r.id,{...r});try{await e.create(r.id,r)}catch(i){console.error(i),S.delete(this.items,r.id)}}t.alsoCompletesSteps&&G(o)&&await Promise.all(t.alsoCompletesSteps.map((e=>{const t=go[e],a=this.getStep(t);return a&&G(a.status)?Promise.resolve():this.saveStepProgress(t,{status:o})})))},getStep(e){let t,o,a={};if("string"==typeof e){if(t=e,W(t)){const e=go[t];"legacyId"in e&&(o=e.legacyId),a=yo.getStepLocalData(t)}}else t=e.id,o=e.legacyId,a=yo.getStepLocalData(t);const s=Object.values(this.items).find((e=>!(!o||e.status!==F.Legacy||e.name.toLowerCase()!==o)||e.name===t));return s?new ge({...s,data:{...s.data,...a}}):null},async deleteStepProgress(t){var o;const a=null==(o=this.items[t])?void 0:o.name;return a&&await yo.deleteStepLocalData(a),S.delete(this.items,t),e.delete(t)}}}),Ro=wo(),vo=Object.freeze(Object.defineProperty({__proto__:null,makeOnboardingStore:wo,useOnboardingStore:Ro},Symbol.toStringTag,{value:"Module"}));export{Ct as O,Ot as S,at as a,Io as b,vo as c,go as d,et as e,nt as g,dt as o,wt as r,Ro as u};