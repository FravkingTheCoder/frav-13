const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/FormSelectionIconDropdownContent-khKf2vGk.js","assets/js/main-DaaZyiXy.js","assets/js/dynamic-import-helper-Gh3O-GNF.js","assets/js/array-YYQw31d9.js","assets/js/Logger-DgjqecXr.js","assets/js/string-DLOjEt1Y.js","assets/js/fuzzysort-iqz5R7aQ.js","assets/js/icon-close-DRlspKs3.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/css/fuzzysort-C9hiW1zQ.css","assets/js/BaseDropdownContent-DpVJFI_8.js","assets/js/constants-CALDQiUE.js","assets/js/index-C2sSf61p.js","assets/css/BaseDropdownContent-DKsGy_8Z.css","assets/js/BaseItemList-dKD1dgqB.js","assets/js/constants-BpVlFj04.js","assets/js/allComponentsMounted-Dqy5K4Uf.js","assets/css/BaseItemList-DjWk3rj_.css","assets/css/FormSelectionIconDropdownContent-Bfz86x5V.css"])))=>i.map(i=>d[i]);
import{aG as e,G as t,c as i}from"./dynamic-import-helper-Gh3O-GNF.js";import o from"./icon-tooltip-D4TzAUBN.js";import{n as s}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{S as r}from"./SoftFocus-BUhesXB-.js";import{F as a}from"./FormToggle-h8Me6KUc.js";import{_ as l}from"./main-DaaZyiXy.js";import{F as n,a as p}from"./FormFieldWrapper-CrSgQOtf.js";import{B as d}from"./BaseDropdown-x2dYnnCF.js";import c from"./BaseIcon-CCkbWtl5.js";const f=s({name:"Tooltip",unreactive:()=>({hoverDurationToActivate:200,defaultMaxWidth:300,minWidth:150}),props:{besideFormLabel:{type:Boolean,default:!1},position:{type:String,default:e.BOTTOM},noMarginBottom:{type:Boolean,default:!1},alignAtBaseline:{type:Boolean,default:!1}},data(){return{open:!1,tooltipWidth:this.defaultMaxWidth,positionOverride:null,openToLeft:!1}},computed:{computedPosition(){return this.positionOverride||this.position}},methods:{mouseEnter(){this.hoverTimeout=setTimeout((()=>{const t=this.$refs["tooltip-wrapper"],i=t.closest(".tooltip-container");if(i){const o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),r=o.left-s.left,a=s.right-o.right,l=this.position===e.LEFT?r:a,n=this.position===e.LEFT?a:r,p=this.defaultMaxWidth>l,d=this.minWidth>l&&n>l;p&&!d?this.tooltipWidth=l:d&&(this.tooltipWidth=Math.min(n,this.defaultMaxWidth),this.position===e.RIGHT?this.positionOverride=e.LEFT:this.openToLeft=!0)}this.open=!0}),this.hoverDurationToActivate)},mouseLeave(){this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.open=!1,this.positionOverride=null,this.openToLeft=!1,this.tooltipWidth=this.defaultMaxWidth}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-wrapper",class:{"beside-form-label":e.besideFormLabel,"u--no-margin-bottom":e.noMarginBottom,"align-baseline":e.alignAtBaseline}},[e._t("input"),e.$slots["tip-text"]?t("div",{ref:"tooltip-wrapper",staticClass:"tooltip-wrapper"},[t("inline-svg",{staticClass:"tooltip-icon",attrs:{src:o},on:{mouseenter:e.mouseEnter,mouseleave:e.mouseLeave}}),t("transition",{attrs:{name:"fade",duration:"75"}},[e.open?t("div",{staticClass:"tooltip",class:[e.computedPosition,{"open-to-left":e.openToLeft}],style:{"max-width":e.tooltipWidth+"px"}},[e._t("tip-text"),t("div",{staticClass:"notch"})],2):e._e()])],1):e._e()],2)}),[],!1,null,"cbab72f3").exports;const u=s({name:"EditField",directives:{SoftFocus:r},components:{FormSelectIcon:s(t({name:"FormSelectIcon",components:{FormSelectionIconDropdownContent:()=>l((()=>import("./FormSelectionIconDropdownContent-khKf2vGk.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),BaseIcon:c,BaseDropdown:d,FormFieldWrapper:n},props:{value:{type:String,required:!0},...p},setup:()=>({iconsDropdown:i()}),methods:{onSelectChange(e){var t;this.$emit("input",e),null==(t=this.iconsDropdown)||t.closeDropdown()}}}),(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("form-field-wrapper",e._b({staticClass:"form-select-icon"},"form-field-wrapper",e.$props,!1),[t("base-dropdown",{ref:"iconsDropdown",attrs:{nipple:!1,"position-offset":-4},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("div",{staticClass:"form-select-icon-toggle",class:{removed:!e.value}},[t("base-icon",{attrs:{src:e.value||"ban",size:"var(--spacing-6)"}}),t("base-icon",{attrs:{src:"chevron-down",size:"0.6875rem"}})],1)]},proxy:!0}])},[t("template",{slot:"contentOverride"},[t("form-selection-icon-dropdown-content",{attrs:{value:e.value},on:{input:e.onSelectChange}})],1)],2)],1)}),[],!1,null,"45949026").exports,FormToggle:a,Tooltip:f},props:{autoFocus:{type:Boolean,default:!1},viewManager:{type:Object,required:!0},field:{type:Object,required:!0},fieldWarnings:{type:Array,default:()=>[]},componentFieldWarnings:{type:Array,default:()=>[]}},computed:{warning(){return this.fieldWarnings.includes(this.field.property)},editProps(){return this.viewManager.editProps},activeItem(){return this.viewManager.activeItem},computedSelectOptions(){return this.access(this.field.options)},remainingCharacters(){if(this.field.validate&&this.field.validate.maxLength&&"string"==typeof this.editProps[this.field.property])return this.field.validate.maxLength-this.editProps[this.field.property].length},inputWrapperClass(){if(this.field.validate&&this.field.validate.maxLength)return this.remainingCharacters<0?"show-count over-limit":this.remainingCharacters<.6*this.field.validate.maxLength?"show-count close-to-limit":this.remainingCharacters>.8*this.field.validate.maxLength?"hide-count":"show-count"}},watch:{warning(e){if(e){let e=document.activeElement;if(e.classList&&e.classList.contains("error"))return;this.focus()}}},methods:{focus(){this.$refs.element&&this.$refs.element.focus&&this.$refs.element.focus()},blur(){this.$refs.element&&this.$refs.element.blur&&this.$refs.element.blur()},clearWarnings(){this.$emit("clear-warnings")},access:m.utils.access}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-row",class:[e.access(e.field.class,e.activeItem),e.warning?"warning":""]},[("input"===e.field.type||"select"===e.field.type)&&e.field.label&&e.access(e.field.tooltip,e.activeItem)?t("tooltip",{attrs:{"beside-form-label":!0}},[t("label",{attrs:{slot:"input",for:e.field.property},slot:"input"},[e._v(e._s(e.field.label))]),t("span",{attrs:{slot:"tip-text"},slot:"tip-text"},[e._v(e._s(e.access(e.field.tooltip,e.activeItem)))])]):"input"!==e.field.type&&"select"!==e.field.type||!e.field.label?e._e():t("label",{attrs:{for:e.field.property}},[e._v(e._s(e.field.label)),e.access(e.field.optionalLabel,e.activeItem)?t("span",{staticClass:"optional"},[e._v("Optional")]):e._e()]),"input"===e.field.type?t("div",{staticClass:"input-wrapper",class:[e.inputWrapperClass,e.field.wrapperClass],attrs:{"data-test":e.field.dataTest+"-input-wrapper"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.editProps[e.field.property],expression:"editProps[field.property]",modifiers:{trim:!0}},{name:"soft-focus",rawName:"v-soft-focus",value:e.autoFocus,expression:"autoFocus"}],ref:"element",attrs:{placeholder:e.field.placeholder,name:e.field.property,disabled:e.activeItem.disableEdit||e.access(e.field.disabled,e.activeItem),"data-test":e.field.dataTest+"-input",type:"text",autocapitalize:e.field.autoCapitalize?"on":"off",autocorrect:!1===e.field.autoCorrect?"off":"on",autocomplete:"off"},domProps:{value:e.editProps[e.field.property]},on:{keyup:e.clearWarnings,input:function(t){t.target.composing||e.$set(e.editProps,e.field.property,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.field.validate&&e.field.validate.maxLength?t("div",{staticClass:"remaining-characters",attrs:{"data-test":e.field.dataTest+"-remaining-characters"}},[e._v(e._s(e.remainingCharacters))]):e._e()]):"toggle"===e.field.type?t("form-toggle",{ref:"element",staticClass:"in-form",attrs:{name:e.field.property,label:e.field.label,tip:e.field.tip,"data-test":e.field.dataTest+"-input"},model:{value:e.editProps[e.field.property],callback:function(t){e.$set(e.editProps,e.field.property,t)},expression:"editProps[field.property]"}}):"select"===e.field.type?t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.editProps[e.field.property],expression:"editProps[field.property]"}],ref:"element",attrs:{name:e.field.property,disabled:e.activeItem.disableEdit||e.access(e.field.disabled,e.activeItem),"data-test":e.field.dataTest+"-input"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.editProps,e.field.property,t.target.multiple?i:i[0])}}},e._l(e.computedSelectOptions,(function(i,o){return t("option",{key:o,attrs:{disabled:i.disabled},domProps:{value:i.value,selected:i.selected}},[e._v(" "+e._s(i.label)+" ")])})),0)]):"icon"===e.field.type?t("form-select-icon",{ref:"element",attrs:{name:e.field.property,label:e.field.label,"data-test":e.field.dataTest+"-input"},model:{value:e.editProps[e.field.property],callback:function(t){e.$set(e.editProps,e.field.property,t)},expression:"editProps[field.property]"}}):t(e.field.type,{ref:"element",tag:"component",attrs:{field:e.field,"field-warnings":e.fieldWarnings,"view-manager":e.viewManager,"component-field-warnings":e.componentFieldWarnings,"disable-input":e.activeItem.disableEdit},on:{input:e.clearWarnings},model:{value:e.editProps[e.field.property],callback:function(t){e.$set(e.editProps,e.field.property,t)},expression:"editProps[field.property]"}}),e.field.subText?t("div",{staticClass:"input-description",domProps:{innerHTML:e._s(e.field.subText)}}):e._e()],1)}),[],!1,null,"f50cedef").exports;export{u as E};