import{s as t,A as e,k as o,l as a,m as i}from"./FlashMessage-BIzq9sd2.js";import{V as s}from"./ValueWithRandom-CRpe0OcH.js";import"./flashMessageQueue-CiwsHFUx.js";import"./dynamic-import-helper-Gh3O-GNF.js";import"./array-YYQw31d9.js";import"./main-DaaZyiXy.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./info-DdD9a7JK.js";import"./globalKeyEventManager-DTQSIy-h.js";import"./icon-close-DRlspKs3.js";import"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./AnimationOptions-BeQrIOaG.js";class n{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=t(e.speed)),void 0!==e.decay&&(this.decay=t(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class r extends s{constructor(){super(),this.animation=new n,this.direction="clockwise",this.path=!1,this.value=0}load(t){t&&(super.load(t),void 0!==t.direction&&(this.direction=t.direction),this.animation.load(t.animation),void 0!==t.path&&(this.path=t.path))}}const c=2*Math.PI;class l{constructor(t){this.container=t}init(t){const i=t.options.rotate;if(!i)return;t.rotate={enable:i.animation.enable,value:e(o(i.value)),min:0,max:c},t.pathRotation=i.path;let s=i.direction;if("random"===s){s=Math.floor(2*a())>0?"counter-clockwise":"clockwise"}switch(s){case"counter-clockwise":case"counterClockwise":t.rotate.status="decreasing";break;case"clockwise":t.rotate.status="increasing"}const n=i.animation;n.enable&&(t.rotate.decay=1-o(n.decay),t.rotate.velocity=o(n.speed)/360*this.container.retina.reduceFactor,n.sync||(t.rotate.velocity*=a())),t.rotation=t.rotate.value}isEnabled(t){const e=t.options.rotate;return!!e&&(!t.destroyed&&!t.spawning&&e.animation.enable&&!e.path)}loadOptions(t,...e){t.rotate||(t.rotate=new r);for(const o of e)t.rotate.load(null==o?void 0:o.rotate)}update(t,e){this.isEnabled(t)&&t.rotate&&(i(t,t.rotate,!1,"none",e),t.rotation=t.rotate.value)}}export{l as RotateUpdater};