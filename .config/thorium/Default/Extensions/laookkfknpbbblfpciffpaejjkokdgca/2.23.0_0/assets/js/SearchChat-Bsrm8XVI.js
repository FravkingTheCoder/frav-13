import{u as t}from"./index-C2sSf61p.js";import{c as e,i,r}from"./dynamic-import-helper-Gh3O-GNF.js";import{n as o}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{C as s}from"./ChatContent-CeI9o-mj.js";import{g as n}from"./globalKeyEventManager-DTQSIy-h.js";import"./array-YYQw31d9.js";import"./main-DaaZyiXy.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./AppView-D98wzsjm.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./icon-alert-BikrS7AG.js";import"./ai-CrUIKdlW.js";import"./chevron-left-CEz6uZvV.js";import"./SmoothReflow-44YdkIfk.js";import"./ResizeSensor-ZXOsDHeC.js";import"./allComponentsMounted-Dqy5K4Uf.js";import"./AppViewSwitchDynamic-DUaF00u2.js";import"./appViewSwitchMixin-BsLJ76Hr.js";import"./AppHeader-D7x6VYmc.js";import"./AppHeaderControl-kJjUFX4q.js";import"./constants-BfBD_H-d.js";import"./icon-close-DRlspKs3.js";import"./AppEmpty-D1SMtbWh.js";import"./BaseIcon-CCkbWtl5.js";import"./chat-C3HKwWQA.js";import"./chat-ChusYJjA.js";import"./icon-plus-B-FkYz15.js";import"./arrow-up-Co3aR3J6.js";const p={up:"up",down:"down"};const a=o({name:"SearchChat",components:{ChatContent:s,ProvideAppDimensions:o({name:"ProvideAppDimensions",provide(){const t=this;return{appDimensions:{get maxHeight(){return t.maxHeight},get height(){return t.rect.height.value},get width(){return t.rect.width.value}}}},props:{direction:{type:String,required:!0,validator:t=>Object.values(p).includes(t)}},setup(){const i=e(null);return{el:i,rect:t(i)}},computed:{maxHeight(){return this.direction===p.up?this.rect.bottom.value-i.dashboardVerticalPaddingPx:r.windowDimensions.height-this.rect.top.value-i.dashboardVerticalPaddingPx}}},(function(){var t=this;return(0,t._self._c)("div",{ref:"el",style:{"--content-max-height":t.maxHeight+"px"}},[t._t("default")],2)}),[],!1,null,null).exports},inject:["viewStateStore"],unreactive:()=>({directionEnum:p}),mounted(){n.registerEventListener("closeApp","keyup",27,(()=>this.$emit("close")))},destroyed(){n.removeEventListener("closeApp","keyup",27)}},(function(){var t=this,e=t._self._c;return e("provide-app-dimensions",{staticClass:"search-chat bg",class:{focused:t.viewStateStore.focused,unfocused:!t.viewStateStore.focused},attrs:{"data-test":"search-ask-ai",direction:t.directionEnum.up},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("chat-content",{on:{close:function(e){return t.$emit("close")}}})],1)}),[],!1,null,"8c09fc59").exports;export{a as default};