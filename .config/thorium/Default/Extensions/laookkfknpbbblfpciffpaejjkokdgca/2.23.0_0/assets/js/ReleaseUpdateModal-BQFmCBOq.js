import{A as t,G as s,L as e,u as a,a2 as i}from"./dynamic-import-helper-Gh3O-GNF.js";import{M as r}from"./ModalBox-C40-ftvI.js";import{s as o}from"./enums-Cgv4i8uw.js";import{n as l}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import"./array-YYQw31d9.js";import"./main-DaaZyiXy.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./close-IeUcFsRm.js";const d=new t({feature:"release update modal",modalId:o.RELEASE_UPDATE}),n=s({name:"ReleaseUpdateModal",components:{ModalBox:r},props:{title:{type:String,required:!0},description:{type:String,required:!0},notes:{type:Array,required:!0},visualSrc:{type:String,required:!0},visualIsVideo:{type:Boolean,required:!0},accentColor:{type:String,required:!0},buttons:{type:Array,required:!0}},emits:["dismiss"],data:()=>({settingsSynced:!1}),created(){m.once("sync:settings:complete",(()=>{this.settingsSynced=!0}))},methods:{dismissModal(){this.$emit("dismiss")},async triggerAnalyticsOnCallback(t,s){d.capture("release update modal button click",{text:s}),e.resolveDeferral(),await a((()=>this.settingsSynced)).toBe(!0),await t()}}}),c=()=>{i(((t,s)=>({"93376ae4":t.accentColor})))},u=n.setup;n.setup=u?(t,s)=>(c(),u(t,s)):c;const p=l(n,(function(){var t=this,s=t._self._c;return t._self._setupProxy,s("div",{staticClass:"release-update-modal",attrs:{"data-test":"release-update-modal"},on:{click:t.dismissModal}},[s("modal-box",{staticClass:"release-update-modal-box",on:{dismiss:t.dismissModal}},[s("header",{staticClass:"release-update-modal-box-header"},[s("p",{staticClass:"whats-new"},[t._v("What's New")]),s("h1",{staticClass:"title"},[t._v(t._s(t.title))]),s("p",{staticClass:"description"},[t._v(t._s(t.description))])]),s("div",{staticClass:"release-update-modal-box-center"},[s("ul",{staticClass:"notes-list"},t._l(t.notes,(function(e,a){return s("li",{key:a},[t._v(t._s(e))])})),0),s("div",{staticClass:"visual"},[t.visualIsVideo?s("video",{attrs:{src:t.visualSrc,autoplay:!t.$touch,muted:"",loop:""},domProps:{muted:!0}}):s("img",{attrs:{src:t.visualSrc,alt:"Release notes description image"}})])]),s("footer",{staticClass:"release-update-modal-box-footer",attrs:{"data-test":"release-update-buttons"}},t._l(t.buttons,(function(e,a){return s("button",{key:a,staticClass:"button",class:[e.primary?"cta-button":"button-tertiary"],attrs:{"data-test":"cta-button"},on:{click:function(s){t.triggerAnalyticsOnCallback(e.callback,e.text),e.dismiss&&t.dismissModal()}}},[t._v(" "+t._s(e.text)+" ")])})),0)])],1)}),[],!1,null,"4771b978").exports;export{p as default};