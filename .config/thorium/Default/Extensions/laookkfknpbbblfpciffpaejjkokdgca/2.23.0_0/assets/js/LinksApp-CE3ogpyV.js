const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LinksForm-CMWTR8f6.js","assets/js/AppHeader-D7x6VYmc.js","assets/js/AppHeaderControl-kJjUFX4q.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/AppHeaderControl-BU4A7Xbx.css","assets/js/constants-BfBD_H-d.js","assets/js/icon-close-DRlspKs3.js","assets/css/AppHeader-Cslc5PS9.css","assets/js/BaseForm-CAbyV7zb.js","assets/js/FormMessage-D8y-6rLo.js","assets/js/icon-alert-BikrS7AG.js","assets/css/FormMessage-BcXv0ZVT.css","assets/js/dynamic-import-helper-Gh3O-GNF.js","assets/js/array-YYQw31d9.js","assets/js/main-DaaZyiXy.js","assets/js/Logger-DgjqecXr.js","assets/js/string-DLOjEt1Y.js","assets/js/SmoothReflow-44YdkIfk.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/allComponentsMounted-Dqy5K4Uf.js","assets/css/SmoothReflow-C9vjifOL.css","assets/css/BaseForm-CdgC6Psc.css","assets/js/FormInput-CEvl15Rd.js","assets/js/FormFieldWrapper-CrSgQOtf.js","assets/css/FormFieldWrapper-Bg7cTjMQ.css","assets/js/SoftFocus-BUhesXB-.js","assets/js/BaseItemList-dKD1dgqB.js","assets/js/constants-BpVlFj04.js","assets/js/index-C2sSf61p.js","assets/css/BaseItemList-DjWk3rj_.css","assets/js/drag-Dj1BzyoD.js","assets/js/icon-plus-B-FkYz15.js","assets/js/AppView-D98wzsjm.js","assets/css/AppView-CsYj23U-.css","assets/js/links-B4VEy3PA.js","assets/js/constants-u23t4s7p.js","assets/js/compareObjects-BF7sSNEf.js","assets/js/pinia-CCjyjLnb.js","assets/js/FormToggle-h8Me6KUc.js","assets/js/ToggleSwitch-BMo4SbmD.js","assets/css/ToggleSwitch-CTfmYf-M.css","assets/css/FormToggle-DUKt37kY.css","assets/js/BaseDropdownOption-C6EewfIZ.js","assets/js/constants-CALDQiUE.js","assets/css/BaseDropdownOption-DaYMTb1b.css","assets/js/AppConfirmCancel-2_xBrO2S.js","assets/js/globalKeyEventManager-DTQSIy-h.js","assets/css/AppConfirmCancel-DUrPhER4.css","assets/js/BaseDropdown-x2dYnnCF.js","assets/js/BaseDropdownContent-DpVJFI_8.js","assets/css/BaseDropdownContent-DKsGy_8Z.css","assets/js/portal-vue.esm-BTKM9g0x.js","assets/js/icon-ellipsis-D7nTOXaQ.js","assets/css/BaseDropdown-CwtM7hMN.css","assets/js/FavIcon-DNJ6VCN3.js","assets/js/links-fallback-J-S_uhC9.js","assets/js/modal-D5eTjgvI.js","assets/js/enums-Cgv4i8uw.js","assets/js/BaseIcon-CCkbWtl5.js","assets/css/BaseIcon-CPmL0n7V.css","assets/js/icon-trash-BSyM-ydR.js","assets/css/LinksForm-Dpl-rPjo.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./main-DaaZyiXy.js";import e from"./AppPopup-kxasHFCt.js";import{A as i}from"./AppLoading-DWsYUtJy.js";import{A as s}from"./AppViewSwitchDynamic-DUaF00u2.js";import{A as n}from"./AppView-D98wzsjm.js";import{A as o}from"./AppHeader-D7x6VYmc.js";import{A as r}from"./AppEmpty-D1SMtbWh.js";import{O as a}from"./OptionsList-wwaRV4Eq.js";import{persistent as p}from"./reactiveCustomization-CaJFMm70.js";import{B as l}from"./BaseDropdownOption-C6EewfIZ.js";import{B as d}from"./BaseItemList-dKD1dgqB.js";import{L as c,a as k}from"./LinksListItem-wjK99-A3.js";import{a as u,L as w}from"./constants-u23t4s7p.js";import{a as f}from"./allComponentsMounted-Dqy5K4Uf.js";import{A as L}from"./AppConfirmCancel-2_xBrO2S.js";import{B as g}from"./BaseDropdown-x2dYnnCF.js";import{A as b}from"./AppHeaderControl-kJjUFX4q.js";import{ap as h,aq as j,b as v}from"./dynamic-import-helper-Gh3O-GNF.js";import{p as y}from"./promisifiedChrome-YDDyAvDe.js";import{n as S}from"./_plugin-vue2_normalizer-DeUNqxFl.js";import{B as _}from"./BaseDropdownDivider-Bay0Demn.js";import{b as A}from"./constants-CALDQiUE.js";import{d as I}from"./focusModeState-D4CLHiD7.js";import T from"./BaseIcon-CCkbWtl5.js";import x from"./icon-plus-B-FkYz15.js";import"./ResizeSensor-ZXOsDHeC.js";import"./globalKeyEventManager-DTQSIy-h.js";import"./array-YYQw31d9.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./SmoothReflow-44YdkIfk.js";import"./appViewSwitchMixin-BsLJ76Hr.js";import"./constants-BfBD_H-d.js";import"./icon-close-DRlspKs3.js";import"./VueBase-CYtBAh2Z.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-CCjyjLnb.js";import"./portal-vue.esm-BTKM9g0x.js";import"./constants-BpVlFj04.js";import"./index-C2sSf61p.js";import"./BaseDropdownText-2W0hM9-D.js";import"./FavIcon-DNJ6VCN3.js";import"./links-fallback-J-S_uhC9.js";import"./links-B4VEy3PA.js";import"./compareObjects-BF7sSNEf.js";import"./icon-lock-BDcjUj_s.js";import"./icon-pin-5KioIhLy.js";import"./icon-edit-CgpGeR-V.js";import"./icon-trash-BSyM-ydR.js";import"./BaseDropdownContent-DpVJFI_8.js";import"./icon-ellipsis-D7nTOXaQ.js";import"./LocalStorageStoreSyncedItem-CtVH-muf.js";const D=S({name:"LinksApp",components:{BaseIcon:T,LinksListItemNewTab:S({name:"LinksListItemNewTab",components:{BaseDropdownOption:l,BaseDropdown:g,LinksListItemIcon:c},inject:["capture"],props:{isTile:{type:Boolean,default:!1}},setup:()=>({browserName:h()}),computed:{openInNewTab:()=>m.models.bookmarksSettings.get("openInNewTab"),icon(){const t=h();if("Chrome"===t)return"chrome";if("Edge"===t)return"icon/browser/edge";if("Safari"===t)return"compass";throw new Error(`[Default New Tab] Platform not supported: ${t}`)}},methods:{open(t){this.capture("browser tab click"),y.tabs.openUrl(j(),this.openInNewTab||t.metaKey||"auxclick"===t.type,!0)},openSettings(){var t;null==(t=this.$refs["link-dropdown"])||t.closeDropdown(),m.commandManager.executeAsync("settings.display",null,{section:"bookmark-settings"})}}},(function(){var t=this,e=t._self._c;return e("li",{class:["link-list-item",{tile:t.isTile}],attrs:{"data-test":"chromium-list-item",title:`Default ${t.browserName} New Tab`},on:{click:t.open,auxclick:t.open}},[e("links-list-item-icon",{attrs:{"icon-src":t.icon}}),e("span",{staticClass:"link-title"},[t._v(t._s(t.browserName)+" Tab")]),e("base-dropdown",{ref:"link-dropdown",staticClass:"link-dropdown",attrs:{"container-class":"app","data-test":"chromium-list-item-dropdown",title:""}},[e("base-dropdown-option",{attrs:{"data-test":"chromium-item-settings"},on:{click:t.openSettings}},[t._v(" Settings ")])],1)],1)}),[],!1,null,"1e5c3621").exports,BaseDropdownDivider:_,BaseDropdown:g,AppConfirmCancel:L,AppHeaderControl:b,LinksForm:()=>t((()=>import("./LinksForm-CMWTR8f6.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61])),LinksListItem:k,BaseItemList:d,BaseDropdownOption:l,OptionsList:a,AppView:n,AppViewSwitchDynamic:s,AppLoading:i,AppPopup:e,AppHeader:o,AppEmpty:r},mixins:[f],inject:["viewStateStore","itemStore"],unreactive:()=>({LinksMode:u,DropdownOptionSpacing:A}),computed:{newTabEnabled:()=>v()&&"links"===m.models.bookmarksSettings.get("chromeTabLocation"),loading(){return this.itemStore.loading},loaded(){return this.itemStore.loaded},activeView(){return this.viewStateStore.activeView},activeViewId(){return this.viewStateStore.activeViewId},listViewActive(){return this.activeViewId===w.List},pinnedLinksVisible(){const t=I.currentValue;return!this.pinnedEmpty&&(this.$mobile||t)},pinnedLinks(){return this.itemStore.getPinnedItems},pinnedLinksOrderIds:{get(){return this.pinnedLinks.map((t=>t.id))},async set(t){await this.itemStore.updatePartialRootLinksOrderIds(t)}},pinnedTeamLinks(){return this.itemStore.getPinnedTeamItems},links(){return this.itemStore.getUnPinnedItems},linksOrderIds:{get(){return this.links.map((t=>t.id))},async set(t){await this.itemStore.updatePartialRootLinksOrderIds(t)}},teamLinks(){return this.itemStore.getUnPinnedTeamItems},empty(){return this.loaded&&0===this.links.length&&!this.newTabEnabled},teamEmpty(){return this.loaded&&0===this.teamLinks.length},pinnedEmpty(){return this.loaded&&0===this.pinnedLinks.length&&0===this.pinnedTeamLinks.length},mode:{get:()=>p.linksMode,set(t){p.linksMode=t}}},methods:{async addLink(){this.itemStore.addItem(),await this.setActiveView(w.Form)},closePopup(){return this.viewStateStore.togglePopup(!1)},setActiveView(t){return this.viewStateStore.setActiveView(t)},openSettings(){var t;null==(t=this.$refs.settingsDropdown)||t.closeDropdown(),m.commandManager.executeAsync("settings.display",null,{section:"bookmark-settings"})},triggerAppOpenEvent(){m.trigger("links:updated")}}},(function(){var t=this,e=t._self._c;return e("app-popup",{attrs:{region:"top-left",position:"bottom-right","data-test":"links-app",focused:t.viewStateStore.focused},on:{close:t.closePopup},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"},on:{"after-enter":t.triggerAppOpenEvent}},[t.loading?e("app-loading"):t.loaded?e("div",{staticClass:"app-content"},[e("app-view-switch-dynamic",{attrs:{"order-key":t.activeView.order}},[t.listViewActive?e("app-view",{staticClass:"list links-list",attrs:{"data-test":"links-links-view"},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"data-test":"header"},on:{close:t.closePopup},scopedSlots:t._u([{key:"left",fn:function(){return[e("base-icon",{staticClass:"app-header-icon",attrs:{src:"icon/apps/links"}}),e("span",{staticClass:"app-header-name"},[t._v("Links")])]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{attrs:{"data-test":"new"},on:{click:t.addLink}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:x}})],1),e("base-dropdown",{ref:"settingsDropdown"},[e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between},on:{click:function(e){t.mode=t.mode===t.LinksMode.List?t.LinksMode.Tile:t.LinksMode.List}}},[t._v(" Mode "),e("options-list",{attrs:{options:[{value:t.LinksMode.List,label:"List"},{value:t.LinksMode.Tile,label:"Tile"}]},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.openSettings}},[t._v(" Settings ")])],1)]},proxy:!0}],null,!1,2431093998)})]},proxy:!0},{key:"body",fn:function(){return[t.empty&&t.teamEmpty&&!t.pinnedLinksVisible&&!t.newTabEnabled?e("app-empty",{attrs:{title:"Add a link to get started","button-text":"Add Link","button-data-test":"new-link"},on:{buttonClick:t.addLink}}):[t.pinnedLinksVisible?[e("span",{staticClass:"label"},[t._v("Pinned")]),e("base-item-list",{attrs:{wrap:t.mode===t.LinksMode.Tile}},t._l(t.pinnedTeamLinks,(function(i){return e("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":t.mode===t.LinksMode.Tile,"is-team-link":!0}})})),1),e("base-item-list",{attrs:{wrap:t.mode===t.LinksMode.Tile},model:{value:t.pinnedLinksOrderIds,callback:function(e){t.pinnedLinksOrderIds=e},expression:"pinnedLinksOrderIds"}},t._l(t.pinnedLinks,(function(i){return e("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":t.mode===t.LinksMode.Tile}})})),1)]:t._e(),t.teamEmpty?t._e():[!t.empty||t.pinnedLinksVisible?e("span",{staticClass:"label"},[t._v("Team")]):t._e(),e("base-item-list",{attrs:{wrap:t.mode===t.LinksMode.Tile}},t._l(t.teamLinks,(function(i){return e("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":t.mode===t.LinksMode.Tile,"is-team-link":!0}})})),1)],!t.empty&&!t.teamEmpty||t.pinnedLinksVisible&&!t.empty?e("span",{staticClass:"label"},[t._v(t._s(t.$team?"Personal":"Unpinned"))]):t._e(),e("base-item-list",{attrs:{wrap:t.mode===t.LinksMode.Tile},model:{value:t.linksOrderIds,callback:function(e){t.linksOrderIds=e},expression:"linksOrderIds"}},[t.newTabEnabled?e("links-list-item-new-tab",{key:"chrome-tab",attrs:{draggable:!1,"is-tile":t.mode===t.LinksMode.Tile}}):t._e(),t._l(t.links,(function(i){return e("links-list-item",{key:i.id,attrs:{"link-group":i,"is-tile":t.mode===t.LinksMode.Tile}})}))],2)]]},proxy:!0},{key:"confirm",fn:function(){return[t.viewStateStore.confirmationProps?e("app-confirm-cancel",t._b({attrs:{"data-test":"confirm-cancel"}},"app-confirm-cancel",t.viewStateStore.confirmationProps,!1)):t._e()]},proxy:!0}],null,!1,10088536)}):e("links-form")],1)],1):t._e()],1)],1)}),[],!1,null,"f6f90ec5").exports;export{D as default};