const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/DateTimePicker-D5nd3G7A.js","assets/js/CollapsibleInput-CB0AxnNz.js","assets/js/SmoothReflow-44YdkIfk.js","assets/js/ResizeSensor-ZXOsDHeC.js","assets/js/allComponentsMounted-Dqy5K4Uf.js","assets/js/dynamic-import-helper-Gh3O-GNF.js","assets/js/array-YYQw31d9.js","assets/js/main-DaaZyiXy.js","assets/js/Logger-DgjqecXr.js","assets/js/string-DLOjEt1Y.js","assets/js/_plugin-vue2_normalizer-DeUNqxFl.js","assets/css/SmoothReflow-C9vjifOL.css","assets/js/icon-x-caret-half-Ciiq12QG.js","assets/css/CollapsibleInput-fGIemUpW.css","assets/js/reactiveCustomization-CaJFMm70.js","assets/js/VueBase-CYtBAh2Z.js","assets/js/_commonjsHelpers-B3K3fdV-.js","assets/js/ClickOutside-DCLvi2fj.js","assets/js/pinia-CCjyjLnb.js","assets/js/portal-vue.esm-BTKM9g0x.js","assets/css/DateTimePicker-D7PAE7vC.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./main-DaaZyiXy.js";import"./VueBase-CYtBAh2Z.js";import{i as e,l as i,b as a,p as s,r as d,s as n,m as o}from"./itemCollectionMixins-DFratNST.js";import{V as r}from"./dynamic-import-helper-Gh3O-GNF.js";import{d as p}from"./itemDataServiceMixins-D2Ei-6Hc.js";import{m as u}from"./metricMetadata-DNyTfE06.js";import{c}from"./captureMixin-BByXqhGA.js";import"./_commonjsHelpers-B3K3fdV-.js";import"./ClickOutside-DCLvi2fj.js";import"./pinia-CCjyjLnb.js";import"./portal-vue.esm-BTKM9g0x.js";import"./reactiveCustomization-CaJFMm70.js";import"./array-YYQw31d9.js";import"./Logger-DgjqecXr.js";import"./string-DLOjEt1Y.js";import"./namesMixin-vAeWzg7C.js";import"./countdowns-q6nMDIs4.js";import"./metrics-gNtWZ-jH.js";import"./clocks-0rtjmFrI.js";import"./enums-Cgv4i8uw.js";const h=r.extend({mixins:[e,i],data:()=>({id:null,dateEdit:{date:null,hasHours:!1,utcDate:null},name:"",isTeam:null,pinned:!1,icon:"calendar",random:!1,readOnly:!1,props:["pinned","name","dateEdit","icon"]}),unreactive:()=>({months:m.constants.monthNamesShort,daysOfWeek:m.constants.dayNamesShort,timeOptions:{hour:"numeric",minute:"2-digit"}}),computed:{date:()=>m.models.date,currentTime(){return this.date.get("date").getTime()},tooltip(){let t=new Date(this.dateEdit.utcDate);return`${this.daysOfWeek[t.getDay()]} ${this.months[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`},time(){return new Date(this.dateEdit.utcDate).toLocaleTimeString("en-US",this.timeOptions)+" "},value(){let t,e=this.dateEdit.utcDate,i=this.calcTimeLeft(this.currentTime,e),a=this.dateEdit.hasHours,s="";return a&&i.minsTot<60?(t=0===i.minsTot?"Now":i.minsTot,s="m"):a&&i.hoursTot<24?(t=i.hoursTot,s="h"):(t=a||0!==i.nights?i.nights:"Today",s="d"),i.past&&(s+=" ago"),"Now"!==t&&"Today"!==t||(s=""),t+s}},watch:{"editProps.dateEdit.date"(t){this.editProps.dateEdit&&t&&t.getTime&&(this.editProps.dateEdit.utcDate=t.getTime())},"dateEdit.date"(t){this.dateEdit&&t&&t.getTime&&(this.dateEdit.utcDate=t.getTime())}},methods:{updateData:function(t){this.dateEdit.utcDate=Number.parseInt(t.utcDate),this.dateEdit.hasHours=t.hasHours,this.dateEdit.date=new Date(this.dateEdit.utcDate),this.archived=t.archived,this.isTeam=t.isTeam||!1,this.name=t.name,this.pinned=t.pinned,this.id=t.id,this.readOnly=t.readOnly,"string"==typeof t.icon&&(this.icon=t.icon)},setDefaultDate:function(){if(!this.dateEdit.utcDate){let t=new Date((new Date).getTime()+6048e5);this.dateEdit.utcDate=t.getTime()}return this.dateEdit.utcDate},calcTimeLeft(t,e){let i=(e-t)/6e4,a=i/60,s=m.utils.nightsBetween(new Date(t),new Date(e)),d=i<0;return{minsTot:Math.abs(Math.round(i)),hoursTot:Math.abs(Math.round(a)),nights:Math.abs(s),past:d}}}}),l=new(r.extend({unreactive:()=>({type:"countdowns"}),mixins:[p]})),D=()=>t((()=>import("./DateTimePicker-D5nd3G7A.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])),E=new(r.extend({mixins:[a,s,d,n,o,c((()=>({is_paid_event:!0})))],unreactive(){return{...u.countdowns,Model:h,dataService:l,visibleSetting:"countdownVisible",sort:(t,e)=>this.sortPinned(t,e,((t,e)=>t.dateEdit.date-e.dateEdit.date)),dashSort:(t,e)=>e.dateEdit.date-t.dateEdit.date,fields:[{property:"name",class:"item-body",type:"input",label:"Name",required:!0,dataTest:"name",autoCapitalize:!0},{property:"dateEdit",type:D},{property:"icon",type:"icon",label:"Icon",dataTest:"icon"},{property:"pinned",type:"toggle",label:"Pin to dashboard",dataTest:"pinned"}]}},methods:{getAddRequestBody:t=>(t.editProps.dateEdit.utcDate||(t.editProps.dateEdit.utcDate=t.setDefaultDate()),{name:m.utils.capitalizeFirstLetter(t.editProps.name),utcDate:t.editProps.dateEdit.utcDate,hasHours:t.editProps.dateEdit.hasHours,pinned:t.editProps.pinned,icon:t.editProps.icon})}}));export{E as default};